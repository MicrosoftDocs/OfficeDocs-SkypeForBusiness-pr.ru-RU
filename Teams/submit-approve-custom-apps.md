---
title: Отправка и утверждение пользовательских приложений с помощью API отправки приложений Teams
author: ashishguptaiitb
ms.author: guptaashish
manager: prkosh
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
ms.subservice: teams-apps
audience: Admin
ms.date: 09/19/2022
ms.collection:
- M365-collaboration
appliesto:
- Microsoft Teams
f1.keywords:
- NOCSH
ms.localizationpriority: high
search.appverid: MET150
description: Узнайте, как утвердить пользовательские приложения, отправляемые с помощью API отправки приложений Teams в Microsoft Teams.
ms.openlocfilehash: 83a4896fbd849cf55020854fd617da003d589cb0
ms.sourcegitcommit: ff161779577ce9cc892f1b6b8861ad49ff4c3ca3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2022
ms.locfileid: "69131268"
---
# <a name="publish-a-custom-app-submitted-using-the-teams-app-submission-api"></a>Публикация пользовательского приложения, отправленного с помощью API отправки приложений Teams

Эта статья содержит подробные рекомендации по продвижению приложения Teams от разработки к развертыванию и обнаружению. Вы получите общие сведения о сетевых интерфейсах, которые Teams предоставляет на протяжении всего жизненного цикла приложения, чтобы упростить разработку, развертывание пользовательских приложений и управление ими в магазине приложений вашей организации.

Мы рассмотрим каждый этап жизненного цикла, включая использование разработчиками API отправки приложений Teams для отправки пользовательских приложений непосредственно в Центр администрирования Microsoft Teams для проверки и утверждения, настройку политики для управления приложениями для пользователей в организации и обнаружение этих приложений пользователями в Teams.

:::image type="content" source="media/custom-app-lifecycle.png" alt-text="Обзор приложения от разработки до развертывания.":::

Это руководство посвящено аспектам приложения, связанным с Teams, и предназначено для администраторов и ИТ-специалистов. Подробнее о разработке приложений Teams см. в [документации разработчика Teams](/microsoftteams/platform).

> [!NOTE]
> При публикации пользовательского приложения Teams оно доступно пользователям в магазине приложений вашей организации. Существует два способа публикации пользовательского приложения, и способ, который вы используете, зависит от того, как вы получаете приложение. В этой статье основное внимание уделяется процессам утверждения и публикации пользовательского приложения, которое разработчик отправляет через API отправки приложений Teams. Другой метод, отправка пользовательского приложения, используется, когда разработчик отправляет вам пакет приложения в формате .zip. Дополнительные сведения об этом методе см. в статье [Публикация пользовательского приложения путем отправки пакета приложения](/microsoftteams/upload-custom-apps). Мини-приложение "Утверждение приложения" недоступно в клиентах GCC.

> [!IMPORTANT]
> Этот метод недоступен в средах GCC. [Отправьте пользовательское приложение](upload-custom-apps.md), чтобы опубликовать его в средах GCC.

## <a name="develop"></a>Разработка

### <a name="create-the-app"></a>Создание приложения

Платформа разработчиков Microsoft Teams упрощает интеграцию собственных приложений и служб для повышения производительности, ускорения принятия решений и налаживания совместной работы на основе существующего контента и рабочих процессов. Приложения, созданные на платформе Teams, являются мостами между клиентом Teams и вашими службами и рабочими процессами, перенося их непосредственно в контекст вашей платформы для совместной работы. Подробнее см. в [документации для разработчиков Teams](/microsoftteams/platform).

### <a name="submit-the-app"></a>Отправка приложения

Когда приложение будет готово к использованию в рабочей среде, разработчик может отправить его с помощью API отправки приложений Teams, который можно вызвать из [API Graph](/graph/api/teamsapp-publish?view=graph-rest-beta&tabs=http#example-2-upload-a-new-application-for-review-to-an-organizations-app-catalog&preserve-view=true), интегрированной среды разработки (IDE), например, Visual Studio Code, или платформы, такой как Power Apps и Power Virtual Agents. После этого приложение станет доступным на странице [Управление приложениями](/microsoftteams/manage-apps) в Центре администрирования Teams, где его можно будет просмотреть и утвердить.

API отправки приложений Teams, [созданный на основе Microsoft Graph](/graph/api/teamsapp-publish?tabs=http&view=graph-rest-beta#example-2-upload-a-new-application-for-review-to-an-organizations-app-catalog&preserve-view=true), позволяет вашей организации разрабатывать приложения на выбранной платформе и автоматизировать процесс отправки на утверждение для пользовательских приложений в Teams.

Ниже приведен пример того, как выглядит процесс отправки приложения в Visual Studio Code.

:::image type="content" source="media/custom-app-lifecycle-submit-app.png" alt-text="Снимок экрана: отправка приложения в Visual Studio Code.":::

Имейте в виду, что это еще не публикация приложения в магазине приложений вашей организации. На этом шаге приложение отправляется в Центр администрирования Teams, где его можно утвердить для публикации в магазине приложений вашей организации.

Дополнительные сведения об использовании API Graph для отправки приложений см. [здесь](/graph/api/teamsapp-publish?tabs=http&view=graph-rest-beta#example-2-upload-a-new-application-for-review-to-an-organizations-app-catalog&preserve-view=true).

## <a name="notify"></a>Уведомить

Вы можете включить уведомления, чтобы узнавать, когда разработчики отправляют новое приложение для проверки и утверждения. Вы также будете получать уведомления об отправке разработчиками обновлений приложения. Чтобы включить уведомления об отправке приложений в Центре администрирования Teams, перейдите в раздел **Уведомления и оповещения** > **[Правила](https://admin.teams.microsoft.com/notifications/rules)** > **Отправка приложений** активируйте правило, изменив состояние на **Активно**. По умолчанию этот параметр отключен. Чтобы включить этот параметр, необходимо быть глобальным администратором или администратором Teams.

После включения этого параметра вы будете получать уведомления в группе **Оповещения и уведомления администратора** в новом канале с именем **Отправка приложений**. Кроме того, можно выбрать существующую группу и канал для получения уведомлений, доставляемых конкретной группе и каналу. Для этого выполните следующие действия:

1. В правиле **Отправка приложений** установите флажок **Оповещения канала** в разделе **Действия**.
1. Нажмите кнопку **Выбрать канал**.
1. Найдите группу для добавления.
1. Найдите канал для добавления.
1. Нажмите **Применить**.

   :::image type="content" source="media/channel-alert.png" alt-text="Флажок уведомления об оповещении пользовательского канала." lightbox="media/channel-alert.png":::

> [!NOTE]
> Установите флажок **Оповещение канала по умолчанию**, чтобы получать уведомления в группе **Оповещения и уведомления администратора** в канале **Отправка приложений**.

:::image type="content" source="media/default-channel-alert.png" alt-text="Флажок уведомления об оповещении канала по умолчанию." lightbox="media/default-channel-alert.png":::

Вы также можете настроить уведомления для внешнего веб-перехватчика, указав URL-адрес общедоступного веб-перехватчика после установки флажка **Веб-перехватчик**. Полезные данные уведомления JSON будут отправлены на URL-адрес веб-перехватчика.

:::image type="content" source="media/app-submission-notification.png" alt-text="Уведомление об отправке приложения." lightbox="media/app-submission-notification.png":::

После настройки правила отправки приложений можно открыть карточки уведомлений в указанном канале, чтобы просмотреть сведения о приложении, и выбрать **Просмотреть сведения**, чтобы открыть приложения в Центре администрирования Teams.

## <a name="validate"></a>Проверить

Страница [Управление приложениями](/microsoftteams/manage-apps) в Центре администрирования Teams (в левой области навигации перейдите в раздел [**Приложения Teams** > **Управление приложениями**](https://admin.teams.microsoft.com/manage-apps)) позволяет просмотреть все приложения Teams для вашей организации. Мини-приложение **Ожидание утверждения** в верхней части страницы позволяет узнать, когда настраиваемое приложение отправляется на утверждение.

В таблице новое отправленное приложение автоматически отображает **Состояние публикации** **Отправлено** и **Состояние** **Заблокировано**. Чтобы быстро найти приложение можно отсортировать столбец **Состояние публикации** по убыванию.

:::image type="content" source="media/custom-app-lifecycle-validate-app.png" alt-text="Состояние публикации." lightbox="media/custom-app-lifecycle-validate-app.png":::

Щелкните имя приложения, чтобы перейти на страницу сведений о приложении. На вкладке **Сведения** вы можете просмотреть сведения о приложении, включая описание, состояние, отправителя и идентификатор приложения.

:::image type="content" source="media/custom-app-lifecycle-app-details.png" alt-text="Страница сведений о приложении для отправленного приложения." lightbox="media/custom-app-lifecycle-app-details.png":::

Дополнительные сведения об использовании API Graph для проверки **Состояния публикации** см. [здесь](/graph/api/appcatalogs-list-teamsapps?tabs=http&view=graph-rest-beta#example-3-find-application-based-on-the-teams-app-manifest-id&preserve-view=true).

## <a name="publish"></a>Публикация

Когда вы будете готовы сделать приложение доступным для пользователей, опубликуйте его.

1. Войдите в Центр администрирования Teams и перейдите в **Приложения Teams** > **[Управление приложениями](https://admin.teams.microsoft.com/policies/manage-apps)**.
1. Выберите имя приложения, чтобы перейти на страницу сведений о приложении, а затем в поле **Состояние публикации** выберите **Опубликовать**.

    :::image type="content" source="media/submitted-app-pending-action.png" alt-text="Кнопка публикации на странице сведений о приложении.":::

После публикации приложения **Состояние публикации** изменится на **Опубликовано**, а **Состояние** изменится на **Разрешено**.

## <a name="set-up-and-manage"></a>Настройка и управление

### <a name="control-access-to-the-app"></a>Управление доступом к приложению

По умолчанию все пользователи в организации могут получить доступ к приложению в магазине приложений вашей организации. Чтобы ограничить и контролировать, кто имеет разрешение на использование приложения, можно создать и назначить политику разрешений приложения. Дополнительные сведения см. в статье [Управление политиками и параметрами пользовательских приложений в Teams](teams-app-permission-policies.md).

### <a name="pin-and-install-the-app-for-users-to-discover"></a>Закрепите и установите приложение, чтобы пользователи могли его обнаружить

По умолчанию, чтобы пользователи могли найти приложение, они должны перейти в магазин приложений вашей организации для обзора или для поиска приложения. Чтобы упростить пользователям поиск приложения, можно закрепить его на панели приложений в Teams. Для этого создайте политику настройки приложения и назначьте ее пользователям. Дополнительные сведения см. в статье [Управление политиками и параметрами пользовательских приложений в Teams](teams-app-setup-policies.md).

### <a name="search-the-audit-log-for-teams-app-events"></a>Поиск событий приложения Teams в журнале аудита

Вы можете выполнить поиск в журнале аудита, чтобы просмотреть действия приложений Teams в вашей организации. Дополнительные сведения о поиске в журнале аудита и просмотре списка действий Teams, регистрируемых в журнале аудита, см. в статье [Поиск событий Teams в журнале аудита](audit-log-events.md).

Прежде чем выполнять поиск в журнале аудита, необходимо сначала включить функцию аудита в [Центре безопасности и соответствия требованиям](https://sip.protection.office.com/). Дополнительные сведения см. в статье [Включение и отключение поиска в журнале аудита](/microsoft-365/compliance/turn-audit-log-search-on-or-off?view=o365-worldwide&preserve-view=true). Обратите внимание, что данные аудита доступны только с момента его включения.

## <a name="discover-and-adopt"></a>Обнаружение и внедрение

Пользователи, у которых есть разрешения на доступ к приложению, могут найти его в магазине приложений вашей организации. Перейдите в раздел **Создано для *Название вашей организации*** на странице "Приложения", чтобы найти пользовательские приложения вашей организации.

:::image type="content" source="media/custom-app-lifecycle-discovery.png" alt-text="Страница приложений с опубликованным приложением." lightbox="media/custom-app-lifecycle-discovery.png":::

Если вы создали и назначили политику настройки приложения, приложение закрепляется на панели приложения в Teams для удобного доступа тех пользователей, которым назначена политика.

## <a name="update"></a>Обновление

Чтобы обновить приложение, разработчики должны продолжать следовать инструкции, описанной в разделе [Разработка](#develop).

Когда разработчик отправит обновление в опубликованное пользовательское приложение, вы получите уведомление в мини-приложении **Ожидание утверждения** на странице [Управление приложениями](/microsoftteams/manage-apps). В таблице **Состояние публикации** приложения будет установлено как **Обновление отправлено**. Если вы включили уведомления об отправке приложения, вы также получите уведомление в группе **Оповещения и уведомления администратора** в канале **Отправка приложений**. Карточка уведомления будет содержать ссылку для прямого перехода к приложению в Центре администрирования Teams. Дополнительные сведения о включении уведомлений об отправке приложения см. в разделе [Уведомления](#notify).

:::image type="content" source="media/custom-app-lifecycle-update-submitted.png" alt-text="Страница &quot;Управление приложениями&quot; с запросами, ожидающими рассмотрения, и состоянием приложения." lightbox="media/custom-app-lifecycle-update-submitted.png":::

Чтобы просмотреть и опубликовать обновление приложения, выполните следующее.

1. В левой панели навигации Центра администрирования Microsoft Teams выберите **Приложения Teams** > **Управление приложениями**.
1. Щелкните имя приложения, чтобы перейти на страницу сведений о приложении, а затем выберите **Доступные обновления**, чтобы просмотреть сведения об обновлении.

   :::image type="content" source="media/custom-app-lifecycle-update-app.png" alt-text="Страница сведений о приложении." lightbox="media/custom-app-lifecycle-update-app.png":::

1. Когда все будет готово, нажмите **Опубликовать**, чтобы опубликовать обновление. Это приведет к замене существующего приложения, обновлению номера версии и изменению **Состояния публикации** на **Опубликовано**. Все политики разрешений приложений и политики настройки приложений сохранятся для обновленного приложения.

    Если вы отклоняете обновление, то опубликованной остается более ранняя версия приложения.

Учитывайте следующее:

* После утверждения приложения любой пользователь может отправить обновление для него. Это означает, что другие разработчики, включая разработчиков, которые изначально отправили приложение, могут отправить обновление в приложение.
* Когда разработчик отправляет приложение и запрос находится в ожидании рассмотрения, только тот же разработчик может отправить обновление в приложение. Другие разработчики могут отправить обновление только после утверждения приложения.

Дополнительные сведения об использовании API Graph для обновления приложений см. [здесь](/graph/api/teamsapp-update?view=graph-rest-1.0&tabs=http&preserve-view=true).

## <a name="related-articles"></a>Статьи по теме

* [Публикация пользовательского приложения путем отправки пакета приложения](upload-custom-apps.md)
* [Управление приложениями в Центре администрирования Microsoft Teams](manage-apps.md)
* [Управление политиками и параметрами для пользовательских приложений](teams-custom-app-policies-and-settings.md)
* [Управление политиками разрешений для приложений в Teams](teams-app-permission-policies.md)
* [Управление политиками настройки приложений в Teams](teams-app-setup-policies.md)
* [Мониторинг и оповещения Teams](alerts/teams-admin-alerts.md)
* [API Microsoft Graph для приложений Teams](alerts/teams-admin-alerts.md)
