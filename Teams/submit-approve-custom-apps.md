---
title: Отправка и утверждение пользовательских приложений с помощью API отправки приложений Teams
author: cichur
ms.author: v-cichur
manager: serdars
ms.reviewer: joglocke, vaibhava
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
audience: Admin
ms.collection:
- M365-collaboration
appliesto:
- Microsoft Teams
f1.keywords:
- NOCSH
localization_priority: Normal
search.appverid: MET150
description: Узнайте, как утвердить пользовательские приложения, отправленные с помощью API отправки приложений Teams в Microsoft Teams.
ms.openlocfilehash: 0003bc218b425383ba117296ba847a637d76ac43
ms.sourcegitcommit: 27bfa015413bc7742bca4ea227e0324da0c740d7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/08/2021
ms.locfileid: "50145806"
---
# <a name="publish-a-custom-app-submitted-through-the-teams-app-submission-api"></a>Публикация пользовательского приложения, отправленного через API отправки приложений Teams

## <a name="overview"></a>Обзор

> [!NOTE]
> Когда вы публикуете пользовательское приложение Teams, оно доступно пользователям в магазине приложений вашей организации. Существует два способа публикации пользовательского приложения и способ его использования зависит от того, как вы его получаете. **В этой статье основное внимание** уделяется утверждению и публикации пользовательского приложения, которое разработчики могут отправить с помощью API отправки приложения Teams. Другой способ — отправка пользовательского приложения — используется, когда разработчик отправляет вам пакет приложения в формате ZIP. Дополнительные информацию об этом способе см. в публикации пользовательского <a href="https://docs.microsoft.com/microsoftteams/upload-custom-apps" target="_blank">приложения путем отправки пакета приложения.</a> Мини-приложение "Утверждение" не доступно в клиентах GCC. 

> [!IMPORTANT]
> Этот метод в настоящее время не доступен для сред GCC. Необходимо использовать *отправку пользовательского способа* приложения.

В этой статье вы можете найти все рекомендации по от разработки до развертывания до обнаружения. Вы получите общие сведения о связанных между собой впечатлениях, которые Teams предоставляет на весь жизненный цикл приложения, чтобы упростить разработку, развертывание и управление настраиваемыми приложениями в магазине приложений вашей организации.

Мы покроем каждый этап жизненного цикла, включая то, как разработчики могут использовать API отправки приложений Teams для отправки пользовательских приложений непосредственно в Центр администрирования Microsoft Teams, чтобы вы могли просмотреть и утвердить их, настроить политики для управления приложениями для пользователей в организации и как пользователи будут их обнаруживать в Teams.

![Обзор приложения от разработки до развертывания](media/custom-app-lifecycle.png)

В этом руководстве основное внимание уделяется аспектам приложения Teams и предназначено для администраторов и ИТ-специалистов. Сведения о разработке приложений Teams см. в документации <a href="https://docs.microsoft.com/microsoftteams/platform" target="_blank">разработчика Teams.</a>

## <a name="develop"></a>Разработка

### <a name="create-the-app"></a>Создание приложения

Платформа разработчиков Microsoft Teams позволяет разработчикам легко интегрировать свои приложения и службы, чтобы повысить производительность, быстрее принимать решения и создавать совместную работу над существующим контентом и рабочими процессами. Приложения, встроенные в платформу Teams, на разных платформах являются мостом между клиентом Teams и вашими службами и рабочего процессами, и они вырезаются непосредственно в контексте вашей платформы совместной работы. Дополнительные сведения можно найти в документации <a href="https://docs.microsoft.com/microsoftteams/platform" target="_blank">разработчиков Teams.</a>

### <a name="submit-the-app"></a>Отправить приложение

Когда приложение будет готово к использованию в производственной среде, разработчик может отправить приложение с помощью API отправки приложения Teams, который можно получить из <a href="https://docs.microsoft.com/graph/api/teamsapp-publish?view=graph-rest-beta&tabs=http#example-2-upload-a-new-application-for-review-to-an-organizations-app-catalog" target="_blank" target="_blank">Graph API,</a>интегрированной среды разработки (IDE), например кода Visual Studio, или платформы, например Power Apps и виртуальных агентов Power. В этом случае приложение <a href="https://docs.microsoft.com/microsoftteams/manage-apps" target="_blank"></a> будет доступно на странице "Управление приложениями" Центра администрирования Microsoft Teams, где вы, администратор, сможете просмотреть и утвердить его.this

API отправки приложений Teams, созданный на основе <a href="https://docs.microsoft.com/graph/api/teamsapp-publish?view=graph-rest-beta&tabs=http#example-2-upload-a-new-application-for-review-to-an-organizations-app-catalog" target="_blank">Microsoft Graph,</a>позволяет вашей организации разрабатывать приложения на нужной платформе и автоматизировать процесс отправки на утверждение для пользовательских приложений в Teams.

Вот как выглядит этот шаг отправки приложения в Visual Studio кода:

![отправка приложения в Visual Studio кода](media/custom-app-lifecycle-submit-app.png)

Имейте в виду, что при этом приложение не публикуется в магазине приложений вашей организации. На этом этапе приложение передается в Центр администрирования Microsoft Teams, где его можно утвердить для публикации в магазине приложений вашей организации.

Дополнительные сведения об использовании API Graph для отправки приложений см. <a href="https://docs.microsoft.com/graph/api/teamsapp-publish?view=graph-rest-beta&tabs=http#example-2-upload-a-new-application-for-review-to-an-organizations-app-catalog" target="_blank">здесь.</a>

## <a name="validate"></a>Проверить

Страница <a href="https://docs.microsoft.com/microsoftteams/manage-apps" target="_blank">"Управление приложениями"</a> в Центре администрирования Microsoft Teams (на левой навигации перейдите в "Управление приложениями **Teams")** позволяет просмотреть все приложения  >  Teams для вашей организации. **Мини-приложение ожидающих** утверждения в верхней части страницы сообщает, когда настраиваемые приложения отправлены на утверждение.

В таблице недавно отправленные приложения автоматически  показывают состояние  публикации "Отправлено" и **"Состояние** **заблокирована".** Чтобы быстро найти **приложение, можно** отсортировать столбец состояния публикации в порядке убыния.

![состояние публикации ](media/custom-app-lifecycle-validate-app.png)

Щелкните имя приложения, чтобы перейти на страницу сведений о приложении. На **вкладке "О** себе" можно просмотреть сведения о приложении, включая описание, состояние, сведения об отправке и ИД приложения.

![страница сведений о приложении для отправленного приложения](media/custom-app-lifecycle-app-details.png)

Дополнительные сведения об использовании API Graph для проверки состояния **публикации** см. <a href="https://docs.microsoft.com/graph/api/appcatalogs-list-teamsapps?view=graph-rest-beta&tabs=http#example-3-find-application-based-on-the-teams-app-manifest-id" target="_blank">здесь.</a>

## <a name="publish"></a>Опубликовать

Когда приложение будет готово к тому, чтобы сделать его доступным для пользователей, опубликуем его.

1. В левой области навигации Центра администрирования Microsoft Teams перейдите в приложение **Teams**  >  **"Управление приложениями".**
2. Щелкните имя приложения, чтобы перейти на страницу сведений о приложении, а затем в поле состояния публикации выберите  "Опубликовать". 

    После публикации приложения  состояние публикации изменится на  "Опубликовано",  а состояние автоматически изменится на "Разрешено". 

## <a name="set-up-and-manage"></a>Настройка и управление

### <a name="control-access-to-the-app"></a>Управление доступом к приложению

По умолчанию доступ к приложению имеют все пользователи в магазине приложений организации. Чтобы ограничить разрешения на использование приложения и управлять им, можно создать и назначить политику разрешений для приложений. Дополнительные узнать см. в <a href="https://docs.microsoft.com/microsoftteams/teams-app-permission-policies" target="_blank">управлении политиками разрешений приложений в Teams.</a>

### <a name="pin-and-install-the-app-for-users-to-discover"></a>Закрепление и установка приложения для обнаружения

По умолчанию, чтобы найти приложение, пользователи могут перейти в магазин приложений вашей организации и найти его. Чтобы пользователям было проще получать доступ к приложению, вы можете закрепить его на панели приложения в Teams. Для этого создайте политику настройки приложений и назначьте ее пользователям. Дополнительные узнать см. в <a href="https://docs.microsoft.com/microsoftteams/teams-app-setup-policies" target="_blank">подмногове "Управление политиками настройки приложений в Teams".</a>

### <a name="search-the-audit-log-for-teams-app-events"></a>Поиск событий приложения Teams в журнале аудита

Вы можете искать в журнале аудита действия приложений Teams в вашей организации. Чтобы узнать больше о поиске в журнале аудита и увидеть список действий Teams, которые регистрируются в журнале аудита, см. поиск событий в Teams в журнале <a href="https://docs.microsoft.com/microsoftteams/audit-log-events" target="_blank">аудита.</a>

Чтобы можно было искать в журнале аудита, необходимо сначала включить аудит в Центре & <a href="https://protection.office.com" target="_blank">соответствия требованиям.</a> Дополнительные данные см. в записях о включите <a href="https://support.office.com/article/Turn-Office-365-audit-log-search-on-or-off-e893b19a-660c-41f2-9074-d3631c95a014" target="_blank">или выключите поиск в журнале аудита.</a> Помните, что данные аудита доступны только с того момента, когда вы включили аудит.

## <a name="discover-and-adopt"></a>Обнаружение и принятие

Пользователи, у которых есть разрешения на доступ к приложению, могут найти его в магазине приложений вашей организации. На странице ***"Приложения"* перейдите** в страницу "Встроенные для вашей организации", чтобы найти пользовательские приложения вашей организации.

![Страница "Приложения" с опубликованным приложением ](media/custom-app-lifecycle-discovery.png)

Если вы создали и настроили политику настройки приложений, приложение будет закреплено на панели приложений в Teams для удобного доступа для пользователей, которым назначена политика.

## <a name="update"></a>Обновление

Чтобы обновить приложение, разработчикам следует продолжать [](#develop) выполнять действия, которые вы должны выполнять в разделе "Разработка".

Когда разработчик подает уведомление в опубликованное пользовательское приложение, вы  получите уведомление в мини-приложении "Ожидание утверждения" на странице <a href="https://docs.microsoft.com/microsoftteams/manage-apps" target="_blank">"Управление</a> приложениями". В таблице для **состояния публикации** приложения будет установлено состояние **"Обновление отправлено".**

![Страница "Управление приложениями" с запросами в ожидании и состоянием приложений ](media/custom-app-lifecycle-update-submitted.png)

Чтобы просмотреть и опубликовать обновление приложения:

1. В левой области навигации Центра администрирования Microsoft Teams перейдите в приложение **Teams**  >  **"Управление приложениями".**
2. Щелкните имя приложения, чтобы перейти на  страницу сведений о приложении, а затем выберите "Обновление доступно для просмотра сведений об обновлении".

    ![страница сведений о приложении](media/custom-app-lifecycle-update-app.png)
3. Когда все будет готово, выберите **"Опубликовать",** чтобы опубликовать обновление. При этом существующее приложение заменяет существующее, обновляет  номер версии и состояние публикации на **"Опубликовано".** Для обновленного приложения сохраняются все политики разрешений и настройки приложений.

    При отклонении обновления более ранная версия приложения остается опубликованной.

Имейте в виду следующее:

- После утверждения приложения любой из них может отправить в приложение обновление. Это означает, что другие разработчики, включая разработчика, который изначально отправил приложение, могут отправить обновление в приложение.
- Когда разработчик сообщает о приложении и запрос находится в состоянии ожидания, только этот разработчик может отправить обновление в приложение. Другие разработчики могут отправлять обновления только после утверждения приложения.

Дополнительные сведения об использовании Graph API для обновления приложений см. <a href="https://docs.microsoft.com/graph/api/teamsapp-update?view=graph-rest-beta#example-2-update-a-previously-reviewed-and-published-application-to-the-teams-app-catalog" target="_blank">здесь.</a>

### <a name="update-experience-for-users"></a>Обновление для пользователей

В большинстве случаев после публикации обновления приложения для пользователей автоматически появляется новая версия. Однако существуют некоторые обновления манифеста <a href="https://docs.microsoft.com/microsoftteams/platform/resources/schema/manifest-schema" target="_blank">Microsoft Teams,</a> которые требуют принятия пользователями:

* Бот был добавлен или удален
* Изменено свойство botId существующего бота
* Изменено свойство isNotificationOnly существующего бота
* Свойство "supportsFiles" бота изменено
* Было добавлено или удалено расширение для сообщений
* Добавлен новый соединител
* Добавлена новая статическая вкладка
* Добавлена новая настраиваемая вкладка
* Свойства внутри webApplicationInfo изменены

![доступна новая версия](media/manage-your-custom-apps-update1.png)

![Параметр обновления приложения](media/manage-your-custom-apps-update2.png)

## <a name="related-topics"></a>Статьи по теме

- [Публикация пользовательского приложения путем отправки пакета приложения](upload-custom-apps.md)
- [Управление приложениями в Центре администрирования Microsoft Teams](manage-apps.md)
- [Управление пользовательскими политиками и параметрами приложений в Teams](teams-custom-app-policies-and-settings.md)
- [Управление политиками разрешений для приложений в Teams](teams-app-permission-policies.md)
- [Управление политиками настройки приложений в Teams](teams-app-setup-policies.md)
- <a href="https://docs.microsoft.com/graph/api/resources/teamsapp?view=graph-rest-beta" target="_blank">API Microsoft Graph для приложений Teams</a>
