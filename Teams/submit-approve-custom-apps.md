---
title: Отправка и утверждение пользовательских приложений с помощью API отправки Teams приложений
author: HowlinWolf-92
ms.author: v-mahoffman
manager: serdars
ms.reviewer: joglocke, vaibhava
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
audience: Admin
ms.collection:
- M365-collaboration
appliesto:
- Microsoft Teams
f1.keywords:
- NOCSH
ms.localizationpriority: medium
search.appverid: MET150
description: Узнайте, как утвердить пользовательские приложения, отправленные с Teams API отправки приложений в Microsoft Teams.
ms.openlocfilehash: d0a49ffa07ec7b3a506d99d32c5fee1b43308af4
ms.sourcegitcommit: 67324fe43f50c8414bb65c52f5b561ac30b52748
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2021
ms.locfileid: "60848162"
---
# <a name="publish-a-custom-app-submitted-through-the-teams-app-submission-api"></a>Публикация пользовательского приложения, отправленного с Teams API отправки приложений

## <a name="overview"></a>Обзор

> [!NOTE]
> При публикации пользовательского Teams приложения оно доступно пользователям в магазине приложений вашей организации. Существует два способа публикации пользовательского приложения и способ его использования зависит от способа его получения. **В этой статье основное внимание уделяется** утверждению и публикации настраиваемой программы, которую разработчики представляют с помощью API отправки Teams приложений. Другой способ — отправка настраиваемого приложения — используется, когда разработчик отправляет вам пакет приложения .zip формате. Дополнительные информацию об этом способе см. в публикации настраиваемого приложения <a href="/microsoftteams/upload-custom-apps" target="_blank">путем отправки пакета приложения.</a> Мини-приложение "Утверждение приложения" не доступно в GCC клиентах. 

> [!IMPORTANT]
> Этот метод в настоящее время не доступен GCC средах. Необходимо использовать способ *отправки настраиваемого* приложения.

В этой статье приводится по-разное руководство по Teams от разработки до развертывания до обнаружения. Вы получите общие сведения о подключенных Teams, которые можно использовать на всех жизненных циклах приложений, чтобы упростить разработку, развертывание и управление пользовательскими приложениями в магазине приложений организации.

Мы покроем каждый этап жизненного цикла, включая то, как разработчики могут использовать API отправки приложений Teams для отправки пользовательских приложений непосредственно в Центр администрирования Microsoft Teams для просмотра и утверждения, настройки политик для управления приложениями для пользователей в организации и их обнаружения в Teams.

![Обзор приложения от разработки до развертывания.](media/custom-app-lifecycle.png)

В этом руководстве основное внимание уделяется Teams его аспектам и предназначено для администраторов и ИТ-специалистов. Сведения о разработке Teams см. в документации Teams <a href="/microsoftteams/platform" target="_blank">разработчиков.</a>

## <a name="develop"></a>Разработка

### <a name="create-the-app"></a>Создание приложения

Платформа Microsoft Teams позволяет разработчикам легко интегрировать собственные приложения и службы, чтобы повысить производительность, быстрее принимать решения и создавать совместную работу по существующему контенту и рабочим процессам. Приложения, встроенные на платформе Teams, перемыкаются между клиентом Teams и вашими службами и процессами, что напрямую влияет на контекст вашей платформы совместной работы. Дополнительные сведения можно найти в документации <a href="/microsoftteams/platform" target="_blank">Teams разработчиков.</a>

### <a name="submit-the-app"></a>Отправить приложение

Когда приложение будет готово к использованию в производственной среде, разработчик может отправить его с помощью API отправки приложения Teams, который можно использовать из [API Graph](/graph/api/teamsapp-publish), интегрированной среды разработки (IDE), например Visual Studio Code, или платформы, например Power Apps и Power Virtual Agents. При этом приложение будет <a href="/microsoftteams/manage-apps" target="_blank"></a> доступно на странице Управление приложениями в Центре администрирования Microsoft Teams, где администратор может просмотреть и утвердить его.это

API отправки Teams приложений, созданный на основе <a href="/graph/api/teamsapp-publish" target="_blank">Microsoft Graph,</a>позволяет вашей организации разрабатывать приложения на нужной платформе и автоматизировать процесс отправки на утверждение пользовательских приложений на Teams.

Вот пример того, как выглядит этап отправки приложения в Visual Studio Code:

![отправка приложения в Visual Studio Code.](media/custom-app-lifecycle-submit-app.png)

Имейте в виду, что это еще не означает, что приложение не публикуется в магазине приложений вашей организации. На этом этапе приложение передается в центр администрирования Microsoft Teams, где его можно утвердить для публикации в магазине приложений вашей организации.

Дополнительные сведения об использовании API Graph для отправки приложений см. <a href="/graph/api/teamsapp-publish" target="_blank">здесь.</a>

## <a name="validate"></a>Проверить

На <a href="/microsoftteams/manage-apps" target="_blank">странице Управление</a> приложениями в Центре администрирования Microsoft Teams (на левой навигации перейдите в Teams **приложения** Управление приложениями ), вы можете просмотреть все Teams приложений для вашей  >  организации. **Мини-приложение Ожидается** утверждение в верхней части страницы позволяет узнать, когда настраиваемые приложения отправлены на утверждение.

В таблице недавно отправленные приложения автоматически показывают состояние  публикации  "Отправлено" и "Состояние **заблокировано".**  Чтобы быстро найти **приложение, можно** отсортировать столбец Состояние публикации по убытию.

![состояние публикации .](media/custom-app-lifecycle-validate-app.png)

Щелкните имя приложения, чтобы перейти на страницу сведений о приложении. На **вкладке** О приложении можно просмотреть подробные сведения о приложении, включая описание, состояние, отправку и ИД приложения.

![страницу сведений о приложении для отправленного приложения.](media/custom-app-lifecycle-app-details.png)

Дополнительные сведения об использовании API Graph для проверки состояния публикации **см.** <a href="/graph/api/appcatalogs-list-teamsapps" target="_blank">здесь.</a>

## <a name="publish"></a>Публикации

Когда вы будете готовы сделать приложение доступным для пользователей, опубликуем его.

1. В левой панели навигации Центра администрирования Microsoft Teams выберите **Приложения Teams** > **Управление приложениями**.
2. Щелкните имя приложения, чтобы перейти на страницу сведений о приложении, а затем в поле Состояние публикации **выберите** Опубликовать . 

    После публикации приложения  состояние публикации изменится на **Опубликовано,** а состояние **автоматически** изменится на **Разрешено.**

## <a name="set-up-and-manage"></a>Настройка и управление

### <a name="control-access-to-the-app"></a>Управление доступом к приложению

По умолчанию все пользователи в организации имеют доступ к приложению в магазине приложений организации. Чтобы ограничить и контролировать, у кого есть разрешение на использование приложения, можно создать и назначить политику разрешений для приложения. Дополнительные сведения см. в статье <a href="/microsoftteams/teams-app-permission-policies" target="_blank">Управление политиками и параметрами пользовательских приложений в Teams</a>.

### <a name="pin-and-install-the-app-for-users-to-discover"></a>Закрепление и установка приложения для обнаружения

По умолчанию пользователям нужно перейти в магазин приложений вашей организации и найти его. Чтобы у пользователей было удобно получать доступ к приложению, вы можете закрепить его на панели приложения в Teams. Для этого создайте политику настройки приложения и назначьте ее пользователям. Дополнительные сведения см. в статье <a href="/microsoftteams/teams-app-setup-policies" target="_blank">Управление политиками и параметрами пользовательских приложений в Teams</a>.

### <a name="search-the-audit-log-for-teams-app-events"></a>Поиск событий приложения в журнале Teams аудита

Вы можете искать в журнале аудита Teams действия с приложениями в организации. Чтобы узнать больше о поиске в журнале аудита и увидеть список действий Teams, которые регистрируются в журнале аудита, см. в этой <a href="/microsoftteams/audit-log-events" target="_blank">Teams.</a>

Прежде чем выполнять поиск в журнале аудита, необходимо сначала включить функцию аудита в <a href="https://protection.office.com" target="_blank">Центре безопасности и соответствия требованиям</a>. Дополнительные сведения см. в статье <a href="https://support.office.com/article/Turn-Office-365-audit-log-search-on-or-off-e893b19a-660c-41f2-9074-d3631c95a014" target="_blank">Включение и отключение поиска в журнале аудита</a>. Обратите внимание, что данные аудита доступны только с момента его включения.

## <a name="discover-and-adopt"></a>Обнаружение и принятие

Пользователи, у которых есть разрешения на доступ к приложению, могут найти его в магазине приложений вашей организации. Чтобы найти пользовательские приложения ***вашей*** организации, перейдите в страницу "Встроенные для вашей организации" на странице "Приложения".

![Страница приложений с опубликованным приложением .](media/custom-app-lifecycle-discovery.png)

Если вы создали и настроили политику настройки приложений, приложение будет закреплено на панели приложения в Teams для удобного доступа для пользователей, которым назначена политика.

## <a name="update"></a>Обновление

Чтобы обновить приложение, разработчики должны продолжать выполнять действия, которые вы должны выполнять в [разделе Разработка.](#develop)

Когда разработчик подает обновление опубликованного настраиваемого приложения, вы получите  уведомление в мини-приложении Ожидается утверждение на странице <a href="/microsoftteams/manage-apps" target="_blank">Управление приложениями.</a> В таблице для **состояния публикации** приложения будет установлено состояние Обновление **отправлено**.

![Страница "Управление приложениями", на которой отображаются запросы на ожидание и состояние приложения.](media/custom-app-lifecycle-update-submitted.png)

Чтобы просмотреть и опубликовать обновление приложения:

1. В левой панели навигации Центра администрирования Microsoft Teams выберите **Приложения Teams** > **Управление приложениями**.
2. Щелкните имя приложения, чтобы перейти на  страницу сведений о приложении, а затем выберите Обновить доступно для просмотра сведений об обновлении.

    ![страница сведений о приложении.](media/custom-app-lifecycle-update-app.png)
3. Когда все будет готово, выберите **Опубликовать,** чтобы опубликовать обновление. При этом существующее приложение заменяется, обновляется номер  версии, а состояние публикации изменяется на **Опубликовано.** Для обновленного приложения сохраняются все политики разрешений приложений и политики настройки приложений.

    Если вы отклоняете обновление, более ранная версия приложения остается опубликованной.

Имейте в виду следующее:

- Если приложение утверждено, любой из них может отправить в приложение обновление. Это означает, что другие разработчики, в том числе разработчики, которые изначально отправили приложение, могут отправить обновление в приложение.
- Когда разработчик подает приложение и запрос находится в состоянии ожидания, только этот разработчик может отправить обновление приложению. Другие разработчики могут отправлять обновления только после утверждения приложения.

Дополнительные сведения об использовании Graph API для обновления приложений см. <a href="/graph/api/teamsapp-update">здесь.</a>

## <a name="related-topics"></a>Статьи по теме

- [Публикация пользовательского приложения путем отправки пакета приложения](upload-custom-apps.md)
- [Управление приложениями в Центре Microsoft Teams администрирования](manage-apps.md)
- [Управление пользовательскими политиками и параметрами приложений в Teams](teams-custom-app-policies-and-settings.md)
- [Управление политиками разрешений для приложений в Teams](teams-app-permission-policies.md)
- [Управление политиками настройки приложений в Teams](teams-app-setup-policies.md)
- <a href="/graph/api/resources/teamsapp" target="_blank">API Graph Майкрософт для Teams приложений</a>
