---
title: Использование API отправки приложений Teams для отправки и утверждения ваших собственных приложений
author: lanachin
ms.author: v-lanac
manager: serdars
ms.reviewer: joglocke, vaibhava
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
audience: Admin
ms.collection:
- M365-collaboration
appliesto:
- Microsoft Teams
f1.keywords:
- NOCSH
localization_priority: Normal
search.appverid: MET150
description: Сведения о том, как утвердить пользовательские приложения, которые отправляются с помощью API отправки приложений Teams в Microsoft Teams.
ms.openlocfilehash: 6efb6a6c1541b7ea7e252b132c0ea891560bbdb6
ms.sourcegitcommit: ab094058e3ffa974527fce8a331dad609ac19609
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/04/2020
ms.locfileid: "46552605"
---
# <a name="publish-a-custom-app-submitted-through-the-teams-app-submission-api"></a>Публикация настраиваемого приложения, отправленного с помощью API отправки приложений Teams

## <a name="overview"></a>Обзор

> [!NOTE]
> При публикации настраиваемого приложения Teams оно доступно для пользователей в магазине приложений вашей организации. Существует два способа публикации настраиваемого приложения и способ его использования в зависимости от того, как вы получаете приложение. **В этой статье рассказывается о том, как утвердить и опубликовать настраиваемое приложение, которое разработчик отправляет через API для отправки приложений Teams**. Другой метод, загружая пользовательское приложение, используется, когда разработчик отправляет вам пакет приложения в формате ZIP. Чтобы узнать больше об этом методе, ознакомьтесь со статьей <a href="https://docs.microsoft.com/microsoftteams/upload-custom-apps" target="_blank">Публикация настраиваемого приложения, загружая пакет приложения</a>.
 
В этой статье приведены исчерпывающие инструкции по развертыванию приложения Teams в среде разработки до обнаружения. Вы получите общие сведения о подключенных возможностях, которые Teams предоставляет в рамках жизненного цикла приложения, чтобы упростить разработку, развертывание и управление пользовательскими приложениями в магазине приложений вашей организации.

Будут рассмотрены все этапы жизненного цикла, в том числе сведения о том, как разработчики могут использовать API-интерфейс отправки приложений Teams для отправки настраиваемых приложений непосредственно в центр администрирования Microsoft Teams для просмотра и утверждения, настройки политик для управления приложениями для пользователей в Организации, а также о том, как ваши пользователи будут обнаруживать их в Teams.

![Общие сведения о приложении в среде разработки для развертывания](media/custom-app-lifecycle.png)

Это руководство сосредоточено на аспектах приложения Teams и предназначено для администраторов и ИТ-специалистов. Сведения о разработке приложений Teams можно найти в <a href="https://docs.microsoft.com/microsoftteams/platform" target="_blank">документации разработчиков Teams</a>.

## <a name="develop"></a>Разработка

### <a name="create-the-app"></a>Создание приложения

Платформа разработчиков Microsoft Teams позволяет разработчикам интегрировать собственные приложения и службы для повышения производительности, принятия решений быстрее и создания совместной работы над существующим контентом и рабочими процессами. Приложения, созданные на платформе Teams, — это мосты между клиентом Teams и Вашими службами и рабочими процессами, которые переносятся непосредственно в контекст вашей платформы совместной работы. Дополнительные сведения можно найти в <a href="https://docs.microsoft.com/microsoftteams/platform" target="_blank">документации разработчиков Teams</a>.

### <a name="submit-the-app"></a>Отправить приложение

Когда приложение будет готово к использованию в производстве, разработчик может отправить приложение с помощью API отправки приложений Teams, который может быть вызван из API Graph — интегрированной среды разработки (IDE), например кода Visual Studio, или платформы, такой как Power Apps и виртуальные агенты Power. Это позволит приложению быть доступно на странице <a href="https://docs.microsoft.com/microsoftteams/manage-apps" target="_blank">Управление приложениями</a> в центре администрирования Microsoft Teams, где вы, администратор, может проверить и утвердить его. 

API отправки приложений Teams, созданный в Microsoft Graph, позволяет Организации разрабатываться на выбранной вами платформе и автоматизировать процесс отправки и утверждения для специальных приложений в Teams.

Вот пример того, как выглядит этот этап отправки приложения в коде Visual Studio:

![Снимок экрана: отправка приложения в коде Visual Studio](media/custom-app-lifecycle-submit-app.png)

Имейте в виду, что при этом приложение пока не Опубликовано в магазине приложений вашей организации. Этот шаг отправляет приложение в центр администрирования Microsoft Teams, где вы можете утвердить его для публикации в магазине приложений вашей организации.

## <a name="validate"></a>Действитель

Страница " <a href="https://docs.microsoft.com/microsoftteams/manage-apps" target="_blank">Управление приложениями</a> " в центре администрирования Microsoft Teams (на панели навигации слева перейдите в раздел **приложения Teams**  >  **Управление приложениями**) — позволяет просматривать все приложения Teams для вашей организации. Графический элемент " **ожидающие утверждения** " в верхней части страницы позволяет узнать, когда пользовательское приложение отправляется на утверждение.

В таблице вновь отправленное приложение автоматически показывает **состояние публикации** " **Отправлено** **" и "** **заблокировано**". Вы можете отсортировать столбец **состояния публикации** по убыванию, чтобы быстро найти приложение.

![Снимок экрана: страница "Управление приложениями", на которой показаны ожидающие запросы и состояние приложения ](media/custom-app-lifecycle-validate-app.png)

Щелкните имя приложения, чтобы перейти на страницу сведений о приложении. На вкладке " **о программе** " можно просмотреть сведения о приложении, в том числе описание, состояние, отправитель и идентификатор приложения.

![Снимок экрана: страница "сведения о приложении" для отправленного приложения](media/custom-app-lifecycle-app-details.png)

## <a name="publish"></a>Публиковать

Когда вы будете готовы сделать приложение доступным для пользователей, опубликуйте приложение.

1. В левой области навигации центра администрирования Microsoft Teams перейдите в раздел **приложения Teams**  >  **Управление приложениями**.
2. Щелкните имя приложения, чтобы перейти на страницу сведения о приложении, а затем в поле **состояние публикации** нажмите кнопку **опубликовать**.

    После публикации приложения **состояние публикации** изменится на **Опубликовано** , а **состояние** автоматически изменится на **разрешено**.

## <a name="set-up-and-manage"></a>Настройка и управление

### <a name="control-access-to-the-app"></a>Управление доступом к приложению

По умолчанию все пользователи в организации могут получить доступ к приложению в магазине приложений вашей организации. Чтобы ограничить круг лиц, имеющих разрешение на использование приложения, и управлять им, вы можете создать и назначить политику разрешений для приложения. Дополнительные сведения можно найти <a href="https://docs.microsoft.com/microsoftteams/teams-app-permission-policies" target="_blank">в разделе Управление политиками разрешений приложений в Teams</a>.

### <a name="pin-and-install-the-app-for-users-to-discover"></a>Закрепление и установка приложения для пользователей для выяснения

По умолчанию, чтобы пользователи могли найти приложение, нужно перейти в магазин приложений вашей организации и просмотреть или найти его. Чтобы пользователи могли легко получить доступ к приложению, вы можете закрепить приложение на панели приложения в Teams. Для этого создайте политику настройки приложения и назначьте ее пользователям. Дополнительные сведения можно найти <a href="https://docs.microsoft.com/microsoftteams/teams-app-setup-policies" target="_blank">в разделе Управление политиками настройки приложений в Teams</a>.

## <a name="discover-and-adopt"></a>Обнаружение и принятие

Пользователи, у которых есть разрешения на доступ к приложению, могут найти его в магазине приложений вашей организации. Чтобы найти пользовательские приложения своей организации, перейдите на страницу приложения, созданную в соответствии с ** *названием своей организации* ** .

![Снимок экрана: страница "приложения", на которой показано опубликованное приложение ](media/custom-app-lifecycle-discovery.png)

Если вы создали и назначили политику настройки приложения, приложение закрепляется на панели приложения в Teams для упрощения доступа пользователей, которым назначена эта политика.

## <a name="update"></a>Обновление

Чтобы обновить приложение, разработчики должны продолжать подписаться на действия, описанные в разделе " [Разработка](#develop) ".

Когда разработчик отправляет обновление опубликованному настраиваемому приложению, вы получите уведомление в мини-приложении " **ожидающие утверждения** " на странице " <a href="https://docs.microsoft.com/microsoftteams/manage-apps" target="_blank">Управление приложениями</a> ". В таблице **состояние публикации** для приложения будет настроено для **отправки обновлений**.

![Снимок экрана: страница "Управление приложениями", на которой показаны ожидающие запросы и состояние приложения ](media/custom-app-lifecycle-update-submitted.png)

Чтобы просмотреть и опубликовать обновление для приложения, выполните указанные ниже действия.

1. В левой области навигации центра администрирования Microsoft Teams перейдите в раздел **приложения Teams**  >  **Управление приложениями**.
2. Щелкните имя приложения, чтобы перейти на страницу сведения о приложении, а затем выберите **Обновить** , чтобы просмотреть сведения об обновлении.

    ![Снимок экрана: страница "Управление приложениями", на которой показаны ожидающие запросы и состояние приложения ](media/custom-app-lifecycle-update-app.png)
3. Когда вы будете готовы, нажмите кнопку **опубликовать** , чтобы опубликовать обновление. Это зазаменяет существующее приложение, обновляет номер версии и изменяет **состояние публикации** на **Опубликовано**. Все политики разрешений приложений и политики настройки приложений остаются принудительно применены для обновленного приложения.

    Если вы отклоняете обновление, Предыдущая версия приложения остается опубликованной.

Имейте в виду следующее:

- Если приложение утверждено, любой из них может отправить обновление приложению. Это означает, что другие разработчики, в том числе разработчик, который изначально предоставил приложение, могут отправить обновление приложению.
- Когда разработчик отправляет приложение и запрос ожидает, только этот же разработчик может отправить обновление приложению. Другие разработчики могут отправлять обновления только после утверждения приложения.

### <a name="update-experience-for-users"></a>Взаимодействие с обновлением для пользователей

В большинстве случаев после публикации обновления приложения автоматически появляется новая версия для пользователей. Тем не менее, в <a href="https://docs.microsoft.com/microsoftteams/platform/resources/schema/manifest-schema" target="_blank">Манифест Microsoft Teams</a> , для которого требуется принять пользователя, существуют некоторые обновления.

* Добавление или удаление Bot
* Изменилось свойство "botId" существующей ленты.
* Изменилось свойство "isNotificationOnly" существующей ленты.
* Изменилось свойство "supportsFiles" на Bot
* Добавлено или удалено расширение сообщения
* Добавлена Новая соединительная линия
* Добавлена новая статическая вкладка
* Добавлена новая настраиваемая вкладка
* Изменились свойства в "webApplicationInfo"

![Снимок экрана, на котором показаны приложения, для которых доступна новая версия](media/manage-your-custom-apps-update1.png)

![Снимок экрана: параметр обновления для приложения](media/manage-your-custom-apps-update2.png)

## <a name="related-topics"></a>См. также

- [Публикация настраиваемого приложения путем отправки пакета приложения](upload-custom-apps.md)
- [Управление приложениями в центре администрирования Microsoft Teams](manage-apps.md)
- [Управление пользовательскими политиками и параметрами приложений в Teams](teams-custom-app-policies-and-settings.md)
- [Управление политиками разрешений для приложений в Teams](teams-app-permission-policies.md)
- [Управление политиками настройки приложений в Teams](teams-app-setup-policies.md)
