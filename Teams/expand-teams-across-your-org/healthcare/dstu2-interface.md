---
title: Интерфейс DSTU2 пациентов для приложений и EHR интеграции
author: dstrome
ms.author: dstrome
manager: serdars
audience: ITPro
ms.topic: article
ms.service: msteams
search.appverid: MET150
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- M365-collaboration
- Teams_ITAdmin_Healthcare
appliesto:
- Microsoft Teams
ms.reviewer: anach
description: Узнайте о спецификации интерфейса DSTU2 в Teams, в том числе Настройка и перенастройка сервера FHIR для работы с приложением Microsoft Teams пациентов.
ms.custom: seo-marvel-mar2020
ms.openlocfilehash: f09f43af431b3f0cc6d9f984171206f2549a550a
ms.sourcegitcommit: cddaacf1e8dbcdfd3f94deee7057c89cee0e5699
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/03/2020
ms.locfileid: "43136959"
---
# <a name="dstu2-interface-specification"></a>Характеристики интерфейса DSTU2

[!INCLUDE [preview-feature](../../includes/preview-feature.md)]

Настройка или перенастройка сервера FHIR для работы с приложением Microsoft Teams пациентов требует понимания данных, к которым приложению требуется доступ. Сервер FHIR должен поддерживать запросы POST, используя пакеты для указанных ниже ресурсов.

- [Подождите](#patient)
- [Наблюдение](#observation)
- [Условие](#condition)
- [Происходит](#encounter)
- [Недопустимый Allergy](#allergyintolerance)
- [Приложения](#coverage)
- [Лечения заказ](#medication-order)
- [Расположение](#location)

> [!NOTE]
> Ресурс пациент является единственным обязательным ресурсом (без которого приложение не будет загружаться вообще). Тем не менее, рекомендуется, чтобы партнеры реализовали поддержку всех вышеупомянутых ресурсов для спецификаций, указанных ниже, для наилучшего взаимодействия с пользователем в приложении Microsoft Teams пациентов.

Запросы из приложения Microsoft Teams пациентов для нескольких ресурсов. отправляет набор (пакет) запросов на URL-адрес сервера FHIR. Сервер обрабатывает каждый запрос и возвращает набор ресурсов, соответствующих каждому запросу. Дополнительные сведения и примеры можно найти в [https://www.hl7.org/fhir/DSTU2/http.html#transaction](https://www.hl7.org/fhir/DSTU2/http.html#transaction)разделе.

Все перечисленные ниже ресурсы FHIR должны быть доступны по прямой ссылке на ресурс.

## <a name="conformance-minimum-required-field-set"></a>Минимальный набор полей, необходимый для установки соответствия

 Сервер FHIR должен реализовать инструкцию соответствия, чтобы получить сводную информацию о ее возможностях factual. Ниже перечислены параметры на сервере DSTU2 FHIR:

1. ДЕРЖИВАЕТ
   1. Режиме
   2. Действует
   3. Ресурс: тип
   4. Безопасность: [расширение URI OAuth](https://hl7.org/fhir/extension-oauth-uris.html)
2. FhirVersion (для нашего кода требуется, чтобы узнать, в какую версию следует поворачивать, так как мы поддерживаем несколько версий.)

Дополнительные [https://www.hl7.org/fhir/dstu2/conformance.html](https://www.hl7.org/fhir/dstu2/conformance.html) сведения об этом множестве полей приведены в разделе.

## <a name="patient"></a>Подождите

Это минимальные обязательные поля, которые являются подмножеством полей [профиля пациента Argonaut](http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-patient.html) :

1. Family (имя)
2. Name (имя). задано
3. Полу
4. Рождения
5. MRN (идентификатор)

В дополнение к полям Argonaut для удобства пользователей приложение пациентов также считывает следующие поля:

1. Name. use
2. Name. prefix
3. CareProvider (эта ссылка на ресурс пациент должна содержать отображаемые поля, показанные в приведенном ниже примере).

* * *

    Запрос: получение <fhir-Server>/Patient/<пациент-ID>
    
    Ответ: {"resourceType": "Patient", "идентификатор": "<пациент-ID>";.
      .
      .
      "имя": [{"use": "официальный", "префикс": ["MR"], "Family": ["Hugh"] "," ". [" Chau "]}]," идентификатор ": [{" использование ":" официальный "," тип ": {" программирование ": [{" System ":"https://hl7.org/fhir/v2/0203";" код ":" MR "}]};" значение ":" м ";" careProvider ": [{" Display ":" Джейн Петров "}],} 1234567 1957-06-05

* * *

Поиск ресурсов использует метод POST по адресу/Patient/_search и следующие параметры:

1. номер
2. Семья: Contains = (ищет все пациентов, чье имя семейства оно содержат.)
3. заданный\<= подстрока>
4. Name =\<substring>
5. Дата рождения = (точное совпадение)
6. \_Count (максимальное количество возвращаемых результатов) <br> Ответ должен содержать общее количество записей, возвращенных в результате поиска, и \_количество будет использоваться PatientsApp для ограничения количества возвращенных записей.
7. Идентификатор =\<MRN>

Цель — найти и отфильтровать пациента в пациент, выполнив следующие действия:

- ID: это идентификатор ресурса, который содержит каждый ресурс в FHIR.
- MRN: фактический идентификатор пациента, который будет знать Clinical сотрудника. Мы понимаем, что этот MRN основывается на типе идентификатора в ресурсе идентификатора в FHIR
- Имя
- Рождения

Ниже приведен пример этого звонка.

* * *

    Запрос: POST <fhir-Server>/Patient/_search запроса: с указанным = Hugh&Family = Chau
    
    Response: {"resourceType": "пакет", "идентификатор": "<-ID пакета>".
      .
      .
      "Entry": [{"ресурс": {"resourceType": "пациент"; "идентификатор": "<пациент-ID>", "имя": [{"текст": "Hugh Chau", "семья": ["Chau"], ""--"," Дата ":" м ":"----------"1957-06-05

* * *

Дополнительные [https://www.hl7.org/fhir/DSTU2/Patient.html](https://www.hl7.org/fhir/DSTU2/Patient.html) сведения об этом множестве полей приведены в разделе.

## <a name="observation"></a>Наблюдение

Это минимальные обязательные поля, которые являются подмножеством профиля Argonaut важную подпись:

 1. Эффективная (Дата и время)
 2. Код. кодирование. Code
 3. ValueQuantity. Value

В дополнение к полям Argonaut для удобства пользователей приложение пациентов также считывает следующие поля:

 1. Код. программирование. Display
 2. ValueQuantity. ед.

При использовании наблюдения за компонентами одна и та же логика применяется для наблюдения за каждым компонентом.

Поиск ресурсов использует метод GET и следующие параметры:

1. пациент =\<ИД пациента\>
2. Sort: DESC =\<поле ex. окончания\>

Цель состоит в том, чтобы получить последние важные знаки для пациента, [VitalSigns. DSTU. saz] (наблюдение?).

* * *

    Запрос: GET <fhir-Server>/Observation? пациент =<пациент-ID>&_sort:d ESC = Дата&Category = важные-признаки
    
    Response: {"resourceType": "пакет", "идентификатор": <"пакет-ID>", "введите": ",", "," Итого ": 20," Entry ": [{" ресурс ": {" resourceType ":" наблюдение "," идентификатор ":" <ресурс-идентификатор> ";" Категория ": {" программирование ": [{code": "важные-знаки"}],}, "код": {"программирование": [{"Systemhttp://loinc.org": ""; "код": "39156-5", "Display": "BMI"}],}, "effectiveDateTime": "2009-12-01"; "valueQuantity": {"значение": 34,4; "единица": "кг/m2", "http://unitsofmeasure.orgсистема": "кг/m2"}},},.
        .
        .
      ] }

* * *

Дополнительные [https://www.hl7.org/fhir/DSTU2/Observation.html](https://www.hl7.org/fhir/DSTU2/Observation.html) сведения об этом множестве полей приведены в разделе.

## <a name="condition"></a>Условие

Это минимальные обязательные поля, которые являются подмножеством [профиля условия Argonaut](http://www.fhir.org/guides/argonaut/r2/StructureDefinition-argo-condition.html):

1. Код. кодирование [0]. Показан

В дополнение к полям Argonaut для удобства пользователей приложение пациентов также может прочитать следующие поля:

1. Дата записи
2. Уровню серьезности

Поиск ресурсов использует метод GET и следующие параметры:

1. пациент =\<patient ID>
2. _count =\<максимальное число результатов>

Ниже приведен пример этого звонка:

* * *

    Запрос: GET <fhir-Server>/Condition? пациент =<пациент-ID>&_count = 10
    
    Response: {"resourceType": "пакет", "идентификатор <": "набор-ID>", "тип": "набор поиска", "Итого", "элемент": [{"ресурс": {"имя ресурса": "условие", "идентификатор": "<Resource-id>", "код": {"программирование": [{"System": "http://snomed.info/sct", "код": "386033004", "Display": "Neuropathy (Nerve)"}]}, "dateRecorded": "2018-09-17", "сервер": {"программирование": [{"System": "http://snomed.info/sct"; "код": "24484000"; "вывод": "серьезный"}]}}}]}

* * *

Дополнительные [https://www.hl7.org/fhir/DSTU2/Condition.html](https://www.hl7.org/fhir/DSTU2/Condition.html) сведения об этом множестве полей приведены в разделе.

## <a name="encounter"></a>Происходит

Это минимальные обязательные поля, которые являются подмножеством подмножества для основного профиля в США, которое должно иметь следующие поля:

1. Состояни
2. Введите [0]. Кодирование [0]. Показан

Кроме того, ниже перечислены поля, которые можно получить из основного приложения US "требуется поддержка".

1. Period. Start
2. Расположение [0]. Расположение. Display

Поиск ресурсов использует метод GET и следующие параметры:

1. пациент =\<patient ID>
2. _sort: DESC =\<Field ex. Дата>
3. _count =\<максимальное число результатов>

Цель — получить Последнее известное расположение пациента. Каждый из этих обнаружений ссылается на ресурс расположения. Ссылка также должна включать поле отображения местоположения. Ниже приведен пример этого звонка.
* * *

    Запрос: GET <fhir-Server>/Encounter? пациент =<пациент-ID>&_sort:d ESC = Дата&_count = 1
    
    Ответ: {"ResourceType": "комплект", "тип": "набор результатов поиска", "всего": 1, "элемент": [{"ресурс": {"ИД": "Поиск", "идентификатор"-"<ресурсов>"; "идентификатор": [{"use": "официальный", "значение":<id>"состояние": "поступило"; "тип": [{"код": [{"Display": "Встреча"}],}], "пациент": {"ссылка": "пациент/<пациент-ID"> "};" период ": {" начало ":" 09/17/2018 1:00:00 PM "}," расположение ": [{" расположение ": {" Display ":" курс-корпоративный "},}]}}]}

* * *

Дополнительные [https://www.hl7.org/fhir/DSTU2/Encounter.htm](https://www.hl7.org/fhir/DSTU2/Encounter.htm) сведения об этом множестве полей приведены в разделе.

## <a name="allergyintolerance"></a>AllergyIntolerance

Это минимальные обязательные поля, которые являются подмножеством профиля Argonaut AllergyIntolerance:

1. Code. Text
2. Код. кодирование [0]. Показан
3. Состояни

В дополнение к полям Argonaut для удобства пользователей приложение пациентов также считывает следующие поля:

1. RecordedDate
2. Примечание. текст
3. Реакция [..]. Вещество. текст
4. Реакция [..]. Манифест [..]. Текстовые
5. Text. Div

Поиск ресурсов использует метод GET и следующие параметры:

1. Пациент = \<patient ID>

Ниже приведен пример этого звонка:

* * *

    Запрос: GET <fhir-Server>/AllergyIntolerance? пациент =<пациент-ID>
    
    Response: {"resourceType": "набор", "идентификатор <": "пакет-ID>", "тип": "набор поиска", "всего", "элемент": [{"ресурс": {"resourceType": "AllergyIntolerance", "идентификатор": "<Resource-id>", "recordedDate": "2018-09-17T07:00:00.000 Z", "веществ": {"текст": "Cashew" "}", "состояние": "подтверждено", "реакция": [{"вещество". ": {" текст ":" Cashew Гайк allergenic извлечь введенный продукт "}," проявление ": [{" текст ":" реакция на Anaphylactic "}]}

* * *

Дополнительные [https://www.hl7.org/fhir/DSTU2/AllergyIntolerance.html](https://www.hl7.org/fhir/DSTU2/AllergyIntolerance.html) сведения об этом множестве полей приведены в разделе.

## <a name="medication-order"></a>Лечения заказ

Это минимальные обязательные поля, которые являются подмножеством профиля Argonaut MedicationOrder:

1. DateWritten
2. Предписанный. Display
3. Лечения. Display (если ссылка)
4. Лечения. Text (если понятие)

В дополнение к полям Argonaut для удобства пользователей приложение пациентов также может прочитать следующие поля:

1. DateEnded
2. DosageInstruction. Text
3. Text. Div

Поиск ресурсов использует метод GET и следующие параметры:

1. пациент =\<patient ID>
2. _count =\<максимальное число результатов>

Ниже приведен пример этого звонка:

* * *

    Запрос: GET <fhir-Server>/MedicationOrder? пациент =<пациент-ID>&_count = 10
    
    Response: {"resourceType": "пакет", "идентификатор <": "набор-ID>", "тип": "набор поиска", "всего": 1, "запись": [{"ресурс": {"resourceType": "MedicationOrder", "идентификатор": "<ресурс-идентификатор>"; "dateWritten": "," medicationCodeableConcept ": {", ":" Lisinopril 20 mg устные Планшет "}," предназначается ": {" вывод ":" Джейн Петров "}," dosageInstruction ": [{" текст ":" 2018-09-17

* * *  

Дополнительные [https://www.hl7.org/fhir/DSTU2/MedicationOrder.html](https://www.hl7.org/fhir/DSTU2/MedicationOrder.html) сведения об этом множестве полей приведены в разделе.

## <a name="coverage"></a>Приложения

Это минимальный обязательный набор полей, не охваченных профилями США или Argonaut:

1. Payor

Поиск ресурсов использует метод GET и следующие параметры:

1. пациент =\<patient ID>

Ниже приведен пример этого звонка:

* * *

    Запрос: GET <fhir-Server>/Coverage? пациент =<пациент-ID>
    
    Ответ: {"resourceType": "пакет", "тип": "функция поиска", "Итого": 1, "запись": [{"ресурс": {"resourceType": "Coverage", "план": "без основного страхового обеспечения", "> <подписчик": "нет на месте", "на"> <

* * *

Дополнительные [https://www.hl7.org/fhir/DSTU2/Coverage.html](https://www.hl7.org/fhir/DSTU2/Coverage.html) сведения об этом множестве полей приведены в разделе.

## <a name="location"></a>Местоположение

Этот ресурс используется только в качестве ссылки на ресурс " [встреча](#encounter) ".

Дополнительные [https://www.hl7.org/fhir/DSTU2/Location.html](https://www.hl7.org/fhir/DSTU2/Location.html) сведения об этом множестве полей приведены в разделе.
