---
title: Используйте мастер соединителя shifts для подключения shifts к blue Yonder Workforce Management
author: lanachin
ms.author: v-lanachin
ms.reviewer: ''
manager: samanro
ms.topic: article
audience: admin
ms.service: msteams
search.appverid: MET150
description: Узнайте, как использовать мастер соединителя Shifts для интеграции Shifts в Teams с Blue Yonder Workforce Management.
ms.localizationpriority: medium
ms.collection:
- M365-collaboration
- Teams_ITAdmin_FLW
appliesto:
- Microsoft Teams
ms.openlocfilehash: de511df118e1c5e6d62e0bed8cd076a7481b3407
ms.sourcegitcommit: 90f03a841f8ca33092dce65c543357c7c2f7b82a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/06/2022
ms.locfileid: "66647811"
---
# <a name="use-the-shifts-connector-wizard-to-connect-shifts-to-blue-yonder-workforce-management"></a>Используйте мастер соединителя shifts для подключения shifts к blue Yonder Workforce Management

## <a name="overview"></a>Обзор

Мастер соединителя shifts в Центр администрирования Microsoft 365 позволяет интегрировать приложение Shifts в Microsoft Teams с системой управления персоналом (WFM). После настройки подключения ваши сотрудники переднего плана могут легко просматривать свои расписания и управлять ими в вашей WFM в shifts.

Мастер настраивает соединитель Shifts, создает подключение к системе WFM и применяет параметры синхронизации и сопоставления команд, которые вы выбираете. Параметры синхронизации определяют сведения о расписании, синхронизированные между WFM и сменами. Сопоставления команд определяют связь синхронизации между экземплярами WFM и командами в Teams. Вы можете сопоставить существующие команды и новые команды.

Можно настроить несколько подключений, каждое из которых имеет разные параметры синхронизации. Например, если в организации есть несколько расположений с разными требованиями к расписанию, создайте подключение с уникальными параметрами синхронизации для каждого расположения. Помните, что экземпляр WFM может быть сопоставлен только с одной командой в любой момент времени. Если экземпляр WFM уже сопоставлен с командой, его нельзя сопоставить с другой командой.

Благодаря WFM системы записи ваши сотрудники могут просматривать смены и менять смены, управлять своей доступностью и запрашивать отгулы в shifts на своих устройствах. Руководители переднего плана могут по-прежнему использовать WFM для настройки расписаний.

## <a name="integrate-shifts-with-blue-yonder-workforce-management"></a>Интеграция Shifts с Blue Yonder Workforce Management

В настоящее время мастер поддерживает соединитель [Смены Microsoft Teams для Blue Yonder](shifts-connectors.md#microsoft-teams-shifts-connector-for-blue-yonder). Этот соединитель позволяет интегрировать Shifts с Blue Yonder Workforce Management (Blue Yonder WFM), чтобы управлять расписаниями и поддерживать их в актуальном состоянии. Из этой статьи вы узнаете, как запустить мастер для настройки подключения к Blue Yonder WFM через соединитель.

> [!NOTE]
> Вы также можете использовать PowerShell для интеграции Shifts с Blue Yonder WFM. Дополнительные сведения см. в [разделе "Использование PowerShell для подключения shifts к blue Yonder Workforce Management](shifts-connector-blue-yonder-powershell-setup.md)".

## <a name="before-you-begin"></a>Подготовка к работе

Для запуска мастера необходимо быть глобальным администратором Microsoft 365.

### <a name="prerequisites"></a>Необходимые компоненты
<a name="prerequisites"> </a>
[!INCLUDE [shifts-connector-prerequisites](../../includes/shifts-connector-prerequisites.md)]

- У команд, которые вы хотите сопоставить, нет расписаний. Если у команды есть [расписание,](#remove-schedules-from-teams-you-want-to-map) удалите его из нее, прежде чем сопоставлять с ней WFM Blue Yonder. В противном случае вы увидите повторяющиеся смены.

## <a name="remove-schedules-from-teams-you-want-to-map"></a>Удаление расписаний из групп, которые требуется сопоставить
<a name="remove_schedules"> </a>

> [!NOTE]
> Выполните этот шаг, если вы сопоируете экземпляры Blue Yonder WFM с существующими командами с расписаниями. Если вы сопоставляете команды, у которых нет расписаний, или создаете новые команды для сопоставления, этот шаг можно пропустить.

Удаление расписаний из команд с помощью PowerShell.

1. Сначала необходимо установить модули PowerShell и настроить их. Выполните действия, [чтобы настроить среду](shifts-connector-powershell-manage.md#set-up-your-environment).
1. Выполните следующую команду.

    ```powershell
    Remove-CsTeamsShiftsScheduleRecord -TeamId <Teams team ID> -DateRangeStartDate <start time> -DateRangeEndDate <end time> -ClearSchedulingGroup:$false -EntityType <the scenario entities that you want to remove, the format is @(scenario1, scenario2, ...)> -DesignatedActorId <Teams team owner ID>
    ```

    Чтобы получить список сценариев для параметра `EntityType` , выполните [командную строку Get-CsTeamsShiftsConnectionConnector](/powershell/module/teams/get-csteamsshiftsconnectionconnector). Данные расписания будут удалены для указанного диапазона дат и времени.

Дополнительные сведения см. в [разделе Remove-CsTeamsShiftsScheduleRecord](/powershell/module/teams/remove-csteamsshiftsschedulerecord).

## <a name="run-the-wizard"></a>Запуск мастера

### <a name="get-started"></a>Начало работы

1. В левой области навигации [Центр администрирования Microsoft 365 выберите](https://admin.microsoft.com/) "**Настройка",** а затем перейдите в раздел "Приложения **и электронная почта**".
1. Выберите **"Подключить систему управления персоналом"**. Здесь вы можете узнать больше о соединителях Shifts и интерфейсном рабочем процессе и работе с руководителем при подключении shifts к WFM системе.
    :::image type="content" source="../../media/shifts-connector-wizard-get-started.png" alt-text="Снимок экрана: страница сведений для мастера соединителя Shifts в Центр администрирования Microsoft 365." lightbox="../../media/shifts-connector-wizard-get-started.png":::
1. Когда все будет готово, нажмите кнопку **"Начало работы"**.
1. Нажмите **кнопку "** Далее", чтобы создать WFM blue Yonder.

### <a name="enter-connection-details"></a>Ввод сведений о подключении
<a name="connection_details"> </a>

1. На странице сведений о подключении присвойте соединению уникальное имя. Он не может содержать более 128 символов или содержать специальные символы.
    :::image type="content" source="../../media/shifts-connector-wizard-connection-details.png" alt-text="Снимок экрана: страница сведений о подключении мастера с параметрами подключения." lightbox="../../media/shifts-connector-wizard-connection-details.png":::
1. Введите имя учетной записи WFM Blue Yonder, пароль и URL-адреса службы.
1. Когда все будет готово, нажмите **кнопку "Далее** ", чтобы проверить подключение с введенными параметрами.

### <a name="choose-sync-settings"></a>Выбор параметров синхронизации
<a name="sync"> </a>

На странице параметров синхронизации выберите сведения для синхронизации с Blue Yonder WFM shifts, частоту синхронизации и возможность изменения данных пользователями shifts.

1. Введите системную учетную запись Microsoft 365.
    :::image type="content" source="../../media/shifts-connector-wizard-sync-settings.png" alt-text="Снимок экрана: страница параметров синхронизации мастера с параметрами синхронизации." lightbox="../../media/shifts-connector-wizard-sync-settings.png":::
<a name="email"> </a>
1. В **разделе "Получатели уведомлений по электронной** почте" выберите получателей уведомлений по электронной почте об этом подключении. Вы можете добавить отдельных пользователей и группы. Уведомления по электронной почте содержат сведения о состоянии установки подключения и любых проблемах или ошибках, которые могут возникнуть после настройки подключения.
1. Выберите параметры синхронизации:
    1. В **разделе "Расписание и смены**" выберите синий WFM, которые пользователи могут видеть или изменять, а затем задайте частоту синхронизации.
    2. В **разделе "Запросы**" выберите типы запросов, которые пользователи смен могут просматривать и создавать.

    > [!IMPORTANT]
    > Если вы выбрали один из следующих параметров, чтобы отключить открытые смены, открытые запросы на смену, запросы на переключение или запросы на отгул, необходимо выполнить еще один шаг, чтобы скрыть эту возможность в shifts.
    >
    > - Открытые смены: **пользователи смен не будут видеть данные blue Yonder WFM**
    > - Запросы на **переключение: функция отключена для всех пользователей**
    > - Запросы на отгулы: **функция отключена для всех пользователей**
    >
    > После запуска мастера убедитесь, что вы выполните действия, описанные в разделе "Отключение открытых смен", "Запросы на смену" [,](#disable-open-shifts-open-shifts-requests-swap-requests-and-time-off-requests) "Запросы на переключение" и "Запросы на отгулы" далее в этой статье.
 
1. Завершив выбор параметров, нажмите кнопку " **Создать подключение"**.

### <a name="map-blue-yonder-workforce-management-instances-to-teams"></a>Сопоставление экземпляров Workforce Management Blue Yonder с командами
<a name="sites"> </a>

Выберите экземпляры blue Yonder WFM, которые вы хотите подключить к shifts, а затем сопоставьте каждый экземпляр с командой в Teams. Можно сопоставить до 100 экземпляров. Это можно сделать двумя способами:

- [Сопоставление экземпляров с командами вручную](#manually-map-instances-to-teams)
- [Подготовка и отправка CSV-файла, который определяет сопоставления](#use-a-csv-file-to-map-instances-to-teams)

#### <a name="manually-map-instances-to-teams"></a>Сопоставление экземпляров с командами вручную

Выберите экземпляры, которые необходимо сопоставить.

:::image type="content" source="../../media/shifts-connector-wizard-sites.png" alt-text="Снимок экрана мастера со списком экземпляров Blue Yonder WFM." lightbox="../../media/shifts-connector-wizard-sites.png":::
<a name="mapping"> </a>
<a name="search_teams"> </a> Затем сопоставьте каждый экземпляр с командой в Teams. Вы можете сопоставить экземпляр с существующей командой или создать новую команду.
:::image type="content" source="../../media/shifts-connector-wizard-search-team.png" alt-text="Снимок экрана: панель с параметром команды поиска и созданием нового параметра команды." lightbox="../../media/shifts-connector-wizard-search-team.png":::

##### <a name="to-map-an-instance-to-an-existing-team"></a>Сопоставление экземпляра с существующей командой

1. Выберите имя экземпляра.
2. На панели найдите команду и выберите ее. Помните, что команды, которые уже сопоставлены с экземпляром в этом соединении, не отображаются в поиске.
3. Выберите часовой пояс и ближайший город.
4. Нажмите **кнопку "** Сохранить", а затем нажмите кнопку **"Далее"**.

##### <a name="to-map-an-instance-to-a-new-team"></a>Сопоставление экземпляра с новой командой

1. Выберите имя экземпляра.
2. В области выберите " **Создать новую команду"**. Вы будете перенаправлены на новую вкладку в браузере, где можно создать новую команду в Центр администрирования Microsoft 365.
    1. Введите имя и необязательное описание для команды.
    1. Добавьте одного или нескольких владельцев команды. Убедитесь, что вы добавляете системную учетную запись Microsoft 365 в качестве владельца.
    1. Добавление участников команды.
    1. Добавьте адрес электронной почты группы и выберите параметр конфиденциальности.
    1. Проверьте параметры и нажмите кнопку **"Добавить команду"**. После создания команды нажмите кнопку " **Закрыть"**.
3. Назад к мастеру, найдите и выберите созданную команду.
4. Выберите часовой пояс и ближайший город.
5. Нажмите **кнопку "** Сохранить", а затем нажмите кнопку **"Далее"**.

#### <a name="use-a-csv-file-to-map-instances-to-teams"></a>Использование CSV-файла для сопоставления экземпляров с командами

1. Выберите **"Переключиться в массовый режим"**.
1. Выберите **скачивание файла шаблона,** чтобы скачать шаблон сопоставления, который можно использовать для определения сопоставлений.

    :::image type="content" source="../../media/shifts-connector-wizard-mapping-file.png" alt-text="Снимок экрана: страница отправки файла сопоставления мастера." lightbox="../../media/shifts-connector-wizard-mapping-file.png":::

1. Используйте шаблон для создания файла сопоставления. Он содержит эти столбцы в следующем порядке, начиная с первого столбца. Звездочка (*) указывает на обязательный столбец.

    |Имя столбца  |Описание  |
    |---------|---------|
    |**Идентификатор экземпляра Blue Yonder*** |Идентификатор экземпляра WFM Blue Yonder.|
    |**Имя экземпляра Blue Yonder**|Имя экземпляра WFM Blue Yonder.|
    |**Идентификатор команды*** |Идентификатор команды.|
    |**Имя команды**|Имя команды.|
    |**Часовой пояс*** |Часовой пояс в формате базы данных tz. Например, Европа или Лондон.|

    > [!NOTE]
    > Чтобы сопоставить экземпляры с командами, необходимо заполнить только необходимые столбцы (идентификатор экземпляра Blue Yonder, идентификатор команды, часовой пояс).

    Ниже приведен пример того, как выглядит файл сопоставления.

    |Идентификатор экземпляра Blue Yonder|Имя экземпляра Blue Yonder|Идентификатор команды|Имя команды|Часовой пояс|
    |---------|---------|---------|---------|---------|
    |2111|Команда Contoso ДЛЯ США|3a4d78a-2261|Команда США|Америка или Los_Angeles|
    |3212|Команда Contoso для Соединенного Королевства|2d1f6c2e-5272|Команда из Соединенного Королевства|Европа или Лондон|
    |4865||bfa6o89e-1328||Америка или Торонто|

1. Создав файл сопоставления, нажмите кнопку " **Обзор** ", чтобы отправить его. Мастер проверяет файл. При обнаружении ошибок вы увидите список ошибок и сообщение с запросом на их исправление. В противном случае вы увидите сообщение, чтобы перейти к следующему шагу.  
1. Нажмите **Далее**.

### <a name="review-and-finish"></a>Проверка и завершение

Проверьте параметры. Если вам нужно внести изменения в сопоставления команд, нажмите кнопку **"Изменить** ". Когда все будет готово, нажмите кнопку **"Готово"**.

:::image type="content" source="../../media/shifts-connector-wizard-review.png" alt-text="Снимок экрана: страница &quot;Проверка&quot; мастера с сопоставлением." lightbox="../../media/shifts-connector-wizard-review.png":::

Вы увидите сообщение о том, что мы получили ваш запрос вместе с идентификатором операции. Запишите идентификатор операции. Он понадобится для проверки состояния установки подключения.

:::image type="content" source="../../media/shifts-connector-wizard-operation-id.png" alt-text="Снимок экрана: страница мастера с сообщением подтверждения и идентификатором операции." lightbox="../../media/shifts-connector-wizard-operation-id.png":::

Мастер запускает процесс настройки подключения и сопоставления экземпляров с выбранными командами. Этот процесс может занять некоторое время. Выбранные получатели получат уведомления по электронной почте о состоянии установки.

Нажмите **кнопку "** Готово", чтобы выйти из мастера.

Вы уже на пути, но еще не сделали этого! Обязательно проверьте свой адрес электронной почты. Вы получите подтверждение того, что мы получили ваш запрос, а также ссылку на то, как можно проверить состояние установки.[](shifts-connector-powershell-manage.md#check-connection-setup-status)

> [!NOTE]
> Если после настройки подключения возникает проблема или ошибка, вы получите уведомление по электронной почте. Следуйте инструкциям в сообщении электронной почты, чтобы устранить проблему.

## <a name="disable-open-shifts-open-shifts-requests-swap-requests-and-time-off-requests"></a>Отключение открытых смен, запросов на открытие смен, запросов на переключение и запросов на отгул

> [!IMPORTANT]
> Выполните эти действия, только если вы выбрали один из следующих параметров, чтобы отключить открытые смены, открытые запросы на смену, запросы на переключение или запросы на отгулы в мастере. Выполнение этого шага скрывает возможность в shifts.
>
> - Открытые смены: **пользователи смен не будут видеть данные blue Yonder WFM**
> - Запросы на **переключение: функция отключена для всех пользователей**
> - Запросы на отгулы: **функция отключена для всех пользователей**
>
> Без этого второго шага пользователи по-прежнему будут видеть возможность в shifts и будут получать сообщение об ошибке "неподдерживаемая операция", если они попытаются использовать ее.

Чтобы скрыть открытые смены, запросы на переключение и запросы на отгулы в shifts, используйте [](/graph/api/resources/schedule) тип ресурса расписания API Graph```false```, чтобы задать следующие параметры для каждой команды, сопоставленной с экземпляром Blue Yonder WFM:

- Открытые смены: ```openShiftsEnabled```
- Запросы на переключение:  ```swapShiftsRequestsEnabled```
- Запросы на отгулы: ```timeOffRequestsEnabled```

Чтобы скрыть запросы на открытые смены в сменах,  перейдите к разделу "Параметры в сменах" и отключите параметр **"Открыть смены**".

## <a name="if-you-need-to-make-changes-to-a-connection"></a>Если необходимо внести изменения в подключение
<a name="update_connection"> </a>

После настройки подключения вы можете внести в него изменения с помощью PowerShell. Например, можно обновить параметры синхронизации, сопоставления команд и отключить синхронизацию для подключения. Пошаговые инструкции см. в разделе ["Использование PowerShell для управления подключением shifts к Blue Yonder Workforce Management"](shifts-connector-powershell-manage.md).

## <a name="related-articles"></a>Статьи по теме

- [Соединители shifts](shifts-connectors.md)
- [Использование PowerShell для управления подключением Shifts к Blue Yonder Workforce Management](shifts-connector-powershell-manage.md)
- [Управление приложением "Смены" в Teams](manage-the-shifts-app-for-your-organization-in-teams.md)
