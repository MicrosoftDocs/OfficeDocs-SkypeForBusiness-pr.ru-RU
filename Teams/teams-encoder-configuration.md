---
title: Конфигурация кодировщика для потоковой передачи в Microsoft Teams
author: MicrosoftHeidi
ms.author: heidip
manager: serdars
ms.topic: article
ms.service: msteams
audience: admin
ms.collection:
- M365-collaboration
ms.reviewer: asteele
search.appverid: MET150
f1.keywords:
- NOCSH
description: В этой статье рассматривается конфигурация RTMP на основе кодировщика для событий потоковой передачи Microsoft Teams.
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.custom: ''
ms.openlocfilehash: 8fd5feffe328083d9e7d5fa6e14cdbdac2ae5ffc
ms.sourcegitcommit: 0d25efb3dae31d5199807a14baaf30e944f561ce
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2023
ms.locfileid: "69767983"
---
# <a name="configuring-encoders-for-live-event-streaming-in-microsoft-teams"></a>Настройка кодировщиков для потоковой трансляции событий в Microsoft Teams

Teams принимает динамические каналы из различных кодировщиков, которые выводят RTMP или RTMPS. Каждый кодировщик отличается, поэтому при отправке в Teams обязательно соблюдайте рекомендации по настройке кодировщика.

Чтобы узнать, как настроить трансляцию в Teams, прочитайте о создании трансляций. Если вы уже используете кодировщик, интегрированный с Teams, ознакомьтесь с [настройкой кодировщиков для потоковой трансляции](teams-encoder-setup.md).

## <a name="configuration-steps"></a>Действия по настройке

После планирования трансляции с помощью Teams или Yammer и выбора параметра **Кодировщик Teams** вы сможете получить URL-адрес RTMP и ключ из приглашения на собрание и использовать их для отправки веб-канала в пользовательский интерфейс производителя Teams.

### <a name="gather-the-rtmp-information"></a>Сбор сведений о RTMP

#### <a name="scheduled-in-teams"></a>Запланировано в Teams

1. Откройте клиент Teams и перейдите к **календарю**.
1. Выберите запланированное трансляции и нажмите кнопку с двойной стрелкой, чтобы просмотреть сведения о приглашении.
1. Перейдите к разделу **RTMP в подробных сведениях** .
1. Щелкните ссылку **Получить RTMP,** чтобы скопировать URL-адрес приема RTMP в буфер обмена.
1. Выберите **получить ключ RTMP,** чтобы скопировать ключ RTMP в буфер обмена.

#### <a name="scheduled-in-yammer"></a>Запланировано в Yammer

1. Перейдите к сообществу Yammer, в котором было запланировано событие.
1. Перейдите на вкладку **События** , чтобы просмотреть предстоящие запланированные события.
1. Выберите нужное событие, чтобы открыть страницу сведений.
1. В правой части в разделе **Создать** выберите ссылку **RTMP Information (Сведения о RTMP** ), чтобы предоставить URL-адрес RTMP и ключ.

## <a name="encoder-setup"></a>Настройка кодировщика

1. После сбора сведений RTMP убедитесь, что кодировщик настроен с правильными параметрами в соответствии с рекомендуемыми параметрами кодировщика ниже.
1. Введите URL-адрес RTMP и ключ в параметры потоковой передачи кодировщика (подробные сведения см. в документации производителя).
1. Настройте кодировщик с нужными источниками звука и видео.
1. Откройте клиент Teams и присоединитесь к динамическому выходу в качестве продюсера.
1. Начните потоковую передачу из кодировщика в URL-адрес приема RTMP Teams.
1. В окне Производитель Teams через несколько секунд в области докладчика появится rtMP-канал кодировщика.
1. Щелкните канал RTMP в области докладчика, чтобы поместить его в очередь слева.
1. После того как вы будете удовлетворены веб-каналом, выберите **Отправить в режиме реального** времени— веб-канал также появится в правой части окна Производитель.
1. Нажмите кнопку **Пуск** , чтобы начать поток.

## <a name="recommended-encoder-settings"></a>Рекомендуемые параметры кодировщика

### <a name="ingest-protocols"></a>Протоколы приема

- RTMPS или RTMP с одной скоростью

### <a name="video-format"></a>Формат видео

- Кодек: H.264
- Профиль: Высокий (уровень 4.0)
- Скорость: до 5 Мбит/с (5000 кбит/с)
- Строгая константная скорость (CBR)
- Ключевой кадр/GOP: 2 секунды
  - В начале каждого GOP должен быть кадр IDR.
  - Частота кадров: 29,97 кадров/с или 30 кадров/с
  - Разрешение: 1280 x 720 (720P)
  - Режим перемежений: прогрессивный

### <a name="audio-format"></a>Формат звука

- Кодек: AAC (LC)
- Скорость: 192 кбит/с
- Частота выборки: 48 кГц или 44,1 кГц (рекомендуется 48 кГц)

### <a name="playback-requirements"></a>Требования к воспроизведению

- Для воспроизведения содержимого в Teams должен присутствовать аудио- и видеопоток.

### <a name="configuration-tips"></a>Советы по настройке

- По возможности используйте жесткое подключение к Интернету.
- При определении требований к пропускной способности необходимо удвоить скорость потоковой передачи. Хотя это необязательное требование, оно поможет снизить влияние перегрузки сети.
- При использовании программных кодировщиков закройте все ненужные программы.
- Не изменяйте конфигурацию кодировщика после начала отправки. Он оказывает негативное влияние на событие и может привести к нестабильности события. Если вы хотите сделать это до начала события, необходимо отключить элементы управления производителя в Teams и снова начать настройку.
- Если кодировщик отключен во время трансляции, повторно подключите его, сохраняя те же метки времени для продолжения процесса. Любое прерывание может привести к проблемам со звуком или видео в определенных браузерах и устройствах.
- Предоставьте себе достаточно времени для настройки события. Для высокомасштабируемых событий рекомендуется начать настройку за час до события.
