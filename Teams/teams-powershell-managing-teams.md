---
title: Управление группами с помощью Microsoft Teams PowerShell
ms.reviewer: brandber
author: brandber
ms.author: brandber
manager: kojiko
ms.date: 06/30/2020
ms.topic: conceptual
audience: admin
ms.service: msteams
ms.collection:
- M365-collaboration
description: Сведения о том, как управлять Microsoft Teams с помощью PowerShell Teams.
appliesto:
- Microsoft Teams
ms.openlocfilehash: 09d11b2c697ba57ea161d0ce961cf5ba73794617
ms.sourcegitcommit: 3f465eb6eb46db008f2b69fc4c6bb425d432dfcc
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/03/2020
ms.locfileid: "48852180"
---
# <a name="manage-teams-with-microsoft-teams-powershell"></a><span data-ttu-id="f6303-103">Управление группами с помощью Microsoft Teams PowerShell</span><span class="sxs-lookup"><span data-stu-id="f6303-103">Manage Teams with Microsoft Teams PowerShell</span></span>

<span data-ttu-id="f6303-104">В этой статье объясняется, как использовать Microsoft Teams PowerShell для управления группами и Skype для бизнеса.</span><span class="sxs-lookup"><span data-stu-id="f6303-104">This article shows you how to use Microsoft Teams PowerShell to manage Teams and Skype for Business.</span></span> 

<span data-ttu-id="f6303-105">Используйте это руководство в сочетании с ссылкой на [командлет Microsoft Teams](https://docs.microsoft.com/powershell/teams/?view=teams-ps) и [ссылкой на командлеты Skype для бизнеса](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="f6303-105">Use this guidance in conjunction with the [Microsoft Teams cmdlet reference](https://docs.microsoft.com/powershell/teams/?view=teams-ps) and [Skype for Business cmdlet reference](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps).</span></span>

## <a name="create-and-manage-teams-using-powershell"></a><span data-ttu-id="f6303-106">Создание команд и управление ими с помощью PowerShell</span><span class="sxs-lookup"><span data-stu-id="f6303-106">Create and manage teams using PowerShell</span></span>

<span data-ttu-id="f6303-107">Командлеты для создания и управления группами находятся в [модуле Microsoft Teams PowerShell](https://www.powershellgallery.com/packages/MicrosoftTeams/).</span><span class="sxs-lookup"><span data-stu-id="f6303-107">The cmdlets for creating and managing teams are in the [Microsoft Teams PowerShell module](https://www.powershellgallery.com/packages/MicrosoftTeams/).</span></span>

<span data-ttu-id="f6303-108">Команды создаются для групп Office 365, поэтому при создании группы создайте группу.</span><span class="sxs-lookup"><span data-stu-id="f6303-108">Teams are backed by Office 365 Groups, so when you create a team, you create a group.</span></span> <span data-ttu-id="f6303-109">Существует набор командлетов, предназначенных для работы с основной командой и ее параметрами ( ``new-team`` , ``get-team`` ,  ``set-team`` ), Управление пользователями группы ( ``add-teamuser`` , ``remove-teamuser`` ), а также командлетами для управления каналами группы ( ``new-teamchannel`` , ``remove-teamchannel`` ).</span><span class="sxs-lookup"><span data-stu-id="f6303-109">There are a set of cmdlets provided for operating on the core team and its settings (``new-team``, ``get-team``,  ``set-team``), managing team users (``add-teamuser``, ``remove-teamuser``), as well as cmdlets for managing the channels of the team (``new-teamchannel``, ``remove-teamchannel``).</span></span> <span data-ttu-id="f6303-110">Все эти командлеты можно запускать как конечные пользователи, но они будут работать только в тех группах, которыми вы владеете или являетесь участниками.</span><span class="sxs-lookup"><span data-stu-id="f6303-110">All of these cmdlets can be run as end users, but they'll work only on the teams that you own or are a member of.</span></span> <span data-ttu-id="f6303-111">Если вы являетесь администратором глобального администратора или службы Teams Service, вы сможете работать со всеми группами в Организации.</span><span class="sxs-lookup"><span data-stu-id="f6303-111">If you are a Global Admin or Teams Service Administrator, you'll be able to act on all teams in your organization.</span></span>

```powershell
New-Team -Name "Contoso Marketing" -Description "Collaboration space for Contoso's Marketing department"
```

> <span data-ttu-id="f6303-112">Идентификатор **groupId** , используемый в командлетах модуля Microsoft Teams PowerShell, совпадает со свойством **Identity** , возвращенным ``Get-UnifiedGroup`` в модуле Exchange PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f6303-112">The **GroupId** used in the Microsoft Teams PowerShell module cmdlets is the same as the **Identity** property returned by ``Get-UnifiedGroup`` in the Exchange PowerShell module.</span></span>

## <a name="manage-policies-via-powershell"></a><span data-ttu-id="f6303-113">Управление политиками через PowerShell</span><span class="sxs-lookup"><span data-stu-id="f6303-113">Manage policies via PowerShell</span></span>

> [!NOTE]
> - <span data-ttu-id="f6303-114">Соединитель Skype для бизнеса Online консолидируется в командную оболочку PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f6303-114">Skype for Business Online Connector is being consolidated into Teams PowerShell.</span></span> <span data-ttu-id="f6303-115">В настоящее время она доступна в общедоступном предварительном просмотре.</span><span class="sxs-lookup"><span data-stu-id="f6303-115">It is currently available in public preview.</span></span> <span data-ttu-id="f6303-116">На данный момент командлеты Skype для бизнеса Online, применимые к Teams, будут доступны в модуле PowerShell Teams.</span><span class="sxs-lookup"><span data-stu-id="f6303-116">In time, Skype for Business Online cmdlets that apply to Teams will be natively available in the Teams PowerShell module.</span></span> <span data-ttu-id="f6303-117">Инструкции по установке можно найти в статье [Установка оболочки PowerShell для Teams](teams-powershell-install.md) .</span><span class="sxs-lookup"><span data-stu-id="f6303-117">Installation steps are available in the [Install Teams PowerShell](teams-powershell-install.md) article.</span></span>
>
> - <span data-ttu-id="f6303-118">После подключения к Skype для бизнеса Online командлеты будут доступны в сеансе PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f6303-118">The cmdlets will be available in your PowerShell session once you connect to Skype for Business Online.</span></span> <span data-ttu-id="f6303-119">Дополнительные сведения можно найти в разделе [Управление Skype для бизнеса Online в Office 365 PowerShell](https://docs.microsoft.com/office365/enterprise/powershell/manage-skype-for-business-online-with-office-365-powershell).</span><span class="sxs-lookup"><span data-stu-id="f6303-119">For more information, please see [Manage Skype for Business Online with Office 365 PowerShell](https://docs.microsoft.com/office365/enterprise/powershell/manage-skype-for-business-online-with-office-365-powershell).</span></span>

<span data-ttu-id="f6303-120">Найдите командлеты для управления политиками в [модуле командлетов Skype для бизнеса](https://www.microsoft.com/download/details.aspx?id=39366).</span><span class="sxs-lookup"><span data-stu-id="f6303-120">Find the cmdlets for managing policies in the [Skype for Business cmdlet module](https://www.microsoft.com/download/details.aspx?id=39366).</span></span>

<span data-ttu-id="f6303-121">Политика — это группа параметров, которые могут быть применены к отдельным пользователям.</span><span class="sxs-lookup"><span data-stu-id="f6303-121">A policy is a group of settings that can be applied granularly to individual users.</span></span> <span data-ttu-id="f6303-122">У каждого типа политики есть собственный набор командлетов для создания, просмотра, удаления и обновления политик, а затем назначения этих политик пользователям.</span><span class="sxs-lookup"><span data-stu-id="f6303-122">Each policy type has its own set of cmdlets for creating, viewing, deleting, and updating the policies themselves, and then assigning those policies to users.</span></span> <span data-ttu-id="f6303-123">Общая структура:</span><span class="sxs-lookup"><span data-stu-id="f6303-123">The general structure is:</span></span>

- <span data-ttu-id="f6303-124">**Получить** команды (например, ``Get-CsTeamsMeetingPolicy`` ): возвращает документы политики, которые можно назначить в вашей организации, включая политики, созданные корпорацией Майкрософт, и созданные вами пользовательские политики.</span><span class="sxs-lookup"><span data-stu-id="f6303-124">**GET** commands (for example, ``Get-CsTeamsMeetingPolicy``): Returns the policy documents that are available for you to assign in your organization, including the policies created by Microsoft for you to use as well as the custom policies you’ve created.</span></span>
   - <span data-ttu-id="f6303-125">Чтобы найти только пользовательские политики, созданные в вашей организации, используйте ``-Filter "tag:*"`` .</span><span class="sxs-lookup"><span data-stu-id="f6303-125">To find only the custom policies you’ve created in your organization, use ``-Filter "tag:*"``.</span></span>

- <span data-ttu-id="f6303-126">**Новые** команды (например, ``New-CsTeamsMeetingPolicy`` ): создает новые политики для Организации, назначаемые пользователям в Организации.</span><span class="sxs-lookup"><span data-stu-id="f6303-126">**NEW** commands (for example, ``New-CsTeamsMeetingPolicy``): Creates new policies for your organization to assign to users in your organization.</span></span> <span data-ttu-id="f6303-127">Не все политики поддерживают создание настраиваемых политик.</span><span class="sxs-lookup"><span data-stu-id="f6303-127">Not all policies support the creation of custom policies.</span></span> <span data-ttu-id="f6303-128">Чаще всего это необходимо для того, чтобы политики, используемые в вашей организации, поддерживали сочетание параметров.</span><span class="sxs-lookup"><span data-stu-id="f6303-128">Often this is to ensure that the policies you use in your organization have a supported combination of settings.</span></span>

- <span data-ttu-id="f6303-129">**Set** Commands (например, ``Set-CsTeamsMeetingPolicy`` ): задает определенные значения для указанной политики.</span><span class="sxs-lookup"><span data-stu-id="f6303-129">**SET** commands (for example, ``Set-CsTeamsMeetingPolicy``): Sets particular values on a given policy.</span></span> <span data-ttu-id="f6303-130">Некоторые политики не имеют доступных команд SET или содержат параметры, которые не могут быть настроены в политике.</span><span class="sxs-lookup"><span data-stu-id="f6303-130">Some policies don't have SET commands available, or they contain parameters that can't be customized in the policy.</span></span> <span data-ttu-id="f6303-131">В описаниях PowerShell вы можете указать, какие параметры нельзя настроить.</span><span class="sxs-lookup"><span data-stu-id="f6303-131">The PowerShell descriptions tell you which parameters can't be customized.</span></span> 
   - <span data-ttu-id="f6303-132">Чтобы изменить политику, которая будет использоваться по умолчанию для пользователей в вашей организации, у которых нет назначенной особой политики, запустите ``Set-Cs<PolicyName> -Identity Global`` .</span><span class="sxs-lookup"><span data-stu-id="f6303-132">To edit the policy that will by default be assigned to users in your organization who do not have a custom policy assigned, run ``Set-Cs<PolicyName> -Identity Global``.</span></span>

- <span data-ttu-id="f6303-133">**Удалить** команды (например, ``Remove-CsTeamsMeetingPolicy`` ): удаляет специальную политику, созданную в клиенте.</span><span class="sxs-lookup"><span data-stu-id="f6303-133">**REMOVE** commands (for example, ``Remove-CsTeamsMeetingPolicy``): Deletes a custom policy that has been created in your tenant.</span></span> <span data-ttu-id="f6303-134">При удалении настраиваемой политики, назначенной по крайней мере одному пользователю в Организации, этот пользователь будет возвращаться к глобальной политике.</span><span class="sxs-lookup"><span data-stu-id="f6303-134">If you delete a custom policy that has been assigned to at least one user in your organization, that user will fall back to the global policy.</span></span>
   - <span data-ttu-id="f6303-135">Вы не можете удалить глобальную политику в вашей организации, но если вы хотите сбросить глобальную политику в вашей организации до указанных для Microsoft параметров по умолчанию, выполните ``Remove-Cs<PolicyName> -Identity Global`` .</span><span class="sxs-lookup"><span data-stu-id="f6303-135">You can’t actually remove the global policy in your organization, but if you want to reset the global policy in your organization to the Microsoft-provided default settings, run ``Remove-Cs<PolicyName> -Identity Global``.</span></span>

- <span data-ttu-id="f6303-136">Команда **Grant** (например, ``Grant-CsTeamsMeetingPolicy`` ): назначение политики определенному пользователю.</span><span class="sxs-lookup"><span data-stu-id="f6303-136">**GRANT** command (for example, ``Grant-CsTeamsMeetingPolicy``): Assigns a policy to a particular user.</span></span>
   - <span data-ttu-id="f6303-137">Чтобы удалить настраиваемое назначение политики и вернуть пользователя к политике по умолчанию в вашей организации, выполните ``Grant-Cs<PolicyName> -Identity <User Identity> -PolicyName $null`` .</span><span class="sxs-lookup"><span data-stu-id="f6303-137">To remove a custom policy assignment and make the user fall back to the default policy in your organization, run ``Grant-Cs<PolicyName> -Identity <User Identity> -PolicyName $null``.</span></span>

> [!TIP]
> <span data-ttu-id="f6303-138">Не все политики допускают создание настраиваемых политик, а некоторые политики имеют параметры, которые нельзя настраивать (поэтому вы можете просматривать параметры, но не может задавать пользовательские значения во время ``set-`` и ``new-`` ).</span><span class="sxs-lookup"><span data-stu-id="f6303-138">Not all policies allow custom policies to be created, and some policies have settings that you can’t customize (so you can view the setting but can’t set a custom value during ``set-`` and ``new-``).</span></span> <span data-ttu-id="f6303-139">В документации для каждого командлета осуществляется обращение к параметрам, которые можно использовать для пользователей.</span><span class="sxs-lookup"><span data-stu-id="f6303-139">The documentation for each cmdlet calls out whether parameters are available for use by customers.</span></span>

<span data-ttu-id="f6303-140">Общие параметры:</span><span class="sxs-lookup"><span data-stu-id="f6303-140">Common parameters:</span></span>

- <span data-ttu-id="f6303-141">**Identity** : for ``Get-`` , ``Set-`` , ``New-`` и ``Remove-`` , параметр **Identity** всегда будет ссылаться на определенный экземпляр политики.</span><span class="sxs-lookup"><span data-stu-id="f6303-141">**Identity** : For ``Get-``, ``Set-``, ``New-``, and ``Remove-``, the **Identity** parameter will always refer to a specific policy instance.</span></span> <span data-ttu-id="f6303-142">Для ``Grant`` параметра **Identity** — конкретный объект пользователя, которому применяется политика.</span><span class="sxs-lookup"><span data-stu-id="f6303-142">For ``Grant``, the **Identity** parameter refers to a specific user object to whom the policy is being applied.</span></span>

## <a name="manage-configurations-via-powershell"></a><span data-ttu-id="f6303-143">Управление конфигурациями с помощью PowerShell</span><span class="sxs-lookup"><span data-stu-id="f6303-143">Manage configurations via PowerShell</span></span>

<span data-ttu-id="f6303-144">Найдите командлеты для управления конфигурацией в [модуле командлетов Skype для бизнеса](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span><span class="sxs-lookup"><span data-stu-id="f6303-144">Find the cmdlets for managing your configuration in the [Skype for Business cmdlet module](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span></span>

<span data-ttu-id="f6303-145">Конфигурации — это сегменты параметров, поддерживаемых в службе, которые не могут быть указаны на уровне пользователя.</span><span class="sxs-lookup"><span data-stu-id="f6303-145">Configurations are buckets of settings maintained in the service that can't be specified at a user level.</span></span> <span data-ttu-id="f6303-146">Параметры всегда применяются во всей Организации.</span><span class="sxs-lookup"><span data-stu-id="f6303-146">Settings always apply across the whole organization.</span></span> <span data-ttu-id="f6303-147">Ваша Глобальная конфигурация является единственной действующей конфигурацией в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="f6303-147">Your global configuration is the only effective configuration in your organization.</span></span> <span data-ttu-id="f6303-148">Каждый тип конфигурации поставляется с двумя основными командлетами:</span><span class="sxs-lookup"><span data-stu-id="f6303-148">Each configuration type comes with two primary cmdlets:</span></span>

- <span data-ttu-id="f6303-149">``Get-Cs<ConfigurationName>`` (например, ``Get-CsTeamsClientConfiguration`` ):</span><span class="sxs-lookup"><span data-stu-id="f6303-149">``Get-Cs<ConfigurationName>`` (for example, ``Get-CsTeamsClientConfiguration``):</span></span>

- <span data-ttu-id="f6303-150">SET Commands (например, ``Set-CsTeamsClientConfiguration`` ): Настройка свойств в конфигурации этого типа.</span><span class="sxs-lookup"><span data-stu-id="f6303-150">SET commands (for example, ``Set-CsTeamsClientConfiguration``): set properties in the configuration of that type.</span></span> <span data-ttu-id="f6303-151">Укажите параметры, которые вы хотите изменить.</span><span class="sxs-lookup"><span data-stu-id="f6303-151">Specify the parameters that you want to modify.</span></span>
   > <span data-ttu-id="f6303-152">Вы можете создать ссылку на изменяемую конфигурацию одним из двух способов: указав **глобальный идентификатор** или запустив приложение ``Get-Cs<ConfigurationName>``  |  ``Set-Cs<ConfigurationName>`` .</span><span class="sxs-lookup"><span data-stu-id="f6303-152">You can reference the configuration that you’re modifying in one of two ways: by specifying - **Identity Global** , or by running ``Get-Cs<ConfigurationName>`` | ``Set-Cs<ConfigurationName>``.</span></span>

## <a name="what-can-each-admin-role-do"></a><span data-ttu-id="f6303-153">Что может делать каждая роль администратора?</span><span class="sxs-lookup"><span data-stu-id="f6303-153">What can each admin role do?</span></span>

<span data-ttu-id="f6303-154">Прочитать [Используйте роли администратора Microsoft Teams для управления группами](using-admin-roles.md) , чтобы понять, какие роли администратора могут выполнять каждый командлет PowerShell.</span><span class="sxs-lookup"><span data-stu-id="f6303-154">Read [Use Microsoft Teams admin roles to manage Teams](using-admin-roles.md) to understand which admin roles can run each PowerShell cmdlet.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f6303-155">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="f6303-155">Related topics</span></span>

[<span data-ttu-id="f6303-156">Установка оболочки PowerShell для Teams</span><span class="sxs-lookup"><span data-stu-id="f6303-156">Installing Teams PowerShell</span></span>](teams-powershell-install.md)

[<span data-ttu-id="f6303-157">Заметки о выпуске оболочки PowerShell для Teams</span><span class="sxs-lookup"><span data-stu-id="f6303-157">Teams PowerShell Release Notes</span></span>](teams-powershell-release-notes.md)

[<span data-ttu-id="f6303-158">Справочник по командлетам Teams</span><span class="sxs-lookup"><span data-stu-id="f6303-158">Teams cmdlet reference</span></span>](https://docs.microsoft.com/powershell/teams/?view=teams-ps)

[<span data-ttu-id="f6303-159">Справочник по командлетам Skype для бизнеса</span><span class="sxs-lookup"><span data-stu-id="f6303-159">Skype for Business cmdlet reference</span></span>](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps)

[<span data-ttu-id="f6303-160">Управление Teams с ролями администратора</span><span class="sxs-lookup"><span data-stu-id="f6303-160">Use Teams admin roles to manage Teams</span></span>](using-admin-roles.md)
