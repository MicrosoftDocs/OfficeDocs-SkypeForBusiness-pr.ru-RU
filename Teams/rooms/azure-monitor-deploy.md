---
title: Развертывание управления помещениями Microsoft Teams с помощью Azure Monitor
ms.author: dstrome
author: dstrome
ms.reviewer: Turgayo
manager: serdars
audience: ITPro
ms.topic: quickstart
ms.service: msteams
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection:
- M365-collaboration
ms.assetid: d86ff657-ee92-4b06-aee3-d4c43090bdcb
description: В этой статье рассмотрено развертывание встроенного и комплексного управления устройствами комнат Microsoft Teams с помощью Azure Monitor.
ms.custom: seo-marvel-mar2020
ms.openlocfilehash: b05c490c157c9f6530ca79ecdd8df19f15d94c68
ms.sourcegitcommit: 975f81d9e595dfb339550625d7cef8ad84449e20
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/12/2020
ms.locfileid: "49662104"
---
# <a name="deploy-no-loc-textmicrosoft-teams-rooms-management-with-no-loc-textazure-monitor"></a><span data-ttu-id="03f2c-103">Развертывание :::no-loc text="Microsoft Teams Rooms"::: управления с помощью :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-103">Deploy :::no-loc text="Microsoft Teams Rooms"::: management with :::no-loc text="Azure Monitor":::</span></span>

<span data-ttu-id="03f2c-104">В этой статье обсуждается настройка и развертывание интегрированного и комплексного управления устройствами :::no-loc text="Microsoft Teams Rooms"::: с :::no-loc text="Azure Monitor"::: помощью.</span><span class="sxs-lookup"><span data-stu-id="03f2c-104">This article discusses how to set up and deploy integrated, end-to-end management of :::no-loc text="Microsoft Teams Rooms"::: devices by using :::no-loc text="Azure Monitor":::.</span></span>

<span data-ttu-id="03f2c-105">Вы можете настроить в этой области основные средства телеметрии и оповещения, которые помогут :::no-loc text="Log Analytics"::: :::no-loc text="Azure Monitor"::: вам управлять устройствами в комнате для :::no-loc text="Microsoft Teams Rooms"::: собраний.</span><span class="sxs-lookup"><span data-stu-id="03f2c-105">You can configure :::no-loc text="Log Analytics"::: within :::no-loc text="Azure Monitor"::: to provide basic telemetry and alerts that will help you manage :::no-loc text="Microsoft Teams Rooms"::: meeting room devices.</span></span> <span data-ttu-id="03f2c-106">По мере взросления решения управления может потребоваться развернуть дополнительные данные и возможности управления, чтобы получить более подробное представление о доступности и производительности устройства.</span><span class="sxs-lookup"><span data-stu-id="03f2c-106">As your management solution matures, you might decide to deploy additional data and management capabilities to create a more detailed view of device availability and performance.</span></span>

<span data-ttu-id="03f2c-107">Следуя этому руководству, вы можете использовать панель мониторинга, как в следующем примере, для получения подробных отчетов о состоянии доступности устройств, работоспособности приложений и оборудования, а также распространения версий приложений и :::no-loc text="Microsoft Teams Rooms"::: операционных систем.</span><span class="sxs-lookup"><span data-stu-id="03f2c-107">By following this guide, you can use a dashboard like the following example to get detailed status reporting for device availability, application and hardware health, and :::no-loc text="Microsoft Teams Rooms"::: application and operating system version distribution.</span></span>

<span data-ttu-id="03f2c-108">![Снимок экрана: образец представления аналитики журнала для комнат Microsoft Teams](../media/Deploy-Azure-Monitor-1.png "Пример представления аналитики журнала для комнат Microsoft Teams")</span><span class="sxs-lookup"><span data-stu-id="03f2c-108">![Screenshot of sample Log Analytics view for Microsoft Teams Rooms](../media/Deploy-Azure-Monitor-1.png "Sample Log Analytics view for Microsoft Teams Rooms")</span></span>

<span data-ttu-id="03f2c-109">В общих чертах вам необходимо выполнить следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="03f2c-109">At a high level, you need to perform the following tasks:</span></span>


1. [<span data-ttu-id="03f2c-110">Проверка :::no-loc text="Log Analytics"::: конфигурации</span><span class="sxs-lookup"><span data-stu-id="03f2c-110">Validate :::no-loc text="Log Analytics"::: configuration</span></span>](azure-monitor-deploy.md#validate_LogAnalytics)
2. [<span data-ttu-id="03f2c-111">Настройка тестовых устройств для :::no-loc text="Log Analytics"::: настройки управления</span><span class="sxs-lookup"><span data-stu-id="03f2c-111">Configure test devices for :::no-loc text="Log Analytics"::: management setup</span></span>](azure-monitor-deploy.md#configure_test_devices)
3. [<span data-ttu-id="03f2c-112">Сопоставление настраиваемых полей</span><span class="sxs-lookup"><span data-stu-id="03f2c-112">Map custom fields</span></span>](azure-monitor-deploy.md#Custom_fields)
4. [<span data-ttu-id="03f2c-113">Определение :::no-loc text="Microsoft Teams Rooms"::: представлений в :::no-loc text="Log Analytics":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-113">Define the :::no-loc text="Microsoft Teams Rooms"::: views in :::no-loc text="Log Analytics":::</span></span>](azure-monitor-deploy.md#Define_Views)
5. [<span data-ttu-id="03f2c-114">Определение оповещений</span><span class="sxs-lookup"><span data-stu-id="03f2c-114">Define alerts</span></span>](azure-monitor-deploy.md#Alerts)
6. [<span data-ttu-id="03f2c-115">Настройка всех устройств для мониторинга</span><span class="sxs-lookup"><span data-stu-id="03f2c-115">Configure all devices for Monitoring</span></span>](azure-monitor-deploy.md#configure_all_devices)
7. [<span data-ttu-id="03f2c-116">Настройка дополнительных :::no-loc text="Azure Monitor"::: решений</span><span class="sxs-lookup"><span data-stu-id="03f2c-116">Configure additional :::no-loc text="Azure Monitor"::: solutions</span></span>](azure-monitor-deploy.md#Solutions)

> [!IMPORTANT]
> <span data-ttu-id="03f2c-117">Хотя конфигурация минимальна, можно отслеживать компьютер с операционной системой, но перед развертыванием агентов на всех устройствах необходимо предпринять некоторые конкретные :::no-loc text="Azure Monitor"::: :::no-loc text="Log Analytics"::: :::no-loc text="Windows"::: :::no-loc text="Microsoft Teams Rooms"::: :::no-loc text="Microsoft Teams Rooms"::: действия.</span><span class="sxs-lookup"><span data-stu-id="03f2c-117">Although with minimal configuration, :::no-loc text="Azure Monitor"::: :::no-loc text="Log Analytics"::: can monitor a computer running a :::no-loc text="Windows"::: operating system, there are still some :::no-loc text="Microsoft Teams Rooms":::–specific steps that you need to take before you start deploying agents to all :::no-loc text="Microsoft Teams Rooms"::: devices.</span></span>
> <span data-ttu-id="03f2c-118">Поэтому настоятельно рекомендуется выполнить все действия конфигурации в правильном порядке для управляемой настройки и настройки.</span><span class="sxs-lookup"><span data-stu-id="03f2c-118">Therefore, we highly recommend you perform all configuration steps in the right order for a controlled setup and configuration.</span></span> <span data-ttu-id="03f2c-119">Качество конечного результата во многом зависит от качества исходной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="03f2c-119">The quality of the end result very much depends on the quality of the initial configuration.</span></span>

## <a name="validate-no-loc-textlog-analytics-configuration"></a><span data-ttu-id="03f2c-120">Проверка :::no-loc text="Log Analytics"::: конфигурации</span><span class="sxs-lookup"><span data-stu-id="03f2c-120">Validate :::no-loc text="Log Analytics"::: configuration</span></span>
<span data-ttu-id="03f2c-121"><a name="validate_LogAnalytics"> </a></span><span class="sxs-lookup"><span data-stu-id="03f2c-121"><a name="validate_LogAnalytics"> </a></span></span>

<span data-ttu-id="03f2c-122">Для сбора журналов с устройств необходимо иметь рабочее :::no-loc text="Log Analytics"::: :::no-loc text="Microsoft Teams Rooms"::: пространство.</span><span class="sxs-lookup"><span data-stu-id="03f2c-122">You need to have a :::no-loc text="Log Analytics"::: workspace to start collecting logs from :::no-loc text="Microsoft Teams Rooms"::: devices.</span></span> <span data-ttu-id="03f2c-123">Рабочее пространство — это уникальная среда со своим репозиторием :::no-loc text="Log Analytics"::: данных, источниками данных и решениями.</span><span class="sxs-lookup"><span data-stu-id="03f2c-123">A workspace is a unique :::no-loc text="Log Analytics"::: environment with its own data repository, data sources, and solutions.</span></span> <span data-ttu-id="03f2c-124">Если у вас уже есть рабочее пространство, вы можете использовать его для отслеживания развертывания или, как вариант, создать специальную рабочее пространство, предназначенное для :::no-loc text="Log Analytics"::: :::no-loc text="Microsoft Teams Rooms"::: :::no-loc text="Log Analytics"::: :::no-loc text="Microsoft Teams Rooms"::: мониторинга.</span><span class="sxs-lookup"><span data-stu-id="03f2c-124">If you already have an existing :::no-loc text="Log Analytics"::: workspace, you might use it to monitor your :::no-loc text="Microsoft Teams Rooms"::: deployment or alternatively, you can create a dedicated :::no-loc text="Log Analytics"::: workspace specific to your :::no-loc text="Microsoft Teams Rooms"::: monitoring needs.</span></span>

<span data-ttu-id="03f2c-125">Если вам нужно создать новую область, следуйте инструкциям в статье "Создание рабочей области :::no-loc text="Log Analytics"::: [на :::no-loc text="Log Analytics"::: :::no-loc text="Azure"::: портале".](https://docs.microsoft.com/azure/azure-monitor/learn/quick-create-workspace)</span><span class="sxs-lookup"><span data-stu-id="03f2c-125">If you need to create a new :::no-loc text="Log Analytics"::: workspace, follow the instructions in the article [Create a :::no-loc text="Log Analytics"::: workspace in the :::no-loc text="Azure"::: portal](https://docs.microsoft.com/azure/azure-monitor/learn/quick-create-workspace)</span></span>

> [!NOTE]
> <span data-ttu-id="03f2c-126">Для использования :::no-loc text="Log Analytics"::: с :::no-loc text="Azure Monitor"::: ним необходима активная :::no-loc text="Azure"::: подписка.</span><span class="sxs-lookup"><span data-stu-id="03f2c-126">To use :::no-loc text="Log Analytics"::: with :::no-loc text="Azure Monitor":::, you need to have an active :::no-loc text="Azure"::: subscription.</span></span> <span data-ttu-id="03f2c-127">Если у вас нет подписки, вы можете создать бесплатную пробную подписку :::no-loc text="Azure"::: в качестве отправной точки. [](https://azure.microsoft.com/free)</span><span class="sxs-lookup"><span data-stu-id="03f2c-127">If you don't have an :::no-loc text="Azure"::: subscription, you can create [a free trial subscription](https://azure.microsoft.com/free) as a starting point.</span></span>

### <a name="configure-no-loc-textlog-analytics-to-collect-no-loc-textmicrosoft-teams-rooms-event-logs"></a><span data-ttu-id="03f2c-128">Настройка для :::no-loc text="Log Analytics"::: сбора :::no-loc text="Microsoft Teams Rooms"::: журналов событий</span><span class="sxs-lookup"><span data-stu-id="03f2c-128">Configure :::no-loc text="Log Analytics"::: to collect :::no-loc text="Microsoft Teams Rooms"::: event logs</span></span>

<span data-ttu-id="03f2c-129">:::no-loc text="Log Analytics"::: только собирает события из :::no-loc text="Windows"::: журналов событий, заданных в параметрах.</span><span class="sxs-lookup"><span data-stu-id="03f2c-129">:::no-loc text="Log Analytics"::: only collects events from the :::no-loc text="Windows"::: event logs that are specified in the settings.</span></span> <span data-ttu-id="03f2c-130">Для каждого журнала собираются только события с выбранной серьезности.</span><span class="sxs-lookup"><span data-stu-id="03f2c-130">For each log, only the events with the selected severities are collected.</span></span>

<span data-ttu-id="03f2c-131">Необходимо настроить сбор журналов, необходимых для отслеживания состояния устройства :::no-loc text="Log Analytics"::: :::no-loc text="Microsoft Teams Rooms"::: и приложения.</span><span class="sxs-lookup"><span data-stu-id="03f2c-131">You need to configure :::no-loc text="Log Analytics"::: to collect the logs required to monitor :::no-loc text="Microsoft Teams Rooms"::: device and application status.</span></span> <span data-ttu-id="03f2c-132">:::no-loc text="Microsoft Teams Rooms"::: используют журнал **:::no-loc text="Skype Room System":::** событий.</span><span class="sxs-lookup"><span data-stu-id="03f2c-132">:::no-loc text="Microsoft Teams Rooms"::: devices use the **:::no-loc text="Skype Room System":::** event log.</span></span>

<span data-ttu-id="03f2c-133">Сведения о :::no-loc text="Log Analytics"::: настройке сбора событий см. в источниках :::no-loc text="Microsoft Teams Rooms"::: данных журнала событий [ :::no-loc text="Windows"::: в :::no-loc text="Azure Monitor"::: ](https://docs.microsoft.com/azure/azure-monitor/platform/data-sources-windows-events)</span><span class="sxs-lookup"><span data-stu-id="03f2c-133">To configure :::no-loc text="Log Analytics"::: to collect the :::no-loc text="Microsoft Teams Rooms"::: events, see [:::no-loc text="Windows"::: event log data sources in :::no-loc text="Azure Monitor":::](https://docs.microsoft.com/azure/azure-monitor/platform/data-sources-windows-events)</span></span>

<span data-ttu-id="03f2c-134">![Снимок экрана: параметры журнала событий](../media/Deploy-Azure-Monitor-2.png "Параметры журнала событий")</span><span class="sxs-lookup"><span data-stu-id="03f2c-134">![Screenshot of event log settings](../media/Deploy-Azure-Monitor-2.png "Event log settings")</span></span>

> [!IMPORTANT]
> <span data-ttu-id="03f2c-135">Настройте параметры журнала событий и введите его имя, а затем выберите флажки "Ошибка", "Предупреждение" и :::no-loc text="Windows"::: **:::no-loc text="Skype Room System":::** "Сведения".   </span><span class="sxs-lookup"><span data-stu-id="03f2c-135">Configure :::no-loc text="Windows"::: Event Log settings and enter **:::no-loc text="Skype Room System":::** as event log name, and then select the **Error**, **Warning**, and **Information** check boxes.</span></span>

## <a name="configure-test-devices-for-azure-monitoring"></a><span data-ttu-id="03f2c-136">Настройка тестовых устройств для мониторинга Azure</span><span class="sxs-lookup"><span data-stu-id="03f2c-136">Configure test devices for Azure Monitoring</span></span>
<span data-ttu-id="03f2c-137"><a name="configure_test_devices"> </a></span><span class="sxs-lookup"><span data-stu-id="03f2c-137"><a name="configure_test_devices"> </a></span></span>

<span data-ttu-id="03f2c-138">Вам нужно подготовиться :::no-loc text="Log Analytics"::: к отслеживанию :::no-loc text="Microsoft Teams Rooms"::: связанных событий.</span><span class="sxs-lookup"><span data-stu-id="03f2c-138">You need to prepare :::no-loc text="Log Analytics"::: to be able to monitor :::no-loc text="Microsoft Teams Rooms":::–related events.</span></span> <span data-ttu-id="03f2c-139">Для начала необходимо развернуть агентов только на одном или двух устройствах, к которые вы имеете физический доступ, и получить эти тестовые устройства, чтобы получить определенные данные и задвинуть их в :::no-loc text="Microsoft Monitoring"::: :::no-loc text="Microsoft Teams Rooms"::: рабочее :::no-loc text="Log Analytics"::: пространство.</span><span class="sxs-lookup"><span data-stu-id="03f2c-139">To start with, you need to deploy :::no-loc text="Microsoft Monitoring"::: agents to just one or two :::no-loc text="Microsoft Teams Rooms"::: devices that you have physical access to, and get those test devices generate some data and push it to the :::no-loc text="Log Analytics"::: workspace.</span></span>

### <a name="install-no-loc-textmicrosoft-monitoring-agents-to-test-devices"></a><span data-ttu-id="03f2c-140">Установка :::no-loc text="Microsoft Monitoring"::: агентов для тестирования устройств</span><span class="sxs-lookup"><span data-stu-id="03f2c-140">Install :::no-loc text="Microsoft Monitoring"::: agents to test devices</span></span>

<span data-ttu-id="03f2c-141">Развернйте агента на тестовых устройствах, используя инструкции, предоставленные в окне подключения компьютеров :::no-loc text="Microsoft Monitoring"::: [к :::no-loc text="Windows"::: :::no-loc text="Log Analytics"::: службе. :::no-loc text="Azure"::: ](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows)</span><span class="sxs-lookup"><span data-stu-id="03f2c-141">Deploy the :::no-loc text="Microsoft Monitoring"::: agent to the test devices by using the instructions provided in [Connect :::no-loc text="Windows"::: computers to the :::no-loc text="Log Analytics"::: service in :::no-loc text="Azure":::](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows).</span></span> <span data-ttu-id="03f2c-142">В этой статье подробно описаны действия по развертыванию агента, инструкции по получению ИД рабочей области _ и первичный ключ для подключения устройств к развертыванию, а также инструкции по проверке подключения агента к :::no-loc text="Microsoft Monitoring"::: :::no-loc text="Windows"::: :::no-loc text="Log Analytics":::  \* \*\* _\*\*_ :::no-loc text="Microsoft Teams Rooms"::: :::no-loc text="Azure Monitor"::: :::no-loc text="Log Analytics"::: экземпляру.</span><span class="sxs-lookup"><span data-stu-id="03f2c-142">This article provides detailed information about the steps for deploying :::no-loc text="Microsoft Monitoring"::: Agent for :::no-loc text="Windows":::, instructions for obtaining the :::no-loc text="Log Analytics"::: **_Workspace ID_* _ and the _*_primary key_\*_ to get :::no-loc text="Microsoft Teams Rooms"::: devices connected to your :::no-loc text="Azure Monitor"::: deployment, and steps to verify agent connectivity to :::no-loc text="Log Analytics"::: instance.</span></span>

### <a name="generate-sample-no-loc-textmicrosoft-teams-rooms-events"></a><span data-ttu-id="03f2c-143">Создание примеров :::no-loc text="Microsoft Teams Rooms"::: событий</span><span class="sxs-lookup"><span data-stu-id="03f2c-143">Generate sample :::no-loc text="Microsoft Teams Rooms"::: events</span></span>

<span data-ttu-id="03f2c-144">После развертывания агента на тестовых устройствах убедитесь, что необходимые данные журнала событий :::no-loc text="Microsoft Monitoring"::: собраны. :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-144">After the :::no-loc text="Microsoft Monitoring"::: agent is deployed onto the test devices, verify that the required event log data is collected by :::no-loc text="Azure Monitor":::.</span></span>

> [!NOTE]
> <span data-ttu-id="03f2c-145">После установки агента перезагружаем устройство и убедитесь, что приложение "Собрание" запущено, чтобы создавать новые события :::no-loc text="Microsoft Monitoring"::: :::no-loc text="Microsoft Teams Rooms"::: в журнале событий.</span><span class="sxs-lookup"><span data-stu-id="03f2c-145">Reboot the device after the installation of the :::no-loc text="Microsoft Monitoring"::: agent, and make sure that :::no-loc text="Microsoft Teams Rooms"::: Meeting app is started, so that it can generate new events into the Event Log.</span></span>

1.  <span data-ttu-id="03f2c-146">Войдите на [ :::no-loc text="Microsoft Azure"::: портал, перейдите](https://portal.azure.com) к :::no-loc text="Log Analytics"::: рабочей области и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="03f2c-146">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>

2.  <span data-ttu-id="03f2c-147">Перечислить события пульса, созданные :::no-loc text="Microsoft Teams Rooms"::: устройством:</span><span class="sxs-lookup"><span data-stu-id="03f2c-147">List the heartbeat events generated by a :::no-loc text="Microsoft Teams Rooms"::: device:</span></span>
    1.  <span data-ttu-id="03f2c-148">Выберите рабочее пространство, перейдите в поле *_Logs*\* и используйте запрос для получения записей пульса, для которые нужно использовать настраиваемые :::no-loc text="Microsoft Teams Rooms"::: поля.</span><span class="sxs-lookup"><span data-stu-id="03f2c-148">Select your workspace and go to _ *Logs*\* and use a query to retrieve the heartbeat records that will have the custom fields for :::no-loc text="Microsoft Teams Rooms":::.</span></span>
    2.  <span data-ttu-id="03f2c-149">Пример запроса: `Event | where Source == "SRS-App" and EventID == 2000`</span><span class="sxs-lookup"><span data-stu-id="03f2c-149">Sample query: `Event | where Source == "SRS-App" and EventID == 2000`</span></span>

3.  <span data-ttu-id="03f2c-150">Убедитесь, что запрос возвращает записи журнала, включаемые события, созданные :::no-loc text="Microsoft Teams Rooms"::: приложением "Собрания".</span><span class="sxs-lookup"><span data-stu-id="03f2c-150">Make sure that the query returns log records that include events generated by the :::no-loc text="Microsoft Teams Rooms"::: meetings app.</span></span>

4.  <span data-ttu-id="03f2c-151">Создание проблемы с оборудованием и проверка входа в необходимые :::no-loc text="Azure Log Analytics"::: события.</span><span class="sxs-lookup"><span data-stu-id="03f2c-151">Generate a hardware issue, and validate that the required events are logged in :::no-loc text="Azure Log Analytics":::.</span></span>
    1.  <span data-ttu-id="03f2c-152">Отключить одно из периферийных устройств в тестовой :::no-loc text="Microsoft Teams Rooms"::: системе.</span><span class="sxs-lookup"><span data-stu-id="03f2c-152">Unplug one of the peripheral devices on the test :::no-loc text="Microsoft Teams Rooms"::: system.</span></span> <span data-ttu-id="03f2c-153">Это может быть камера, динамик, микрофон или экран переднего зала.</span><span class="sxs-lookup"><span data-stu-id="03f2c-153">This could be the camera, speakerphone, microphone, or Front Room Display</span></span>
    2.  <span data-ttu-id="03f2c-154">Подождите 10 минут, пока журнал событий не будет :::no-loc text="Azure Log Analytics"::: заполнен.</span><span class="sxs-lookup"><span data-stu-id="03f2c-154">Wait 10 minutes for the event log to be populated in :::no-loc text="Azure Log Analytics":::.</span></span>
    3.  <span data-ttu-id="03f2c-155">Использование запроса для перечислять события ошибок оборудования: `Event | where Source == "SRS-App" and EventID == 3001`</span><span class="sxs-lookup"><span data-stu-id="03f2c-155">Use a query to list hardware error events: `Event | where Source == "SRS-App" and EventID == 3001`</span></span>

5.  <span data-ttu-id="03f2c-156">Создание проблемы с приложением и проверка записи необходимых событий в журнале.</span><span class="sxs-lookup"><span data-stu-id="03f2c-156">Generate an application issue, and validate that the required events are logged.</span></span>
    1.  <span data-ttu-id="03f2c-157">Измените конфигурацию приложения и введите неправильную пару адреса и пароля :::no-loc text="Microsoft Teams Rooms"::: протокола SIP.</span><span class="sxs-lookup"><span data-stu-id="03f2c-157">Modify :::no-loc text="Microsoft Teams Rooms"::: application configuration, and type an incorrect Session Initiation Protocol (SIP) address/password pair.</span></span>
    2.  <span data-ttu-id="03f2c-158">Подождите 10 минут, пока журнал событий не будет :::no-loc text="Azure Log Analytics"::: заполнен.</span><span class="sxs-lookup"><span data-stu-id="03f2c-158">Wait 10 minutes for the event log to be populated in :::no-loc text="Azure Log Analytics":::.</span></span>
    3.  <span data-ttu-id="03f2c-159">Использование запроса для списка событий ошибок приложения: `Event | where Source == "SRS-App" and EventID == 2001 and EventLevel == 1`</span><span class="sxs-lookup"><span data-stu-id="03f2c-159">Use a query to list application error events: `Event | where Source == "SRS-App" and EventID == 2001 and EventLevel == 1`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="03f2c-160">Эти образцы журналов событий необходимы для настройки настраиваемых полей.</span><span class="sxs-lookup"><span data-stu-id="03f2c-160">These sample event logs are required before custom fields can be configured.</span></span> <span data-ttu-id="03f2c-161">Не переходите к следующему шагу, пока не соберет необходимые журналы событий.</span><span class="sxs-lookup"><span data-stu-id="03f2c-161">Don't proceed to the next step until you have collected the required event logs.</span></span>

## <a name="map-custom-fields"></a><span data-ttu-id="03f2c-162">Сопоставление настраиваемых полей</span><span class="sxs-lookup"><span data-stu-id="03f2c-162">Map custom fields</span></span>
<span data-ttu-id="03f2c-163"><a name="Custom_fields"> </a></span><span class="sxs-lookup"><span data-stu-id="03f2c-163"><a name="Custom_fields"> </a></span></span>

<span data-ttu-id="03f2c-164">Настраиваемые поля используются для извлечения определенных данных из журналов событий.</span><span class="sxs-lookup"><span data-stu-id="03f2c-164">You use custom fields to extract specific data from the event logs.</span></span> <span data-ttu-id="03f2c-165">Необходимо определить настраиваемые поля, которые будут использоваться позже с плитками, представлениями панели мониторинга и оповещениями.</span><span class="sxs-lookup"><span data-stu-id="03f2c-165">You need to define custom fields that will be used later with your tiles, dashboard views, and alerts.</span></span> <span data-ttu-id="03f2c-166">Ознакомьтесь [с :::no-loc text="Log Analytics"::: настраиваемыми](https://docs.microsoft.com/azure/azure-monitor/platform/custom-fields) полями и ознакомьтесь с понятиями, прежде чем приступить к созданию настраиваемой поля.</span><span class="sxs-lookup"><span data-stu-id="03f2c-166">See [Custom fields in :::no-loc text="Log Analytics":::](https://docs.microsoft.com/azure/azure-monitor/platform/custom-fields) and become familiar with the concepts before you start creating your custom fields.</span></span>

<span data-ttu-id="03f2c-167">Чтобы извлечь настраиваемые поля из журналов событий:</span><span class="sxs-lookup"><span data-stu-id="03f2c-167">To extract your custom fields out of the captured event logs, follow these steps:</span></span>

1.  <span data-ttu-id="03f2c-168">Войдите на [ :::no-loc text="Microsoft Azure"::: портал, перейдите](https://portal.azure.com) к :::no-loc text="Log Analytics"::: рабочей области и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="03f2c-168">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>

2. <span data-ttu-id="03f2c-169">Перечислить события, созданные :::no-loc text="Microsoft Teams Rooms"::: устройством:</span><span class="sxs-lookup"><span data-stu-id="03f2c-169">List the events generated by a :::no-loc text="Microsoft Teams Rooms"::: device:</span></span>
   1.  <span data-ttu-id="03f2c-170">Перейдите **в журналы** и используйте запрос для получения записей, которые будут иметь настраиваемые поля.</span><span class="sxs-lookup"><span data-stu-id="03f2c-170">Go to **Logs** and use a query to retrieve the records that will have the custom field.</span></span>
   2.  <span data-ttu-id="03f2c-171">Пример запроса: `Event | where Source == "SRS-App" and EventID == 2000`</span><span class="sxs-lookup"><span data-stu-id="03f2c-171">Sample query: `Event | where Source == "SRS-App" and EventID == 2000`</span></span>

3. <span data-ttu-id="03f2c-172">Выберите одну из записей, выберите кнопку слева и запустите мастер извлечения полей.</span><span class="sxs-lookup"><span data-stu-id="03f2c-172">Select one of the records, select the button to the left, and start the field extraction wizard.</span></span>
4. <span data-ttu-id="03f2c-173">Выделение данных, которые нужно извлечь из renderedDescription, и предоставление названия поля.</span><span class="sxs-lookup"><span data-stu-id="03f2c-173">Highlight the data you'd like to extract from the RenderedDescription and provide a Field Title.</span></span> <span data-ttu-id="03f2c-174">Имена полей, которые следует использовать, предоставляются в таблице 1.</span><span class="sxs-lookup"><span data-stu-id="03f2c-174">The field names that you should use are provided in Table 1.</span></span>
5. <span data-ttu-id="03f2c-175">Используйте сопоставления, показанные в *таблице 1.*</span><span class="sxs-lookup"><span data-stu-id="03f2c-175">Use the mappings shown in *Table 1*.</span></span> <span data-ttu-id="03f2c-176">:::no-loc text="Log Analytics":::будет автоматически включаем **\_ строку CF** при определении нового поля.</span><span class="sxs-lookup"><span data-stu-id="03f2c-176">:::no-loc text="Log Analytics"::: will automatically append the **\_CF** string when you define the new field.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="03f2c-177">Помните, что все поля jSON и JSON :::no-loc text="Log Analytics"::: в нихчувствительны к делу.</span><span class="sxs-lookup"><span data-stu-id="03f2c-177">Remember that all JSON and :::no-loc text="Log Analytics"::: fields are case-sensitive.</span></span>
> 
> <span data-ttu-id="03f2c-178">Обратите внимание на запросы, необходимые для каждого настраиваемного поля в таблице ниже.</span><span class="sxs-lookup"><span data-stu-id="03f2c-178">Pay attention to the queries required for each custom field in the table below.</span></span> <span data-ttu-id="03f2c-179">Для успешного извлечения значений настраиваемого поля необходимо использовать :::no-loc text="Log Analytics"::: правильные запросы.</span><span class="sxs-lookup"><span data-stu-id="03f2c-179">You need to use the correct queries for :::no-loc text="Log Analytics"::: to successfully extract custom field values.</span></span>
> 
<span data-ttu-id="03f2c-180">**Таблица 1**</span><span class="sxs-lookup"><span data-stu-id="03f2c-180">**Table 1**</span></span>

| <span data-ttu-id="03f2c-181">**Поле JSON**</span><span class="sxs-lookup"><span data-stu-id="03f2c-181">**JSON field**</span></span>                   | <span data-ttu-id="03f2c-182">**:::no-loc text="Log Analytics"::: настраиваемые поля**</span><span class="sxs-lookup"><span data-stu-id="03f2c-182">**:::no-loc text="Log Analytics"::: custom field**</span></span> | <span data-ttu-id="03f2c-183">**Идентификатор события**</span><span class="sxs-lookup"><span data-stu-id="03f2c-183">**Event ID**</span></span> | <span data-ttu-id="03f2c-184">**Запрос для использования с извлечением**</span><span class="sxs-lookup"><span data-stu-id="03f2c-184">**Query to use with the extraction**</span></span>                   |
|:---------------------------------|:-------------------------------|:-------------|:-------------------------------------------------------|
| <span data-ttu-id="03f2c-185">Описание</span><span class="sxs-lookup"><span data-stu-id="03f2c-185">Description</span></span>                      | <span data-ttu-id="03f2c-186">SRSEventDescription</span><span class="sxs-lookup"><span data-stu-id="03f2c-186">SRSEventDescription</span></span>         | <span data-ttu-id="03f2c-187">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-187">**2000**</span></span>     | <span data-ttu-id="03f2c-188">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-188">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-189">ResourceState</span><span class="sxs-lookup"><span data-stu-id="03f2c-189">ResourceState</span></span>                    | <span data-ttu-id="03f2c-190">SRSResourceState</span><span class="sxs-lookup"><span data-stu-id="03f2c-190">SRSResourceState</span></span>            | <span data-ttu-id="03f2c-191">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-191">**2000**</span></span>     | <span data-ttu-id="03f2c-192">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-192">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-193">OperationName</span><span class="sxs-lookup"><span data-stu-id="03f2c-193">OperationName</span></span>                    | <span data-ttu-id="03f2c-194">SRSOperationName</span><span class="sxs-lookup"><span data-stu-id="03f2c-194">SRSOperationName</span></span>            | <span data-ttu-id="03f2c-195">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-195">**2000**</span></span>     | <span data-ttu-id="03f2c-196">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-196">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-197">OperationResult</span><span class="sxs-lookup"><span data-stu-id="03f2c-197">OperationResult</span></span>                  | <span data-ttu-id="03f2c-198">SRSOperationResult</span><span class="sxs-lookup"><span data-stu-id="03f2c-198">SRSOperationResult</span></span>          | <span data-ttu-id="03f2c-199">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-199">**2000**</span></span>     | <span data-ttu-id="03f2c-200">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-200">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-201">OS</span><span class="sxs-lookup"><span data-stu-id="03f2c-201">OS</span></span>                               | <span data-ttu-id="03f2c-202">SRSOSVersion</span><span class="sxs-lookup"><span data-stu-id="03f2c-202">SRSOSVersion</span></span>                | <span data-ttu-id="03f2c-203">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-203">**2000**</span></span>     | <span data-ttu-id="03f2c-204">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-204">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-205">Версия ОС</span><span class="sxs-lookup"><span data-stu-id="03f2c-205">OSVersion</span></span>                        | <span data-ttu-id="03f2c-206">SRSOSLongVersion</span><span class="sxs-lookup"><span data-stu-id="03f2c-206">SRSOSLongVersion</span></span>            | <span data-ttu-id="03f2c-207">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-207">**2000**</span></span>     | <span data-ttu-id="03f2c-208">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-208">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-209">Alias</span><span class="sxs-lookup"><span data-stu-id="03f2c-209">Alias</span></span>                            | <span data-ttu-id="03f2c-210">SRSAlias</span><span class="sxs-lookup"><span data-stu-id="03f2c-210">SRSAlias</span></span>                    | <span data-ttu-id="03f2c-211">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-211">**2000**</span></span>     | <span data-ttu-id="03f2c-212">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-212">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-213">DisplayName</span><span class="sxs-lookup"><span data-stu-id="03f2c-213">DisplayName</span></span>                      | <span data-ttu-id="03f2c-214">SRSDisplayName</span><span class="sxs-lookup"><span data-stu-id="03f2c-214">SRSDisplayName</span></span>              | <span data-ttu-id="03f2c-215">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-215">**2000**</span></span>     | <span data-ttu-id="03f2c-216">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-216">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-217">AppVersion</span><span class="sxs-lookup"><span data-stu-id="03f2c-217">AppVersion</span></span>                       | <span data-ttu-id="03f2c-218">SRSAppVersion</span><span class="sxs-lookup"><span data-stu-id="03f2c-218">SRSAppVersion</span></span>               | <span data-ttu-id="03f2c-219">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-219">**2000**</span></span>     | <span data-ttu-id="03f2c-220">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-220">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-221">IPv4Address</span><span class="sxs-lookup"><span data-stu-id="03f2c-221">IPv4Address</span></span>                      | <span data-ttu-id="03f2c-222">SRSIPv4Address</span><span class="sxs-lookup"><span data-stu-id="03f2c-222">SRSIPv4Address</span></span>              | <span data-ttu-id="03f2c-223">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-223">**2000**</span></span>     | <span data-ttu-id="03f2c-224">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-224">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-225">IPv6Address</span><span class="sxs-lookup"><span data-stu-id="03f2c-225">IPv6Address</span></span>                      | <span data-ttu-id="03f2c-226">SRSIPv6Address</span><span class="sxs-lookup"><span data-stu-id="03f2c-226">SRSIPv6Address</span></span>              | <span data-ttu-id="03f2c-227">**2000**</span><span class="sxs-lookup"><span data-stu-id="03f2c-227">**2000**</span></span>     | <span data-ttu-id="03f2c-228">Событие, \| где Source == "SRS-App" и EventID == 2000</span><span class="sxs-lookup"><span data-stu-id="03f2c-228">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="03f2c-229">Состояние микрофона конференции</span><span class="sxs-lookup"><span data-stu-id="03f2c-229">Conference Microphone status</span></span>     | <span data-ttu-id="03f2c-230">SRSConfMicrophoneStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-230">SRSConfMicrophoneStatus</span></span>     | <span data-ttu-id="03f2c-231">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-231">**3001**</span></span>     | <span data-ttu-id="03f2c-232">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-232">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="03f2c-233">Состояние выступающего конференции</span><span class="sxs-lookup"><span data-stu-id="03f2c-233">Conference Speaker status</span></span>        | <span data-ttu-id="03f2c-234">SRSConfSpeakerStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-234">SRSConfSpeakerStatus</span></span>        | <span data-ttu-id="03f2c-235">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-235">**3001**</span></span>     | <span data-ttu-id="03f2c-236">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-236">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="03f2c-237">Состояние динамика по умолчанию</span><span class="sxs-lookup"><span data-stu-id="03f2c-237">Default Speaker status</span></span>           | <span data-ttu-id="03f2c-238">SRSDefaultSpeakerStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-238">SRSDefaultSpeakerStatus</span></span>     | <span data-ttu-id="03f2c-239">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-239">**3001**</span></span>     | <span data-ttu-id="03f2c-240">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-240">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="03f2c-241">Состояние камеры</span><span class="sxs-lookup"><span data-stu-id="03f2c-241">Camera status</span></span>                    | <span data-ttu-id="03f2c-242">SRSCameraStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-242">SRSCameraStatus</span></span>             | <span data-ttu-id="03f2c-243">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-243">**3001**</span></span>     | <span data-ttu-id="03f2c-244">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-244">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="03f2c-245">Перед состоянием "Отображение комнаты"</span><span class="sxs-lookup"><span data-stu-id="03f2c-245">Front of Room Display status</span></span>     | <span data-ttu-id="03f2c-246">SRSFORDStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-246">SRSFORDStatus</span></span>               | <span data-ttu-id="03f2c-247">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-247">**3001**</span></span>     | <span data-ttu-id="03f2c-248">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-248">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="03f2c-249">Состояние датчика движений</span><span class="sxs-lookup"><span data-stu-id="03f2c-249">Motion Sensor status</span></span>             | <span data-ttu-id="03f2c-250">SRSMotionSensorStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-250">SRSMotionSensorStatus</span></span>       | <span data-ttu-id="03f2c-251">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-251">**3001**</span></span>     | <span data-ttu-id="03f2c-252">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-252">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="03f2c-253">Состояние "Ingest" в HDMI</span><span class="sxs-lookup"><span data-stu-id="03f2c-253">HDMI Ingest status</span></span>               | <span data-ttu-id="03f2c-254">SRSHDMIIngestStatus</span><span class="sxs-lookup"><span data-stu-id="03f2c-254">SRSHDMIIngestStatus</span></span>         | <span data-ttu-id="03f2c-255">**3001**</span><span class="sxs-lookup"><span data-stu-id="03f2c-255">**3001**</span></span>     | <span data-ttu-id="03f2c-256">Событие, \| где Source == "SRS-App" и EventID == 3001</span><span class="sxs-lookup"><span data-stu-id="03f2c-256">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |


## <a name="define-the-no-loc-textmicrosoft-teams-rooms-views-in-no-loc-textlog-analytics"></a><span data-ttu-id="03f2c-257">Определение :::no-loc text="Microsoft Teams Rooms"::: представлений в :::no-loc text="Log Analytics":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-257">Define the :::no-loc text="Microsoft Teams Rooms"::: views in :::no-loc text="Log Analytics":::</span></span>
<span data-ttu-id="03f2c-258"><a name="Define_Views"> </a></span><span class="sxs-lookup"><span data-stu-id="03f2c-258"><a name="Define_Views"> </a></span></span>

<span data-ttu-id="03f2c-259">После сбора данных и применения настраиваемые поля можно использовать конструктор представлений для создания панелей мониторинга, содержащих различные плитки для отслеживания :::no-loc text="Microsoft Teams Rooms"::: событий.</span><span class="sxs-lookup"><span data-stu-id="03f2c-259">After data is collected and custom fields are mapped, you can use View Designer to develop a dashboard containing various tiles to monitor :::no-loc text="Microsoft Teams Rooms"::: events.</span></span> <span data-ttu-id="03f2c-260">С помощью конструктора представлений можно создавать следующие плитки:</span><span class="sxs-lookup"><span data-stu-id="03f2c-260">Use View Designer to create the following tiles.</span></span> <span data-ttu-id="03f2c-261">Дополнительные сведения см. в [теме :::no-loc text="Log Analytics"::: "Создание настраиваемой области с помощью конструктора представлений в"](https://docs.microsoft.com/azure/azure-monitor/platform/view-designer)</span><span class="sxs-lookup"><span data-stu-id="03f2c-261">For more information, see [Create custom views by using View Designer in :::no-loc text="Log Analytics":::](https://docs.microsoft.com/azure/azure-monitor/platform/view-designer)</span></span>

> [!NOTE]
> <span data-ttu-id="03f2c-262">Чтобы плитки панелей мониторинга работали правильно, необходимо было завершить предыдущие шаги, как по этому руководству.</span><span class="sxs-lookup"><span data-stu-id="03f2c-262">Previous steps in this guide should have been completed for the dashboard tiles to work properly.</span></span>

### <a name="create-a-microsoft-teams-rooms-dashboard-by-using-the-import-method"></a><span data-ttu-id="03f2c-263">Создание панели мониторинга комнат Microsoft Teams с помощью метода импорта</span><span class="sxs-lookup"><span data-stu-id="03f2c-263">Create a Microsoft Teams Rooms dashboard by using the import method</span></span>

<span data-ttu-id="03f2c-264">Вы можете импортировать :::no-loc text="Microsoft Teams Rooms"::: панель мониторинга и быстро следить за своими устройствами.</span><span class="sxs-lookup"><span data-stu-id="03f2c-264">You can import an :::no-loc text="Microsoft Teams Rooms"::: dashboard and start monitoring your devices quickly.</span></span> <span data-ttu-id="03f2c-265">Чтобы импортировать панель мониторинга, с ее можно сделать следующее:</span><span class="sxs-lookup"><span data-stu-id="03f2c-265">Take the following steps to import the dashboard:</span></span>

1.  <span data-ttu-id="03f2c-266">Получите файл [SkypeRoomSystems_v2.omsview.](https://go.microsoft.com/fwlink/?linkid=835675)</span><span class="sxs-lookup"><span data-stu-id="03f2c-266">Get the [SkypeRoomSystems_v2.omsview](https://go.microsoft.com/fwlink/?linkid=835675) dashboard file.</span></span>
2.  <span data-ttu-id="03f2c-267">Войдите на [ :::no-loc text="Microsoft Azure"::: портал, перейдите](https://portal.azure.com) к :::no-loc text="Log Analytics"::: рабочей области и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="03f2c-267">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>
3.  <span data-ttu-id="03f2c-268">Открыть **конструктор представлений.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-268">Open **View Designer**.</span></span>
4.  <span data-ttu-id="03f2c-269">Выберите **"Импорт",** а затем выберите **файл SkypeRoomSystems_v2.omsview.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-269">Select **Import**, and then select the **SkypeRoomSystems_v2.omsview** file.</span></span>
5.  <span data-ttu-id="03f2c-270">Выберите **"Сохранить".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-270">Select **Save**.</span></span>

### <a name="create-a-microsoft-teams-rooms-dashboard-manually"></a><span data-ttu-id="03f2c-271">Создание панели мониторинга комнат Microsoft Teams вручную</span><span class="sxs-lookup"><span data-stu-id="03f2c-271">Create a Microsoft Teams Rooms dashboard manually</span></span>

<span data-ttu-id="03f2c-272">Кроме того, вы можете создать собственную информационную панель и добавить только плитки, которые вы хотите отслеживать.</span><span class="sxs-lookup"><span data-stu-id="03f2c-272">Alternatively, you can create your own dashboard and add only the tiles that you wish to monitor.</span></span>

#### <a name="configure-the-overview-tile"></a><span data-ttu-id="03f2c-273">Настройка плитки "Обзор"</span><span class="sxs-lookup"><span data-stu-id="03f2c-273">Configure the Overview Tile</span></span>

1.  <span data-ttu-id="03f2c-274">Открыть **конструктор представлений.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-274">Open **View Designer**.</span></span>
2.  <span data-ttu-id="03f2c-275">Выберите **плитку Overview** и выберите два **числа** из коллекции.</span><span class="sxs-lookup"><span data-stu-id="03f2c-275">Select **Overview Tile**, and then select **Two numbers** from the gallery.</span></span>
3.  <span data-ttu-id="03f2c-276">Привязать плитке **:::no-loc text="Microsoft Teams Rooms":::** имя.</span><span class="sxs-lookup"><span data-stu-id="03f2c-276">Name the tile **:::no-loc text="Microsoft Teams Rooms":::**.</span></span>
4.  <span data-ttu-id="03f2c-277">Определение **первой плитки:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-277">Define the **First Tile**:</span></span><br>
    <span data-ttu-id="03f2c-278">**Легенда:** Устройства, которые отправляли пульс хотя бы один раз в течение последнего месяца</span><span class="sxs-lookup"><span data-stu-id="03f2c-278">**Legend:** Devices that sent a heartbeat at least once within the last month</span></span><br>
    <span data-ttu-id="03f2c-279">**Запрос:**```Event | where EventLog == "Skype Room System" and TimeGenerated > ago(30d) | summarize TotalSRSDevices = dcount(Computer)```</span><span class="sxs-lookup"><span data-stu-id="03f2c-279">**Query:** ```Event | where EventLog == "Skype Room System" and TimeGenerated > ago(30d) | summarize TotalSRSDevices = dcount(Computer)```</span></span>
5.  <span data-ttu-id="03f2c-280">Определить **вторую плитку:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-280">Define the **Second Tile**:</span></span><br>
    <span data-ttu-id="03f2c-281">**Легенда:** Активные устройства, отправив пульс в течение последнего часа</span><span class="sxs-lookup"><span data-stu-id="03f2c-281">**Legend:** Active devices that sent a heartbeat within the last hour</span></span><br>
    <span data-ttu-id="03f2c-282">**Запрос:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(1h) | summarize TotalSRSDevices = dcount(Computer)```</span><span class="sxs-lookup"><span data-stu-id="03f2c-282">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(1h) | summarize TotalSRSDevices = dcount(Computer)```</span></span>
6.  <span data-ttu-id="03f2c-283">Выберите **"Применить".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-283">Select **Apply**.</span></span>

### <a name="create-a-tile-that-displays-active-devices"></a><span data-ttu-id="03f2c-284">Создание плитки для отображения активных устройств</span><span class="sxs-lookup"><span data-stu-id="03f2c-284">Create a tile that displays active devices</span></span>

1.  <span data-ttu-id="03f2c-285">Чтобы **добавить плитки,** выберите "Просмотр панели мониторинга".</span><span class="sxs-lookup"><span data-stu-id="03f2c-285">Select **View Dashboard** to start adding your tiles.</span></span>
2.  <span data-ttu-id="03f2c-286">Выбор **& номера из** коллекции</span><span class="sxs-lookup"><span data-stu-id="03f2c-286">Select **Number & list** from the gallery</span></span>
3.  <span data-ttu-id="03f2c-287">Определите **общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="03f2c-287">Define the **General** properties:</span></span><br>
    <span data-ttu-id="03f2c-288">**Название группы:** Состояние Пульса</span><span class="sxs-lookup"><span data-stu-id="03f2c-288">**Group Title:** Heartbeat Status</span></span><br>
    <span data-ttu-id="03f2c-289">**Новая группа:** Выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-289">**New Group:** Selected</span></span>
4.  <span data-ttu-id="03f2c-290">Определите **свойства** плитки:</span><span class="sxs-lookup"><span data-stu-id="03f2c-290">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="03f2c-291">**Легенда:** Активные устройства (пульс, отправленный в течение последних 20 минут)</span><span class="sxs-lookup"><span data-stu-id="03f2c-291">**Legend:** Active devices (heartbeat sent in the last 20 minutes)</span></span><br>
    <span data-ttu-id="03f2c-292">**Запрос для плитки:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="03f2c-292">**Tile Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize AggregatedValue = count() by Computer | count```</span></span>
5.  <span data-ttu-id="03f2c-293">Определите **свойства** списка:</span><span class="sxs-lookup"><span data-stu-id="03f2c-293">Define the **List** properties:</span></span><br>
    <span data-ttu-id="03f2c-294">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="03f2c-294">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
6.  <span data-ttu-id="03f2c-295">Определение **названий столбцов:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-295">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="03f2c-296">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-296">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-297">**Значение:** Last Heartbeat</span><span class="sxs-lookup"><span data-stu-id="03f2c-297">**Value:** Last Heartbeat</span></span>
7.  <span data-ttu-id="03f2c-298">Определение **запроса навигации.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-298">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="03f2c-299">Выберите **"Применить"** и **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-299">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-connectivity-issues"></a><span data-ttu-id="03f2c-300">Создание плитки, отображаемой для устройств с проблемой подключения</span><span class="sxs-lookup"><span data-stu-id="03f2c-300">Create a tile that displays devices that have connectivity issues</span></span>

1.  <span data-ttu-id="03f2c-301">Выберите **число & в** коллекции, а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-301">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="03f2c-302">Определите **общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="03f2c-302">Define the **General** properties:</span></span><br>
    <span data-ttu-id="03f2c-303">**Название группы:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="03f2c-303">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="03f2c-304">**Новая группа:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-304">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="03f2c-305">Определите **свойства** плитки:</span><span class="sxs-lookup"><span data-stu-id="03f2c-305">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="03f2c-306">**Легенда:** Неактивные устройства (за последние 20 минут не было отправлено сообщение пульса)</span><span class="sxs-lookup"><span data-stu-id="03f2c-306">**Legend:** Inactive Devices (no heartbeat message sent in the last 20 minutes)</span></span><br>
    <span data-ttu-id="03f2c-307">**Запрос для плитки:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize LastHB = max(TimeGenerated) by Computer | where LastHB < ago(20m) | count```</span><span class="sxs-lookup"><span data-stu-id="03f2c-307">**Tile Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize LastHB = max(TimeGenerated) by Computer | where LastHB < ago(20m) | count```</span></span>
4.  <span data-ttu-id="03f2c-308">Определите **свойства** списка:</span><span class="sxs-lookup"><span data-stu-id="03f2c-308">Define the **List** properties:</span></span><br>
    <span data-ttu-id="03f2c-309">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize TimeGenerated = max(TimeGenerated) by Computer | where TimeGenerated < ago(20m) | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="03f2c-309">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize TimeGenerated = max(TimeGenerated) by Computer | where TimeGenerated < ago(20m) | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="03f2c-310">Определение **названий столбцов:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-310">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="03f2c-311">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-311">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-312">**Значение:** Last Heartbeat</span><span class="sxs-lookup"><span data-stu-id="03f2c-312">**Value:** Last Heartbeat</span></span>
6.  <span data-ttu-id="03f2c-313">Определение **запроса навигации:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-313">Define **Navigation Query**:</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
7.  <span data-ttu-id="03f2c-314">Выберите **"Применить"** и **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-314">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-a-hardware-error"></a><span data-ttu-id="03f2c-315">Создание плитки с отображением устройств с аппаратной ошибкой</span><span class="sxs-lookup"><span data-stu-id="03f2c-315">Create a tile that displays devices that have a hardware error</span></span>

1.  <span data-ttu-id="03f2c-316">Выберите **число & в** коллекции, а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-316">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="03f2c-317">Определите **общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="03f2c-317">Define the **General** properties:</span></span><br>
    <span data-ttu-id="03f2c-318">**Название группы:** Состояние оборудования</span><span class="sxs-lookup"><span data-stu-id="03f2c-318">**Group Title:** Hardware Status</span></span><br>
    <span data-ttu-id="03f2c-319">**Новая группа:** Выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-319">**New Group:** Selected</span></span>
3.  <span data-ttu-id="03f2c-320">Определите **свойства** плитки:</span><span class="sxs-lookup"><span data-stu-id="03f2c-320">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="03f2c-321">**Легенда:** Устройства, на которые в последний час произошла ошибка оборудования</span><span class="sxs-lookup"><span data-stu-id="03f2c-321">**Legend:** Devices that experienced a hardware error in the last hour</span></span><br>
    <span data-ttu-id="03f2c-322">**Запрос для плитки:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="03f2c-322">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="03f2c-323">Определите **свойства** списка:</span><span class="sxs-lookup"><span data-stu-id="03f2c-323">Define the **List** properties:</span></span><br>
    <span data-ttu-id="03f2c-324">**Запрос списка:**```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="03f2c-324">**List Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="03f2c-325">Определение **названий столбцов:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-325">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="03f2c-326">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-326">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-327">**Значение:** Последняя ошибка</span><span class="sxs-lookup"><span data-stu-id="03f2c-327">**Value:** Last Error</span></span>
6.  <span data-ttu-id="03f2c-328">Определение **запроса навигации:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-328">Define **Navigation Query**:</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == 3001 and EventLevelName == "Error" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSConfMicrophoneStatus_CF, SRSConfSpeakerStatus_CF, SRSDefaultSpeakerStatus_CF, SRSCameraStatus_CF, SRSFORDStatus_CF, SRSMotionSensorStatus_CF, SRSHDMIIngestStatus_CF, SRSEventDescription_CF | sort by TimeGenerated desc```
7.  <span data-ttu-id="03f2c-329">Выберите **"Применить"** и **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-329">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-no-loc-textmicrosoft-teams-rooms-operating-system-versions"></a><span data-ttu-id="03f2c-330">Создание плитки с :::no-loc text="Microsoft Teams Rooms"::: версиями операционной системы</span><span class="sxs-lookup"><span data-stu-id="03f2c-330">Create a tile that displays :::no-loc text="Microsoft Teams Rooms"::: Operating System versions</span></span>

1.  <span data-ttu-id="03f2c-331">Выберите **"& из** коллекции", а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-331">Select **Donut & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="03f2c-332">Определите **общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="03f2c-332">Define the **General** properties:</span></span><br>
    <span data-ttu-id="03f2c-333">**Название группы:** Сведения об операционной системе</span><span class="sxs-lookup"><span data-stu-id="03f2c-333">**Group Title:** Operating System details</span></span><br>
    <span data-ttu-id="03f2c-334">**Новая группа:** Выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-334">**New Group:** Selected</span></span>
3.  <span data-ttu-id="03f2c-335">Определите **свойства загона:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-335">Define the **Header** properties:</span></span><br>
    <span data-ttu-id="03f2c-336">**Название:** Версии операционной системы</span><span class="sxs-lookup"><span data-stu-id="03f2c-336">**Title:** Operating System versions</span></span><br>
    <span data-ttu-id="03f2c-337">**Подзаголовок:** Устройства с определенными версиями ОС</span><span class="sxs-lookup"><span data-stu-id="03f2c-337">**Subtitle:** Devices running specific OS versions</span></span>
4.  <span data-ttu-id="03f2c-338">Определите **свойства donut:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-338">Define the **Donut** properties:</span></span><br>
    <span data-ttu-id="03f2c-339">**Запрос:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize OS_Version = max(SRSOSLongVersion_CF) by Computer | summarize AggregatedValue = count() by OS_Version | sort by OS_Version asc```</span><span class="sxs-lookup"><span data-stu-id="03f2c-339">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize OS_Version = max(SRSOSLongVersion_CF) by Computer | summarize AggregatedValue = count() by OS_Version | sort by OS_Version asc```</span></span><br>
    <span data-ttu-id="03f2c-340">**Текст по центру:** Устройства</span><span class="sxs-lookup"><span data-stu-id="03f2c-340">**Center Text:** Devices</span></span><br>
    <span data-ttu-id="03f2c-341">**Операция:** Сумма</span><span class="sxs-lookup"><span data-stu-id="03f2c-341">**Operation:** Sum</span></span>
5.  <span data-ttu-id="03f2c-342">Определите **свойства** списка.</span><span class="sxs-lookup"><span data-stu-id="03f2c-342">Define the **List** properties.</span></span><br>
    <span data-ttu-id="03f2c-343">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSOSLongVersion_CF = max(SRSOSLongVersion_CF) by Computer | sort by Computer asc```</span><span class="sxs-lookup"><span data-stu-id="03f2c-343">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSOSLongVersion_CF = max(SRSOSLongVersion_CF) by Computer | sort by Computer asc```</span></span><br>
    <span data-ttu-id="03f2c-344">**Скрытие графика:** Выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-344">**Hide Graph:** Selected</span></span><br>
    <span data-ttu-id="03f2c-345">**В включить спарклины:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-345">**Enable Sparklines:** Not selected</span></span>
6.  <span data-ttu-id="03f2c-346">Определение **названий столбцов.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-346">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="03f2c-347">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-347">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-348">**Значение:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="03f2c-348">**Value:** Leave Empty</span></span>
7.  <span data-ttu-id="03f2c-349">Определение **запроса навигации.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-349">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSDisplayName_CF, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="03f2c-350">Выберите **"Применить",** а затем **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-350">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-no-loc-textmicrosoft-teams-rooms-application-versions"></a><span data-ttu-id="03f2c-351">Создание плитки с :::no-loc text="Microsoft Teams Rooms"::: версиями приложений</span><span class="sxs-lookup"><span data-stu-id="03f2c-351">Create a tile that displays :::no-loc text="Microsoft Teams Rooms"::: application versions</span></span>

1.  <span data-ttu-id="03f2c-352">Выберите **"& из** коллекции", а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-352">Select **Donut & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="03f2c-353">Определите **общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="03f2c-353">Define the **General** properties:</span></span><br>
    <span data-ttu-id="03f2c-354">**Название группы:** :::no-loc text="Microsoft Teams Rooms"::: сведения о приложении</span><span class="sxs-lookup"><span data-stu-id="03f2c-354">**Group Title:** :::no-loc text="Microsoft Teams Rooms"::: application details</span></span><br>
    <span data-ttu-id="03f2c-355">**Новая группа:** Выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-355">**New Group:** Selected</span></span>
3.  <span data-ttu-id="03f2c-356">Определите **свойства загона:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-356">Define the **Header** properties:</span></span><br>
    <span data-ttu-id="03f2c-357">**Название:** Версии приложений</span><span class="sxs-lookup"><span data-stu-id="03f2c-357">**Title:** Application versions</span></span><br>
    <span data-ttu-id="03f2c-358">**Подзаголовок:** Устройства с определенными версиями приложений</span><span class="sxs-lookup"><span data-stu-id="03f2c-358">**Subtitle:** Devices running specific application versions</span></span>
4.  <span data-ttu-id="03f2c-359">Определите **свойства donut:**</span><span class="sxs-lookup"><span data-stu-id="03f2c-359">Define the **Donut** properties:</span></span><br>
    <span data-ttu-id="03f2c-360">**Запрос:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize App_Version = max(SRSAppVersion_CF) by Computer | summarize AggregatedValue = count() by App_Version | sort by App_Version asc```</span><span class="sxs-lookup"><span data-stu-id="03f2c-360">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize App_Version = max(SRSAppVersion_CF) by Computer | summarize AggregatedValue = count() by App_Version | sort by App_Version asc```</span></span><br>
    <span data-ttu-id="03f2c-361">**Текст по центру:** Устройства</span><span class="sxs-lookup"><span data-stu-id="03f2c-361">**Center Text:** Devices</span></span><br>
    <span data-ttu-id="03f2c-362">**Операция:** Сумма</span><span class="sxs-lookup"><span data-stu-id="03f2c-362">**Operation:** Sum</span></span>
5.  <span data-ttu-id="03f2c-363">Определите **свойства** списка.</span><span class="sxs-lookup"><span data-stu-id="03f2c-363">Define the **List** properties.</span></span><br>
    <span data-ttu-id="03f2c-364">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSAppVersion_CF = max(SRSAppVersion_CF) by Computer | sort by Computer asc```</span><span class="sxs-lookup"><span data-stu-id="03f2c-364">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSAppVersion_CF = max(SRSAppVersion_CF) by Computer | sort by Computer asc```</span></span><br>
    <span data-ttu-id="03f2c-365">**Скрытие графика:** Выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-365">**Hide Graph:** Selected</span></span><br>
    <span data-ttu-id="03f2c-366">**В включить спарклины:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-366">**Enable Sparklines:** Not selected</span></span>
6.  <span data-ttu-id="03f2c-367">Определение **названий столбцов.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-367">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="03f2c-368">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-368">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-369">**Значение:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="03f2c-369">**Value:** Leave Empty</span></span>
7.  <span data-ttu-id="03f2c-370">Определение **запроса навигации.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-370">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="03f2c-371">Выберите **"Применить",** а затем **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-371">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-an-application-error"></a><span data-ttu-id="03f2c-372">Создание плитки с отображением устройств с ошибкой приложения</span><span class="sxs-lookup"><span data-stu-id="03f2c-372">Create a tile that displays devices that have an application error</span></span>

1.  <span data-ttu-id="03f2c-373">Выберите **число & в** коллекции, а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-373">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="03f2c-374">Определите **общие** свойства.</span><span class="sxs-lookup"><span data-stu-id="03f2c-374">Define the **General** properties.</span></span><br>
    <span data-ttu-id="03f2c-375">**Название группы:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="03f2c-375">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="03f2c-376">**Новая группа:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-376">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="03f2c-377">Определите **свойства** плитки.</span><span class="sxs-lookup"><span data-stu-id="03f2c-377">Define the **Tile** properties.</span></span><br>
    <span data-ttu-id="03f2c-378">**Легенда:** Устройства, на которые в последний час произошла ошибка приложения</span><span class="sxs-lookup"><span data-stu-id="03f2c-378">**Legend:** Devices that experienced an application error in the last hour</span></span><br>
    <span data-ttu-id="03f2c-379">**Запрос для плитки:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="03f2c-379">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="03f2c-380">Определите **свойства** списка.</span><span class="sxs-lookup"><span data-stu-id="03f2c-380">Define the **List** properties.</span></span><br>
    <span data-ttu-id="03f2c-381">**Запрос списка:**```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="03f2c-381">**List Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="03f2c-382">Определение **названий столбцов.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-382">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="03f2c-383">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-383">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-384">**Значение:** Последняя ошибка</span><span class="sxs-lookup"><span data-stu-id="03f2c-384">**Value:** Last Error</span></span>
6.  <span data-ttu-id="03f2c-385">Определение **запроса навигации.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-385">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == 2001 and EventLevelName == "Error" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF | sort by TimeGenerated desc```
7.  <span data-ttu-id="03f2c-386">Выберите **"Применить",** а затем **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-386">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-been-restarted"></a><span data-ttu-id="03f2c-387">Создание плитки для отображения перезагруженных устройств</span><span class="sxs-lookup"><span data-stu-id="03f2c-387">Create a tile that displays devices that have been restarted</span></span>

1.  <span data-ttu-id="03f2c-388">Выберите **число & в** коллекции, а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-388">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="03f2c-389">Определите **общие** свойства.</span><span class="sxs-lookup"><span data-stu-id="03f2c-389">Define the **General** properties.</span></span><br>
    <span data-ttu-id="03f2c-390">**Название группы:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="03f2c-390">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="03f2c-391">**Новая группа:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="03f2c-391">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="03f2c-392">Определите **свойства** плитки.</span><span class="sxs-lookup"><span data-stu-id="03f2c-392">Define the **Tile** properties.</span></span><br>
    <span data-ttu-id="03f2c-393">**Легенда:** Устройства, на которых приложение было перезапущено за последние 24 часа, и количество перезапусков</span><span class="sxs-lookup"><span data-stu-id="03f2c-393">**Legend:** Devices where the application was restarted in the last 24 hours, and number of restarts</span></span><br>
    <span data-ttu-id="03f2c-394">**Запрос для плитки:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="03f2c-394">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="03f2c-395">Определите **свойства** списка.</span><span class="sxs-lookup"><span data-stu-id="03f2c-395">Define the **List** properties.</span></span><br>
    <span data-ttu-id="03f2c-396">**Запрос списка:**```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | order by TimeGenerated | summarize AggregatedValue = count(EventID) by Computer```</span><span class="sxs-lookup"><span data-stu-id="03f2c-396">**List Query:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | order by TimeGenerated | summarize AggregatedValue = count(EventID) by Computer```</span></span>
5.  <span data-ttu-id="03f2c-397">Определение **названий столбцов.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-397">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="03f2c-398">**Имя:** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="03f2c-398">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="03f2c-399">**Значение:** Количество перезапусков</span><span class="sxs-lookup"><span data-stu-id="03f2c-399">**Value:** Number of Restarts</span></span>
6.  <span data-ttu-id="03f2c-400">Определение **запроса навигации.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-400">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
7.  <span data-ttu-id="03f2c-401">Выберите **"Применить",** а затем **"Закрыть".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-401">Select **Apply** and then **Close**.</span></span>
8.  <span data-ttu-id="03f2c-402">Чтобы **сохранить панель** мониторинга, выберите "Сохранить".</span><span class="sxs-lookup"><span data-stu-id="03f2c-402">Select **Save** to save your dashboard.</span></span>

<span data-ttu-id="03f2c-403">Теперь вы завершили создание представлений.</span><span class="sxs-lookup"><span data-stu-id="03f2c-403">Now you've completed creating your views.</span></span>

## <a name="configure-alerts-in-no-loc-textazure-monitor"></a><span data-ttu-id="03f2c-404">Настройка оповещений в :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-404">Configure Alerts in :::no-loc text="Azure Monitor":::</span></span>
<span data-ttu-id="03f2c-405"><a name="Alerts"> </a></span><span class="sxs-lookup"><span data-stu-id="03f2c-405"><a name="Alerts"> </a></span></span>

<span data-ttu-id="03f2c-406">:::no-loc text="Azure Monitor"::: может оповещать администраторов о проблеме с :::no-loc text="Microsoft Teams Rooms"::: консолью.</span><span class="sxs-lookup"><span data-stu-id="03f2c-406">:::no-loc text="Azure Monitor"::: can raise alerts to notify the administrators, when a :::no-loc text="Microsoft Teams Rooms"::: console encounters an issue.</span></span>

<span data-ttu-id="03f2c-407">:::no-loc text="Azure Monitor"::: включает в себя встроенный механизм оповещения, который регулярно выполняется через запланированные поиски в журнале.</span><span class="sxs-lookup"><span data-stu-id="03f2c-407">:::no-loc text="Azure Monitor"::: includes a built-in alerting mechanism that runs through scheduled log searches at regular intervals.</span></span> <span data-ttu-id="03f2c-408">Если результаты поиска по журналу соответствуют определенным условиям, создается запись оповещения.</span><span class="sxs-lookup"><span data-stu-id="03f2c-408">If the results of the log search match some particular criteria, an alert record is created.</span></span>

<span data-ttu-id="03f2c-409">После этого правило может автоматически выполнить одно или несколько действий, чтобы заблаговременно уведомить вас об оповещении или вызвать другой процесс.</span><span class="sxs-lookup"><span data-stu-id="03f2c-409">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span> <span data-ttu-id="03f2c-410">Возможные варианты оповещений:</span><span class="sxs-lookup"><span data-stu-id="03f2c-410">The possible options with alerts are:</span></span>
-   <span data-ttu-id="03f2c-411">Отправка сообщения электронной почты</span><span class="sxs-lookup"><span data-stu-id="03f2c-411">Sending an email</span></span>
-   <span data-ttu-id="03f2c-412">Обращение к внешнему процессу с помощью HTTP-запроса POST</span><span class="sxs-lookup"><span data-stu-id="03f2c-412">Invoking an external process through an HTTP POST request</span></span>
-   <span data-ttu-id="03f2c-413">Запуск книги в :::no-loc text="Azure Automation"::: службе</span><span class="sxs-lookup"><span data-stu-id="03f2c-413">Starting a runbook in :::no-loc text="Azure Automation"::: service</span></span>

<span data-ttu-id="03f2c-414">Дополнительные [информацию :::no-loc text="Azure Monitor"::: об оповещениях см.](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-unified-log) в журнале. :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-414">See [Log alerts in :::no-loc text="Azure Monitor":::](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-unified-log) to learn more about the alerts in :::no-loc text="Azure Monitor":::.</span></span>

> [!NOTE]
> <span data-ttu-id="03f2c-415">В следующих примерах оповещения отправляются по электронной почте, если устройство вызывает :::no-loc text="Microsoft Teams Rooms"::: аппаратное оборудование или ошибку приложения.</span><span class="sxs-lookup"><span data-stu-id="03f2c-415">The following examples send email alerts when a :::no-loc text="Microsoft Teams Rooms"::: device generates a hardware or an application error.</span></span>

### <a name="configure-an-email-alert-for-no-loc-textmicrosoft-teams-rooms-hardware-issues"></a><span data-ttu-id="03f2c-416">Настройка оповещений электронной почты :::no-loc text="Microsoft Teams Rooms"::: о проблемах с оборудованием</span><span class="sxs-lookup"><span data-stu-id="03f2c-416">Configure an email alert for :::no-loc text="Microsoft Teams Rooms"::: hardware issues</span></span>

<span data-ttu-id="03f2c-417">Настройте правило оповещения, которое проверяет наличие устройств, на устройствах с которыми были проблемы с оборудованием :::no-loc text="Microsoft Teams Rooms"::: в течение последнего часа.</span><span class="sxs-lookup"><span data-stu-id="03f2c-417">Configure an alert rule that checks for :::no-loc text="Microsoft Teams Rooms"::: devices that have encountered hardware issues within the last hour.</span></span>
1.  <span data-ttu-id="03f2c-418">Войдите на [ :::no-loc text="Microsoft Azure"::: портал, перейдите](https://portal.azure.com) к :::no-loc text="Log Analytics"::: рабочей области и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="03f2c-418">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>

2. <span data-ttu-id="03f2c-419">Перейдите в :::no-loc text="Log Analytics"::: свою область и выберите **"Оповещения",** а затем выберите **"Новое правило оповещения"**</span><span class="sxs-lookup"><span data-stu-id="03f2c-419">Navigate to your :::no-loc text="Log Analytics"::: workspace and select **Alerts** and then select **New alert rule**</span></span>

3. <span data-ttu-id="03f2c-420">Выберите **"Добавить условие",** а затем **"Настраиваемый поиск в журнале"**</span><span class="sxs-lookup"><span data-stu-id="03f2c-420">Select **Add condition** and then **Custom log search**</span></span>

4.  <span data-ttu-id="03f2c-421">В текстовом поле "Поисковый запрос" введите следующий запрос:</span><span class="sxs-lookup"><span data-stu-id="03f2c-421">Enter the following query to the Search query text box.</span></span><br>
    ```
    Event
    | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h)
    | summarize arg_max(TimeGenerated, *) by Computer
    | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSConfMicrophoneStatus_CF, SRSConfSpeakerStatus_CF, SRSDefaultSpeakerStatus_CF, SRSCameraStatus_CF, SRSFORDStatus_CF, SRSMotionSensorStatus_CF, SRSHDMIIngestStatus_CF, SRSEventDescription_CF
    |sort by TimeGenerated desc
    ```

5.  <span data-ttu-id="03f2c-422">Настройте параметры логики оповещения.</span><span class="sxs-lookup"><span data-stu-id="03f2c-422">Configure the Alert logic settings:</span></span><br>
    <span data-ttu-id="03f2c-423">**В зависимости от:** Количество результатов</span><span class="sxs-lookup"><span data-stu-id="03f2c-423">**Based on:** Number of results</span></span><br>
    <span data-ttu-id="03f2c-424">**Условие:** Больше, чем</span><span class="sxs-lookup"><span data-stu-id="03f2c-424">**Condition:** Greater then</span></span><br>
    <span data-ttu-id="03f2c-425">**Пороговое значение:** 0</span><span class="sxs-lookup"><span data-stu-id="03f2c-425">**Threshold:** 0</span></span><br>

6. <span data-ttu-id="03f2c-426">Настройте параметры оценки и выберите **"Готово":**</span><span class="sxs-lookup"><span data-stu-id="03f2c-426">Configure Evaluation settings and select **Done**:</span></span> <br>
    <span data-ttu-id="03f2c-427">**Период (в минутах):** 60</span><span class="sxs-lookup"><span data-stu-id="03f2c-427">**Period (in minutes):** 60</span></span><br>
    <span data-ttu-id="03f2c-428">**Частота (в минутах):** 60</span><span class="sxs-lookup"><span data-stu-id="03f2c-428">**Frequency (in minutes):** 60</span></span><br>

7. <span data-ttu-id="03f2c-429">Настройка групп действий</span><span class="sxs-lookup"><span data-stu-id="03f2c-429">Configure action groups:</span></span>
    1.  <span data-ttu-id="03f2c-430">Выберите **"Создать"**</span><span class="sxs-lookup"><span data-stu-id="03f2c-430">Select **Create New**</span></span>
    2.  <span data-ttu-id="03f2c-431">В полях "Имя группы действий" и *"Короткое имя" укажив подходящие* имена. </span><span class="sxs-lookup"><span data-stu-id="03f2c-431">Provide suitable names for the *Action group name* and *Short Name* fields.</span></span>
    3.  <span data-ttu-id="03f2c-432">Укажите уникальное имя *действия, выберите* "Электронная почта/SMS/Push/Голосовая почта", а затем выберите  **"Изменить сведения".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-432">Specify a unique *Action Name* and select **Email/SMS/Push/Voice**, and then select **Edit details**.</span></span>
    4.  <span data-ttu-id="03f2c-433">Выберите **почтовый ящик** и укайте адрес электронной почты человека или группы, которые будут получать оповещения.</span><span class="sxs-lookup"><span data-stu-id="03f2c-433">Select the **Email** checkbox and provide the email address of the person or group that will receive the alerts.</span></span>
    5.  <span data-ttu-id="03f2c-434">Вы также можете увести свой номер телефона, чтобы получать уведомления через SMS, голосовой звонок или и то, и другое.</span><span class="sxs-lookup"><span data-stu-id="03f2c-434">You may also provide your phone number to get notified with SMS, a voice call or both.</span></span>
    6. <span data-ttu-id="03f2c-435">Выберите **"ОК".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-435">Select **OK**.</span></span>

8. <span data-ttu-id="03f2c-436">**Настройте действия,** если вам нравится переопределять тему сообщений электронной почты.</span><span class="sxs-lookup"><span data-stu-id="03f2c-436">**Customize Actions** if you like to override the subject line of the alert emails.</span></span>

9. <span data-ttu-id="03f2c-437">Укажите имя и описание правила.</span><span class="sxs-lookup"><span data-stu-id="03f2c-437">Specify a rule name and description.</span></span><br>
    <span data-ttu-id="03f2c-438">**Имя правила:** :::no-loc text="Microsoft Teams Rooms"::: Оповещение о сбое оборудования</span><span class="sxs-lookup"><span data-stu-id="03f2c-438">**Rule Name:** :::no-loc text="Microsoft Teams Rooms"::: Hardware Failure Alert</span></span><br>
    <span data-ttu-id="03f2c-439">**Описание:** Список устройств, которые за последний час столкнулись с проблемой оборудования</span><span class="sxs-lookup"><span data-stu-id="03f2c-439">**Description:** List of devices that encountered a hardware issue within the last hour</span></span><br>

10. <span data-ttu-id="03f2c-440">Выберите серьезность и убедитесь, что правило включено.</span><span class="sxs-lookup"><span data-stu-id="03f2c-440">Select the intended severity and make sure the rule is enabled.</span></span>

11. <span data-ttu-id="03f2c-441">Выберите **"Создать правило оповещения".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-441">Select **Create alert rule**.</span></span>

### <a name="configure-an-email-alert-for-no-loc-textmicrosoft-teams-rooms-application-issues"></a><span data-ttu-id="03f2c-442">Настройка оповещений по электронной почте :::no-loc text="Microsoft Teams Rooms"::: о проблемах с приложением</span><span class="sxs-lookup"><span data-stu-id="03f2c-442">Configure an email alert for :::no-loc text="Microsoft Teams Rooms"::: application issues</span></span>

<span data-ttu-id="03f2c-443">Повторите эту же процедуру, но используйте следующий запрос для списка устройств, на устройствах с которыми были проблемы с приложением в течение последнего часа.</span><span class="sxs-lookup"><span data-stu-id="03f2c-443">Repeat the same procedure but use the following query to list devices that have encountered application issues within the last hour.</span></span>

    ```
    Event
    | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h)
    | summarize arg_max(TimeGenerated, *) by Computer
    | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF
    | sort by TimeGenerated desc
    ```

<span data-ttu-id="03f2c-444">Теперь вы завершили определение оповещений.</span><span class="sxs-lookup"><span data-stu-id="03f2c-444">Now you've completed defining alerts.</span></span> <span data-ttu-id="03f2c-445">Дополнительные оповещения можно определить с помощью примеров выше.</span><span class="sxs-lookup"><span data-stu-id="03f2c-445">You can define additional alerts by using the examples above.</span></span>

<span data-ttu-id="03f2c-446">При этом вы получите сообщение электронной почты со списком устройств, с которыми у вас была проблема в течение последнего часа.</span><span class="sxs-lookup"><span data-stu-id="03f2c-446">When an alert is generated, you'll get an email that lists the devices that encountered an issue within the last hour.</span></span>

<span data-ttu-id="03f2c-447">! [Пример :::no-loc text="Azure Monitor"::: сообщения электронной почты](.). /media/Deploy-Azure-Monitor-6.png "Sample :::no-loc text="Azure Monitor"::: alert email")</span><span class="sxs-lookup"><span data-stu-id="03f2c-447">![Sample :::no-loc text="Azure Monitor"::: alert email](../media/Deploy-Azure-Monitor-6.png "Sample :::no-loc text="Azure Monitor"::: alert email")</span></span>

## <a name="configure-all-devices-for-no-loc-textazure-monitoring"></a><span data-ttu-id="03f2c-448">Настройка всех устройств для :::no-loc text="Azure Monitoring":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-448">Configure all devices for :::no-loc text="Azure Monitoring":::</span></span>
<span data-ttu-id="03f2c-449"><a name="configure_all_devices"></a> После настройки панелей мониторинга и оповещений вы можете настроить агент на всех устройствах для :::no-loc text="Microsoft Monitoring"::: :::no-loc text="Microsoft Teams Rooms"::: завершения развертывания мониторинга.</span><span class="sxs-lookup"><span data-stu-id="03f2c-449"><a name="configure_all_devices"> </a> After the dashboards and alerts are configured, you can set up and configure :::no-loc text="Microsoft Monitoring"::: agent on all :::no-loc text="Microsoft Teams Rooms"::: devices to complete your monitoring deployment.</span></span>

<span data-ttu-id="03f2c-450">Хотя агент можно установить и настроить вручную на каждом устройстве, настоятельно рекомендуется использовать существующие :::no-loc text="Microsoft Monitoring"::: средства развертывания программного обеспечения и методы.</span><span class="sxs-lookup"><span data-stu-id="03f2c-450">Although you can install and configure the :::no-loc text="Microsoft Monitoring"::: agent manually on each device, we highly recommend you leverage existing software deployment tools and methods.</span></span>

<span data-ttu-id="03f2c-451">Если вы создаете устройства в первый раз, в процессе сборки может потребоваться включить действия по настройке и настройке :::no-loc text="Microsoft Teams Rooms"::: :::no-loc text="Microsoft Monitoring"::: агента.</span><span class="sxs-lookup"><span data-stu-id="03f2c-451">If you're building your :::no-loc text="Microsoft Teams Rooms"::: devices for the first time, you might want to include the :::no-loc text="Microsoft Monitoring"::: agent setup and configuration steps as part of your build process.</span></span> <span data-ttu-id="03f2c-452">Дополнительные сведения см. [в сведениях об установке агента с помощью командной строки.](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#install-the-agent-using-the-command-line)</span><span class="sxs-lookup"><span data-stu-id="03f2c-452">For more information, see [Install the agent using the command line](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#install-the-agent-using-the-command-line).</span></span>

### <a name="deploying-no-loc-textmicrosoft-monitoring-agent-by-using-a-group-policy-object-gpo"></a><span data-ttu-id="03f2c-453">Развертывание :::no-loc text="Microsoft Monitoring"::: агента с помощью объекта групповой политики (GPO)</span><span class="sxs-lookup"><span data-stu-id="03f2c-453">Deploying :::no-loc text="Microsoft Monitoring"::: agent by using a Group Policy Object (GPO)</span></span>

<span data-ttu-id="03f2c-454">Если вы уже развернули свои устройства перед внедрением, вы можете использовать предоставленный сценарий для настройки агентов с помощью объектов :::no-loc text="Microsoft Teams Rooms"::: :::no-loc text="Azure Monitoring"::: :::no-loc text="Active Directory"::: групповой политики.</span><span class="sxs-lookup"><span data-stu-id="03f2c-454">If you already deployed your :::no-loc text="Microsoft Teams Rooms"::: devices before you implement :::no-loc text="Azure Monitoring":::, you can use the provided script to set up and configure the agents by using :::no-loc text="Active Directory"::: group policy objects.</span></span>

1.  <span data-ttu-id="03f2c-455">Создайте общий сетевой путь и предоставить группе **Domain Computers** доступ для чтения.</span><span class="sxs-lookup"><span data-stu-id="03f2c-455">Create a shared network path and grant read access to **Domain Computers** group.</span></span>

2.  <span data-ttu-id="03f2c-456">Скачайте 64-битную версию :::no-loc text="Microsoft Monitoring"::: агента из :::no-loc text="Windows":::<https://go.microsoft.com/fwlink/?LinkID=517476></span><span class="sxs-lookup"><span data-stu-id="03f2c-456">Download the 64-bit version of the :::no-loc text="Microsoft Monitoring"::: Agent for :::no-loc text="Windows"::: from <https://go.microsoft.com/fwlink/?LinkID=517476></span></span>

3.  <span data-ttu-id="03f2c-457">Извлекать содержимое пакета установки в обойму сети.</span><span class="sxs-lookup"><span data-stu-id="03f2c-457">Extract the contents of the setup package into the network share.</span></span>
    1.  <span data-ttu-id="03f2c-458">Откройте окно командной подсказки и выполните команду **MMASetup-AMD64.exe /c**</span><span class="sxs-lookup"><span data-stu-id="03f2c-458">Open a Command Prompt window, and then execute **MMASetup-AMD64.exe /c**</span></span>
    2.  <span data-ttu-id="03f2c-459">Укажите только что созданную обилие и извлекать содержимое.</span><span class="sxs-lookup"><span data-stu-id="03f2c-459">Specify the share you just created, and extract the content.</span></span>

4.  <span data-ttu-id="03f2c-460">Создайте объект групповой политики и назначьте его подразделению, в котором находятся учетные :::no-loc text="Microsoft Teams Rooms"::: записи компьютера.</span><span class="sxs-lookup"><span data-stu-id="03f2c-460">Create a new Group Policy Object and assign it to the organizational unit where :::no-loc text="Microsoft Teams Rooms"::: machine accounts are located.</span></span>

5.  <span data-ttu-id="03f2c-461">Настройка политики выполнения PowerShell:</span><span class="sxs-lookup"><span data-stu-id="03f2c-461">Configure PowerShell execution policy:</span></span>
    1.  <span data-ttu-id="03f2c-462">Изменение созданного объекта групповой политики и переход к компонентам административных шаблонов "Политики конфигурации \\ \\ \\ :::no-loc text="Windows"::: компьютера" \\:::no-loc text="Windows PowerShell":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-462">Edit the newly created Group Policy Object and navigate to Computer Configuration \\ Policies \\ Administrative Templates \\ :::no-loc text="Windows"::: Components \\ :::no-loc text="Windows PowerShell":::</span></span>
    2.  <span data-ttu-id="03f2c-463">Включив **выполнение сценария и** заключив политику **выполнения,** **разрешив локальные сценарии.**</span><span class="sxs-lookup"><span data-stu-id="03f2c-463">Enable the **Turn on Script Execution** and set **Execution Policy** to **Allow Local Scripts**.</span></span>

6.  <span data-ttu-id="03f2c-464">Настройте сценарий запуска:</span><span class="sxs-lookup"><span data-stu-id="03f2c-464">Configure the startup script:</span></span>
    1.  <span data-ttu-id="03f2c-465">Скопируйте следующий сценарий и сохраните его как Install-MMAgent.ps1.</span><span class="sxs-lookup"><span data-stu-id="03f2c-465">Copy the following script and save it as Install-MMAgent.ps1.</span></span>
    2.  <span data-ttu-id="03f2c-466">Измените параметры WorkspaceId, WorkspaceKey и SetupPath в соответствие с конфигурацией.</span><span class="sxs-lookup"><span data-stu-id="03f2c-466">Modify WorkspaceId, WorkspaceKey, and SetupPath parameters to match your configuration.</span></span>
    3.  <span data-ttu-id="03f2c-467">Изменение того же объекта групповой политики и переход к сценариям параметров политики конфигурации компьютера \\ \\ :::no-loc text="Windows"::: \\ (запуск и завершение работы)</span><span class="sxs-lookup"><span data-stu-id="03f2c-467">Edit the same Group Policy Object and navigate to Computer Configuration \\ Policies \\ :::no-loc text="Windows"::: Settings \\ Scripts (Startup/Shutdown)</span></span>
    4.  <span data-ttu-id="03f2c-468">Дважды щелкните, чтобы выбрать **"Запуск",** а затем — **"Сценарии PowerShell".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-468">Double-click to select **Startup**, and then select **PowerShell Scripts**.</span></span>
    5.  <span data-ttu-id="03f2c-469">Выберите **"Показать файлы"** и скопируйте **Install-MMAgent.ps1** файл в эту папку.</span><span class="sxs-lookup"><span data-stu-id="03f2c-469">Select **Show Files**, and then copy the **Install-MMAgent.ps1** file to that folder.</span></span>
    6.  <span data-ttu-id="03f2c-470">Выберите **"Добавить"** и **"Обзор".**</span><span class="sxs-lookup"><span data-stu-id="03f2c-470">Select **Add**, and then **Browse**.</span></span>
    7.  <span data-ttu-id="03f2c-471">Выберите скопированный сценарий PS1.</span><span class="sxs-lookup"><span data-stu-id="03f2c-471">Select the ps1 script you just copied.</span></span>

7.  <span data-ttu-id="03f2c-472">:::no-loc text="Microsoft Teams Rooms"::: необходимо установить и настроить агент :::no-loc text="Microsoft Monitoring"::: с помощью второй перезагрузки.</span><span class="sxs-lookup"><span data-stu-id="03f2c-472">:::no-loc text="Microsoft Teams Rooms"::: devices should install and configure the :::no-loc text="Microsoft Monitoring"::: agent with the second reboot.</span></span>

```PowerShell
# Install-MMAgent.ps1
<#
Date:        04/20/2018
Script:      Install-MMAgent.ps1
Version:     1.0
#>

# Set the parameters
$WorkspaceId = "<your workspace id>"
$WorkspaceKey = "<your workspace key>"
$SetupPath = "\\Server\Share"

$SetupParameters = "/qn NOAPM=1 ADD_OPINSIGHTS_WORKSPACE=1 OPINSIGHTS_WORKSPACE_AZURE_CLOUD_TYPE=0 OPINSIGHTS_WORKSPACE_ID=$WorkspaceId OPINSIGHTS_WORKSPACE_KEY=$WorkspaceKey AcceptEndUserLicenseAgreement=1"

# $SetupParameters = $SetupParameters + " OPINSIGHTS_PROXY_URL=<Proxy server URL> OPINSIGHTS_PROXY_USERNAME=<Proxy server username> OPINSIGHTS_PROXY_PASSWORD=<Proxy server password>"

# Start PowerShell logging
Start-Transcript -Path C:\Temp\MMA-Install.Log

# Check if the Microsoft Monitoring Agent is installed
$mma = New-Object -ComObject 'AgentConfigManager.MgmtSvcCfg'

# Check if the Microsoft Monitoring agent is installed
if (!$mma)
{
    #Install agent
    Start-Process -FilePath "$SetupPath\Setup.exe" -ArgumentList $SetupParameters -ErrorAction Stop -Wait
}

# Check if the agent has a valid configuration
$CheckMMA = $mma.GetCloudWorkspace($WorkspaceId).AgentId
if (!$CheckMMA)
{
    # Apply new configuration
    $mma.AddCloudWorkspace($WorkspaceId, $WorkspaceKey)
    $mma.ReloadConfiguration()
}

Stop-Transcript
```

> [!NOTE]
> <span data-ttu-id="03f2c-473">Если вам нужно [ :::no-loc text="Log Analytics"::: ](https://docs.microsoft.com/azure/azure-monitor/platform/agent-manage) перенастроить агент, переместить его в другую область или изменить параметры прокси-сервера после первоначальной установки, обратитесь к статье "Управление агентом и его обслуживанием".</span><span class="sxs-lookup"><span data-stu-id="03f2c-473">You can refer to the article [Managing and maintaining the :::no-loc text="Log Analytics"::: agent](https://docs.microsoft.com/azure/azure-monitor/platform/agent-manage) when you need to reconfigure an agent, move it to a different workspace, or modify proxy settings after the initial installation.</span></span>

## <a name="additional-solutions"></a><span data-ttu-id="03f2c-474">Дополнительные решения</span><span class="sxs-lookup"><span data-stu-id="03f2c-474">Additional Solutions</span></span>
<span data-ttu-id="03f2c-475"><a name="Solutions"> </a></span><span class="sxs-lookup"><span data-stu-id="03f2c-475"><a name="Solutions"> </a></span></span>

<span data-ttu-id="03f2c-476">:::no-loc text="Azure Monitor"::: содержит встроенные решения для управления с помощью [коллекции](https://docs.microsoft.com/azure/azure-monitor/insights/solutions) решений, которые помогут вам следить за средой.</span><span class="sxs-lookup"><span data-stu-id="03f2c-476">:::no-loc text="Azure Monitor"::: provides built-in management solutions through its [solution gallery](https://docs.microsoft.com/azure/azure-monitor/insights/solutions) to further help you monitor your environment.</span></span> <span data-ttu-id="03f2c-477">Настоятельно рекомендуем также добавить в [ :::no-loc text="Azure Log Analytics"::: ](https://docs.microsoft.com/azure/azure-monitor/insights/solution-agenthealth) свою область решения [для](https://docs.microsoft.com/azure/azure-monitor/platform/alert-management-solution) управления оповещениями и агентов.</span><span class="sxs-lookup"><span data-stu-id="03f2c-477">We highly recommend that you add [Alert Management](https://docs.microsoft.com/azure/azure-monitor/platform/alert-management-solution) and [:::no-loc text="Azure Log Analytics"::: Agent Health](https://docs.microsoft.com/azure/azure-monitor/insights/solution-agenthealth) solutions to your workspace as well.</span></span>

> [!NOTE]
> <span data-ttu-id="03f2c-478">Решение agent Health может помочь вам определить устаревших агентов в вашей среде, а решение для управления оповещениями предоставляет подробные сведения о оповещениях, которые были сдвещены в течение :::no-loc text="Microsoft Monitoring"::: данного периода.</span><span class="sxs-lookup"><span data-stu-id="03f2c-478">The Agent Health solution can help you identify outdated or broken :::no-loc text="Microsoft Monitoring"::: agents within your environment, and the Alert Management solution provides details about the alerts that have been raised within a given period.</span></span>

## <a name="see-also"></a><span data-ttu-id="03f2c-479">См. также</span><span class="sxs-lookup"><span data-stu-id="03f2c-479">See also</span></span>

[<span data-ttu-id="03f2c-480">Управление :::no-loc text="Microsoft Teams Rooms"::: планами с помощью :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-480">Plan :::no-loc text="Microsoft Teams Rooms"::: management with :::no-loc text="Azure Monitor":::</span></span>](azure-monitor-plan.md)

[<span data-ttu-id="03f2c-481">Управление :::no-loc text="Microsoft Teams Rooms"::: устройствами с помощью :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="03f2c-481">Manage :::no-loc text="Microsoft Teams Rooms"::: devices with :::no-loc text="Azure Monitor":::</span></span>](azure-monitor-manage.md)
