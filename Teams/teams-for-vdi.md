---
title: Группы конструкторов виртуализованной инфраструктуры
author: LanaChin
ms.author: v-lanac
manager: serdars
ms.date: 03/25/2018
ms.topic: article
ms.service: msteams
ms.reviewer: ''
description: Узнайте, как для запуска групп Майкрософт в среде виртуализации инфраструктуры рабочих столов (VDI).
localization_priority: Normal
search.appverid: MET150
MS.collection:
- Teams_ITAdmin_PracticalGuidance
- M365-collaboration
appliesto:
- Microsoft Teams
ms.openlocfilehash: 30577fc8ee2628520bca7329f651f07cecfe6553
ms.sourcegitcommit: 9bb2bfd09ca279752dbedf17911ea46568649c4a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/09/2019
ms.locfileid: "31752711"
---
# <a name="teams-for-virtualized-desktop-infrastructure"></a>Группы конструкторов виртуализованной инфраструктуры

В этой статье описаны требования и ограничения при использовании групп Майкрософт в виртуализованной среде.

## <a name="what-is-vdi"></a>Что такое инфраструктуры виртуальных рабочих СТОЛОВ?

Инфраструктуры виртуальных рабочих столов (VDI) — это технология виртуализации, на котором размещается операционная система и приложения на сервере централизованного в центре обработки данных. Это позволяет полностью индивидуально настроенных настольных компьютерах пользователям, имеющим полностью с защитой и ее соответствие требованиям централизованного источника. 
 
На данный момент группы в виртуализованной среде доступна с поддержкой функциональные возможности совместной работы и общаться с выделенной сохраняемого виртуальной машине (виртуальной Машины). Чтобы обеспечить оптимальную пользовательского интерфейса, следуйте указаниям в этой статье. 

## <a name="teams-requirements"></a>Требования к группам

### <a name="set-policies-to-turn-off-calling-and-meeting-functionality-in-teams"></a>Настраивать политики для отключения вызов и функциональности в группах собраний

Команды вызова и собрания качества не оптимизирована, в среде VDI (ожидается в ближайшее время). Мы рекомендуем установить политики уровня пользователя, отключение вызова и функциональности в группах собраний.

По-прежнему можно полностью запуск команд в инфраструктуры виртуальных рабочих СТОЛОВ с помощью классического приложения группы или веб-приложения. Тем не менее рекомендуется задавать политики, чтобы избежать риска удобство работы пользователей.  

Для изменения политики для распространения может потребоваться некоторое время (несколько часов). Если изменения для указанной учетной записи не отображается немедленно, попробуйте еще раз в несколько часов.

> [!NOTE]
> При группы вызова и собраний, оптимизированных для использования в виртуальных средах с рабочего стола, можно восстановить эти политики и разрешить пользователям использовать команды, как они обычно. 

#### <a name="calling"></a>Звонки

Будет ли пользователям разрешено использовать вызов и телефонные номера в конфиденциальном режиме и группы обсуждений с помощью командлетов **CSTeamsCallingPolicy** для элемента управления. Ниже приведен список параметров политики и рекомендуемые значения.

|Название политики  |Описание |Рекомендуемое значение  |
|---------|---------|---------|
|AllowCalling    |Вызов возможности взаимодействия элементов управления. Это включен, Скайп для бизнес-пользователям имеют индивидуального вызовы с пользователями, группами и наоборот.         |Установите значение False, чтобы вызовы от Скайп для бизнес-пользователи Главная в группах.          |
|AllowPrivateCalling     | Определяет, доступна ли вызов приложения в панели приложения в левой части клиента, групп и ли пользователи видеть вызова и вызовите параметры в частной беседы видео         |Чтобы удалить вызов приложения из панель приложения в левой части группы и для удаления возможности телефонной и видеосвязи звонков в частной беседы установлено значение False.          |

#### <a name="create-and-assign-a-calling-policy"></a>Создайте и назначьте политику вызывающего

1. Начало сеанса Windows PowerShell с правами администратора.
2. Подключение к сети соединителя Скайп.

        # Set Office 365 User Name and Password
        $username = “admin email address”
        password = ConvertTo-SecureString "password" -AsPlainText -Force
        $LiveCred = new-object -typename System.Management.Automation.PSCredential -argumentlist $username, $password
        # Connect to Skype Online
        Import-Module SkypeOnlineConnector
        $sfboSession = New-CsOnlineSession -Credential $LiveCred
        Import-PSSession $sfboSession```

3. Просмотр списка доступных телефонных номеров политики.

       Get-CsTeamsCallingPolicy
 
4. Найдите параметр встроенной политики где отключаются все политики вызова. Он выглядит следующим образом.
   
        Identity                        : Tag:DisallowCalling
        AllowCalling                    : False
        AllowPrivateCalling             : False
        AllowVoicemail                  : False
        AllowCallGroups                 : False
        AllowDelegation                 : False
        AllowUserControl                : False
        AllowCallForwardingToUser       : False
        AllowCallForwardingToPhone      : False
        PreventTollBypass               : False

5. Примените параметр DisallowCalling встроенной политики для всех пользователей, которые будут работать с группами в виртуализованной среде.

        Grant-CsTeamsCallingPolicy -PolicyName DisallowCalling -Identity “user email id”

Дополнительные сведения о группах вызов политик можно [Set-CsTeamsCallingPolicy](https://docs.microsoft.com/powershell/module/skype/set-csteamscallingpolicy).

#### <a name="meetings"></a>Собрания

Использование командлетов **CsTeamsMeetingPolicy** для управления типом собрания, которые пользователи могут создавать, функции, которые они имеют доступ во время собрания и функциональные возможности собраний, доступные для анонимных и внешними пользователями. Ниже приведен список параметров политики и рекомендуемые значения.

|Имя политики |Описание|Рекомендуемое значение                   |
|-------------------|-----------------|-----------------------|
|AllowPrivateMeetingScheduling  | Определяет, разрешено ли пользователь для планирования личных встреч.| Установлено значение False, чтобы запретить пользователям возможность планировать собрания закрытый.  |
|AllowChannelMeetingScheduling  | Определяет, разрешено ли пользователь для планирования собраний канала. | Установлено значение False, чтобы запретить пользователям возможность планировать собрания канала.                       |
|AllowMeetNow |Определяет, разрешено ли пользователь для создания или запуска незапланированных собраний.              |  Установите значение False, чтобы запретить пользователь не сможет начать незапланированных собраний.                     |
|ScreenSharingMode | Определяет режим, в котором пользователь может совместно использовать экран в звонков или собрания. | Присвоено значение "отключено" запретить пользователям общий доступ к своим экранов                          |
|AllowIPVideo |Определяет, включена ли видео в звонки и встречи пользователя.                  |    Задано значение False, чтобы запретить общий доступ к своим видео пользователя                                         |
| AllowAnonymousUsersToDialOut | Определяет, разрешены ли анонимные пользователи для исходящих звонков ТСОП номер. | Задано значение False, чтобы запретить анонимным пользователям выходному набору.                                  |
| AllowAnonymousUsersToStartMeeting | Определяет, будет ли анонимные пользователи могут начать собрание.     |  Задано значение False, чтобы запретить пользователям начать собрание                                            |
| AllowOutlookAddIn |Определяет, может ли пользователь планировать собрания групп в клиентском Outlook.| Задано значение False, чтобы запретить пользователям планирования собраний группы в клиентском Outlook|
| AllowParticipantGiveRequestControl|Определяет участников можно запросить или предоставить управление совместное использование рабочего стола.| Задано значение False, чтобы запретить пользователям давая и запрашивает управление в ходе собрания    |
| AllowExternalParticipantGiveRequestControl | Определяет, можно запросить или передать управление совместного использования экрана внешним участникам.| Значение False для запретить давая, внешний пользователь запрашивает управление в ходе собрания|
|AllowPowerPointSharing|Определяет, разрешено ли общий доступ к PowerPoint в собраниях пользователя. |Задано значение False, чтобы запретить совместное использование файлов PowerPoint на собрании пользователя  |
|AllowWhiteboard | Определяет, разрешено ли доски в собраниях пользователя. |   Задано значение False, чтобы запретить использование доски на собрании |
| AllowTranscription |Определяет заголовки в режиме реального времени и/или после собрания и транскрипциями, разрешены ли в собраниях пользователя.|    Задано значение False, чтобы запретить транскрибирования и их подписей в ходе собрания  |  
| AllowSharedNotes | Определяет, разрешено ли пользователям для общих заметок. | Задано значение False, чтобы запретить пользователям общих заметок |
|MediaBitRateKB |Определяет скорость потока мультимедиа для аудио/видео/приложения общего доступа к передач в собраниях  | Предлагаемое значение — 5000 (5 МБ). Можно изменить его в соответствии с потребностями вашей организации.| 

#### <a name="create-and-assign-a-meeting-policy"></a>Создайте и назначьте политику собрания

1. Начало сеанса Windows PowerShell с правами администратора.
2. Подключение к сети соединителя Скайп.

        # Set Office 365 User Name and Password
        $username = “admin email address”
        password = ConvertTo-SecureString "password" -AsPlainText -Force
        $LiveCred = new-object -typename System.Management.Automation.PSCredential -argumentlist $username, $password
        # Connect to Skype Online
        Import-Module SkypeOnlineConnector
        $sfboSession = New-CsOnlineSession -Credential $LiveCred
        Import-PSSession $sfboSession```

3. Просмотр списка приглашений на собрания параметры политики.

       Get-CsTeamsMeetingPolicy
 
4. Найдите параметр встроенной политики где отключаются все политики собрания. Он выглядит следующим образом.
   
        Identity                                    : Tag:AllOff
        Description                                 :
        AllowChannelMeetingScheduling               : False
        AllowMeetNow                                : False
        AllowIPVideo                                : False
        AllowAnonymousUsersToDialOut                : False
        AllowAnonymousUsersToStartMeeting           : False
        AllowPrivateMeetingScheduling               : False
        AutoAdmittedUsers                           : False
        AllowCloudRecording                         : False
        AllowOutlookAddIn                           : False
        AllowPowerPointSharing                      : False
        AllowParticipantGiveRequestControl          : False
        AllowExternalParticipantGiveRequestControl  : False
        AllowSharedNotes                            : False
        AllowWhiteboard                             : False
        AlowTranscription                           : False
        MediaBitRateKb                              : False
        ScreenSharingMode                           : False

5. Примените параметр AllOff встроенной политики для всех пользователей, которые будут работать с группами в виртуализованной среде. 

        Grant-CsTeamsMeetingPolicy -PolicyName AllOff -Identity “user email id”

 Дополнительные сведения о политиках собрания команды [Set-CsTeamsMeetingPolicy](https://docs.microsoft.com/powershell/module/skype/set-csteamsmeetingpolicy)см.

### <a name="virtualization-provider-requirements"></a>Требования к виртуализации поставщика

Приложение группы проверки на ведущие поставщики решений виртуализации. С несколькими поставщиками рынка обратитесь к поставщика решений виртуализации, чтобы убедиться, что выполняются минимальные требования.

### <a name="virtual-machine-requirements"></a>Требования к виртуальной машине

С помощью различных рабочих нагрузок и пользовательских задач в виртуализованной среде ниже приведен по меньшей мере Рекомендуемая конфигурация виртуальной Машины.

|Параметр  |Измерения  |
|---------|---------|
|vCPU    |  2 ядра       |
|ОЗУ     |  4 ГБ      |
|Хранилище     | 8 ГБ       |

### <a name="virtual-machine-operating-system-requirements"></a>Требования к операционной системе виртуальной машины

Поддерживаемые операционные системы для виртуальной Машины являются:

- Windows 10 и более поздних версий
- Windows Server 2012 R2 и более поздних версий

## <a name="install-teams-on-vdi"></a>Установка группы на инфраструктуры виртуальных рабочих СТОЛОВ

Ниже приведен процесс и средства для развертывания классического приложения группы. 

1. Загрузите пакет MSI группами, с помощью одного из следующих ссылок в зависимости от среды. Мы рекомендуем 64-разрядная версия для виртуальной Машины инфраструктуры виртуальных рабочих СТОЛОВ с 64-разрядной операционной системы.

    - [32-разрядная версия](https://teams.microsoft.com/downloads/desktopurl?env=production&plat=windows&download=true&managedInstaller=true)
    - [64-разрядная версия](https://teams.microsoft.com/downloads/desktopurl?env=production&plat=windows&download=true&managedInstaller=true&arch=x64)

2. Выполните следующую команду для установки MSI-файла для виртуальной Машины инфраструктуры виртуальных рабочих СТОЛОВ (или выполнить его обновление).

        msiexec /i <path_to_msi> /l*v <install_logfile_name> ALLUSER=1

    Это устанавливает группами Program Files. На этом этапе Настройка эталонные изображения завершена.
 
    Следующего интерактивного входа в систему начинается групп и запрашивает учетные данные. Обратите внимание на то, что не можно отключить автоматический запуск команд при установке групп с помощью свойства ALLUSER инфраструктуры виртуальных рабочих СТОЛОВ. 

3. Выполните следующую команду, чтобы удалить MSI-файла из виртуальной Машины инфраструктуры виртуальных рабочих СТОЛОВ (или подготовки к их обновление).

        msiexec /passive /x <path_to_msi> /l*v <uninstall_logfile_name>

    Это удаление групп из Program Files.

## <a name="known-issues-and-limitations"></a>Известные проблемы и ограничения

Далее представлены известные проблемы и ограничения для групп на инфраструктуры виртуальных рабочих СТОЛОВ.

- **Развертываний тип узла сеанса Shared**: Shared сеанса узла тип развертывания (например, общих непостоянные виртуальной Машины конфигурация) не входят в область.
- **Звонков и собраний**:

    - Звонков и собраний сценарии не оптимизирован для инфраструктуры виртуальных рабочих СТОЛОВ. Эти сценарии будут выполнять неудачно. Рекомендуется использовать политики уровня пользователя, как описано в разделе [Настройка политики для отключения вызова и функциональности в группах собраний](#set-policies-to-turn-off-calling-and-meeting-functionality-in-teams) .  
    - Применение политики, описанные в этой статье влияет на возможность использования функции вызова и собрание, которые в зависимости от других политик может повлиять на других пользователей в вашей организации. Если пользователи в вашей организации используют клиенты не инфраструктуры виртуальных рабочих СТОЛОВ, вы можете не политиками.  

- **Объединение звонков и собраний, созданные другими пользователями**: несмотря на то, что политики Запретить пользователям Создание собраний, они могут по-прежнему присоединяться к собраниям Если другой пользователь набирает номер им из собрания. В этих собраний, возможность совместного использования видео, использовать доску и другие функции зависят от ли вы отключили этих компонентов с помощью TeamsMeetingPolicy.  
- **Содержимое кэширования**: Если виртуальной среды в команды, которые running не сохраняемого (и очистки данных в конце каждого сеанса пользователя), пользователи могут заметить снижение производительности из-за обновление контента, независимо от того, является ли пользователь получить доступ к таким же содержимое в предыдущем сеансе.
- **Обновления клиента**: команды на инфраструктуры виртуальных рабочих СТОЛОВ не будет автоматически обновлен аналогично функции клиентов, не являющиеся инфраструктуры виртуальных рабочих СТОЛОВ группы.  Необходимо обновить образ виртуальной Машины путем установки нового MSI, как описано в разделе [Установка группы на инфраструктуры виртуальных рабочих СТОЛОВ](#install-teams-on-vdi) . Необходимо удалить текущую версию, чтобы обновление до новой версии.
- **Взаимодействие с пользователем**: взаимодействие с пользователем групп в среде VDI может отличаться от в среде без инфраструктуры виртуальных рабочих СТОЛОВ. Различия может быть из-за параметров политики и функции поддержки в среде.

Известные проблемы, которые не относятся к VDI командами в разделе [Известные проблемы, связанные с группами Майкрософт](Known-issues.md).

## <a name="related-topics"></a>Связанные разделы

- [Установка группами Майкрософт, с помощью MSI](msi-deployment.md)