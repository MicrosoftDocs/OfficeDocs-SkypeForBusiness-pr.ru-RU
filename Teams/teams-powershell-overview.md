---
title: Обзор PowerShell в Teams
author: LolaJacobsen
ms.author: lolaj
manager: serdars
ms.date: 09/06/2018
ms.topic: article
ms.service: msteams
description: Изучите использование элементов управления PowerShell для управления группами Майкрософт.
appliesto:
- Microsoft Teams
ms.openlocfilehash: 45714418f123022bc3545d4923bd18fc71bad746
ms.sourcegitcommit: 31827526894ffb75d64fcb0a7c76ee874ad3c269
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2019
ms.locfileid: "29754545"
---
# <a name="teams-powershell-overview"></a><span data-ttu-id="e4a9f-103">Обзор PowerShell в Teams</span><span class="sxs-lookup"><span data-stu-id="e4a9f-103">Teams PowerShell Overview</span></span>

<span data-ttu-id="e4a9f-104">Группами Майкрософт имеет широкий набор средств для ИТ-администраторов для управления продукта через Центр администрирования группами Майкрософт, PowerShell элементов управления и API-интерфейсы графике.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-104">Microsoft Teams has a rich set of tools for IT admins to manage the product through the Microsoft Teams admin center, PowerShell controls, and Graph APIs.</span></span> <span data-ttu-id="e4a9f-105">В этом руководстве рассматривается как мы структурировать наших командлеты PowerShell для ИТ-администраторов для использования и содержит ссылки на дополнительные документацию.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-105">This guide explains how we structure our PowerShell cmdlets for IT admins to use, and provides pointers to further documentation.</span></span> <span data-ttu-id="e4a9f-106">Обратите внимание на то, что различные роли администраторов группы имеют доступ к другой командлетов.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-106">Note that different Teams admin roles have access to different cmdlets.</span></span> <span data-ttu-id="e4a9f-107">Дополнительные сведения можно [управлять группами ролей администраторов группами Майкрософт использования](using-admin-roles.md).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-107">For more information, see [Use Microsoft Teams admin roles to manage Teams](using-admin-roles.md).</span></span>

## <a name="which-modules-do-you-need-to-use"></a><span data-ttu-id="e4a9f-108">Какие модули необходимо использовать?</span><span class="sxs-lookup"><span data-stu-id="e4a9f-108">Which modules do you need to use?</span></span>

<span data-ttu-id="e4a9f-109">Элементы управления PowerShell для управления группами находятся в двух разных модулях PowerShell:</span><span class="sxs-lookup"><span data-stu-id="e4a9f-109">The PowerShell controls for managing Teams are in two different PowerShell modules:</span></span> 
- <span data-ttu-id="e4a9f-110">[Модуль Microsoft команды PowerShell](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.5) (пробная версия): модуль команды PowerShell содержит все командлеты, необходимые для создания и управление группами.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-110">[Microsoft Teams PowerShell module](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.5) (public preview): The Teams PowerShell module contains all the cmdlets you need to create and manage teams.</span></span>  
- <span data-ttu-id="e4a9f-111">[Скайп для модуль PowerShell бизнеса](https://www.microsoft.com/en-us/download/details.aspx?id=39366): Скайп для модуль Business PowerShell содержит командлеты, чтобы управлять политиками, конфигурации и других средств группами.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-111">[Skype for Business PowerShell module](https://www.microsoft.com/en-us/download/details.aspx?id=39366): The Skype for Business PowerShell module contains the cmdlets to manage policies, configurations, and other Teams tools.</span></span> 

<span data-ttu-id="e4a9f-112">Справочная документация для элементов управления PowerShell сообщит вам, какие модуль содержит командлетом, в случае исследование.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-112">The reference documentation for the PowerShell controls will tell you which module contains the cmdlet you're investigating.</span></span> <span data-ttu-id="e4a9f-113">(В конце концов, два модули будут объединены.)</span><span class="sxs-lookup"><span data-stu-id="e4a9f-113">(Eventually, the two modules will be combined.)</span></span>

## <a name="what-can-each-admin-role-do"></a><span data-ttu-id="e4a9f-114">Что можно делать каждой роли администратора?</span><span class="sxs-lookup"><span data-stu-id="e4a9f-114">What can each admin role do?</span></span>

<span data-ttu-id="e4a9f-115">Ознакомьтесь с [группами Майкрософт использования роли администратора для управления группами](using-admin-roles.md) понять роли различных admin командлеты PowerShell, которые смогут использовать.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-115">Read [Use Microsoft Teams admin roles to manage Teams](using-admin-roles.md) to understand which PowerShell cmdlets different admin roles will be able to leverage.</span></span>

## <a name="creating-and-managing-teams-via-powershell"></a><span data-ttu-id="e4a9f-116">Создание и управление группами с помощью PowerShell</span><span class="sxs-lookup"><span data-stu-id="e4a9f-116">Creating and managing teams via PowerShell</span></span>

<span data-ttu-id="e4a9f-117">Командлеты для создания и управления группами являются в [модуль Microsoft команды PowerShell](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.3).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-117">The cmdlets for creating and managing teams are in the [Microsoft Teams PowerShell module](https://www.powershellgallery.com/packages/MicrosoftTeams/0.9.3).</span></span> 

<span data-ttu-id="e4a9f-118">Команды выполняется резервное O365 группами, поэтому при создании рабочая группа, создание группы.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-118">Teams are backed by O365 Groups, so when you create a team, you create a group.</span></span> <span data-ttu-id="e4a9f-119">Существует набор командлетов для основная группа и его параметры (``new-team``, ``get-team``, ``set-teamfunsettings``, ``set-teammessagingsettings``, ``set-teamguestsettings``, ``set-teammembersettings``), управление пользователями группы (``add-teamuser``, ``remove-teamuser``), а также командлетов для управления каналами рабочей группы (``new-teamchannel`` , ``remove-teamchannel``).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-119">There are a set of cmdlets provided for operating on the core team and its settings (``new-team``, ``get-team``, ``set-teamfunsettings``, ``set-teammessagingsettings``, ``set-teamguestsettings``, ``set-teammembersettings``), managing team users (``add-teamuser``, ``remove-teamuser``), as well as cmdlets for managing the channels of the team (``new-teamchannel``, ``remove-teamchannel``).</span></span> <span data-ttu-id="e4a9f-120">Все эти командлеты могут выполняться как конечные пользователи, но они работают только на которых вы должны быть членом группы.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-120">All of these cmdlets can be run as end users, but they'll work only on the teams that you own or are a member of.</span></span> <span data-ttu-id="e4a9f-121">Если вы являетесь глобального администратора или администратора службы групп, можно будет действовать на все рабочие группы в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-121">If you are a Global Admin or Teams Service Administrator, you'll be able to act on all teams in your organization.</span></span>

> <span data-ttu-id="e4a9f-122">**GroupId** , используемые в командлетах модуля Microsoft команды PowerShell совпадает с свойства **Identity** , возвращаемого ``Get-UnifiedGroup`` в модуле Exchange PowerShell.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-122">The **GroupId** used in the Microsoft Teams PowerShell module cmdlets is the same as the **Identity** property returned by ``Get-UnifiedGroup`` in the Exchange PowerShell module.</span></span>

## <a name="managing-policies-via-powershell"></a><span data-ttu-id="e4a9f-123">Управление политиками через PowerShell</span><span class="sxs-lookup"><span data-stu-id="e4a9f-123">Managing policies via PowerShell</span></span>

<span data-ttu-id="e4a9f-124">Командлеты для управления политиками находятся в [Скайп для бизнес-командлет модуля](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-124">The cmdlets for managing policies are in the [Skype for Business cmdlet module](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span></span>

<span data-ttu-id="e4a9f-125">Политика — это набор параметров, которые могут быть применены модульного отдельным пользователям.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-125">A policy is a group of settings that can be applied granularly to individual users.</span></span> <span data-ttu-id="e4a9f-126">Каждый тип политики имеет свой собственный набор командлетов для создания, просмотра, удаления и обновление сами политики и затем назначение этих политик для пользователей.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-126">Each policy type has its own set of cmdlets for creating, viewing, deleting, and updating the policies themselves, and then assigning those policies to users.</span></span> <span data-ttu-id="e4a9f-127">— Это общая структура:</span><span class="sxs-lookup"><span data-stu-id="e4a9f-127">The general structure is:</span></span>

- <span data-ttu-id="e4a9f-128">Команды GET (например, ``Get-CsTeamsMeetingPolicy``): возврата документов политики, которые можно назначить в вашей организации, политик, созданных корпорацией Майкрософт для использования и настраиваемых политик, вы создали.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-128">GET commands (for example, ``Get-CsTeamsMeetingPolicy``):  return the policy documents that are available for you to assign in your organization, both the policies created by Microsoft for you to use and the custom policies you’ve created.</span></span>
   > <span data-ttu-id="e4a9f-129">Если вы хотите найти настраиваемых политик, вы создали в вашей организации, можно использовать ``-Filter "tag:*"``.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-129">If you want to find only the custom policies you’ve created in your organization, you can use ``-Filter "tag:*"``.</span></span>

- <span data-ttu-id="e4a9f-130">НОВЫЕ команды (например, ``New-CsTeamsMeetingPolicy``): позволяют создавать новые политики для вашей организации, которые нажмите можно назначить пользователям в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-130">NEW commands (for example, ``New-CsTeamsMeetingPolicy``): let you create new policies for your organization that are then available to be assigned to users in your organization.</span></span> <span data-ttu-id="e4a9f-131">Не все политики поддержки создания настраиваемых политик.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-131">Not all policies support the creation of custom policies.</span></span> <span data-ttu-id="e4a9f-132">Обычно это позволяет обеспечить поддерживаемых комбинаций параметров политик, используемых в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-132">Often this is to ensure that the policies you use in your organization have a supported combination of settings.</span></span>

- <span data-ttu-id="e4a9f-133">НАБОР команд (например, ``Set-CsTeamsMeetingPolicy``): позволяет задавать определенного значения для групповой политики.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-133">SET commands (for example, ``Set-CsTeamsMeetingPolicy``): lets you set particular values on a given policy.</span></span> <span data-ttu-id="e4a9f-134">Некоторые политики не набор команд, или содержит параметры, которые не могут быть настроены в политике.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-134">Some policies do not have set commands available, or contain parameters that cannot be customized in the policy.</span></span> <span data-ttu-id="e4a9f-135">Описание каждого PowerShell выполняется звонок, какие параметры не может быть изменен.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-135">Each PowerShell description will call out which parameters cannot be customized.</span></span> 
   > <span data-ttu-id="e4a9f-136">Чтобы изменить политику, которая будет по умолчанию назначен пользователям, у которых нет назначенных пользовательскую политику, запустите ``Set-Cs<PolicyName> -Identity Global``.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-136">To edit the policy that will by default be assigned to users in your organization who do not have a custom policy assigned, run ``Set-Cs<PolicyName> -Identity Global``.</span></span>

- <span data-ttu-id="e4a9f-137">Удаление команды (например, ``Remove-CsTeamsMeetingPolicy``): этот командлет можно использовать для удаления пользовательскую политику, которая была создана в вашего клиента.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-137">REMOVE commands (for example, ``Remove-CsTeamsMeetingPolicy``): you can use this cmdlet to delete a custom policy that has been created in your tenant.</span></span> <span data-ttu-id="e4a9f-138">При удалении пользовательскую политику, которая была назначена хотя бы одному пользователю в вашей организации, этот пользователь возвращается к глобальной политики.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-138">If you delete a custom policy that has been assigned to at least one user in your organization, that user will fall back to the global policy.</span></span>
   > <span data-ttu-id="e4a9f-139">Удалить нельзя глобальную политику в вашей организации, но если вы хотите Сброс глобальной политики в организации параметры по умолчанию, предоставленные корпорацией Майкрософт, можно запустить ``Remove-Cs<PolicyName> -Identity Global``.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-139">You can’t actually remove the global policy in your organization, but if you want to reset the global policy in your organization to the Microsoft-provided default settings, you can run ``Remove-Cs<PolicyName> -Identity Global``.</span></span>

- <span data-ttu-id="e4a9f-140">Предоставление команды (например, ``Grant-CsTeamsMeetingPolicy``): позволяет назначить политики для определенного пользователя.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-140">GRANT command (for example, ``Grant-CsTeamsMeetingPolicy``): lets you assign a policy to a particular user.</span></span>
   > <span data-ttu-id="e4a9f-141">Чтобы удалить пользовательскую политику назначения и сделайте его не используют политики по умолчанию в вашей организации, выполните ``Grant-Cs<PolicyName> -Identity <User Identity> -PolicyName $null``.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-141">To remove a custom policy assignment and make the user fall back to the default policy in your organization, run ``Grant-Cs<PolicyName> -Identity <User Identity> -PolicyName $null``.</span></span>

> [!TIP]
> <span data-ttu-id="e4a9f-142">Не все политики позволяют настраиваемых политик будет создан, и некоторые политики имеют параметры, которые не могут настраивать (, можно просмотреть текущее значение, но нельзя задать пользовательское значение во время ``set-`` и ``new-``).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-142">Not all policies allow custom policies to be created, and some policies have settings that you can’t customize (so you can view the setting but can’t set a custom value during ``set-`` and ``new-``).</span></span> <span data-ttu-id="e4a9f-143">Документация по определенным командлет будет вызвать выходной параметр, если параметры недоступны для пользователей.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-143">The documentation of the specific cmdlet will call out if parameters are not available for use by customers.</span></span>

<span data-ttu-id="e4a9f-144">Общие параметры:</span><span class="sxs-lookup"><span data-stu-id="e4a9f-144">Common parameters:</span></span>

- <span data-ttu-id="e4a9f-145">**Удостоверения**: для ``Get-``, ``Set-``, ``New-``, и ``Remove-``, параметр **Identity** всегда будет относиться к экземпляру определенной политики.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-145">**Identity**: For ``Get-``, ``Set-``, ``New-``, and ``Remove-``, the **Identity** parameter will always refer to a specific policy instance.</span></span> <span data-ttu-id="e4a9f-146">Для ``Grant``, параметр **Identity** ссылается на объект определенного пользователя, к которому применяется политика.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-146">For ``Grant``, the **Identity** parameter refers to a specific user object to whom the policy is being applied.</span></span>

<!--more info here?-->

## <a name="managing-configurations-via-powershell"></a><span data-ttu-id="e4a9f-147">Управление конфигурациями через PowerShell</span><span class="sxs-lookup"><span data-stu-id="e4a9f-147">Managing configurations via PowerShell</span></span>

<span data-ttu-id="e4a9f-148">Командлеты для управления конфигурации находятся в [Скайп для бизнес-командлет модуля](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-148">The cmdlets for managing your configuration are in the [Skype for Business cmdlet module](https://www.microsoft.com/en-us/download/details.aspx?id=39366).</span></span>

<span data-ttu-id="e4a9f-149">Конфигурации: контейнеры параметры, которые поддерживаются в службе, которая не может быть указан на уровне пользователя.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-149">Configurations are buckets of settings maintained in the service that cannot be specified at a user level.</span></span> <span data-ttu-id="e4a9f-150">Параметры всегда применяются по всей организации.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-150">Settings always apply across the whole organization.</span></span> <span data-ttu-id="e4a9f-151">Глобальная конфигурация является только при наличии конфигурации в вашей организации.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-151">Your global configuration is the only effective configuration in your organization.</span></span> <span data-ttu-id="e4a9f-152">Каждый тип конфигурации имеет два основных командлетов:</span><span class="sxs-lookup"><span data-stu-id="e4a9f-152">Each configuration type comes with two primary cmdlets:</span></span>

- <span data-ttu-id="e4a9f-153">``Get-Cs<ConfigurationName>``(например, ``Get-CsTeamsClientConfiguration``):</span><span class="sxs-lookup"><span data-stu-id="e4a9f-153">``Get-Cs<ConfigurationName>`` (for example, ``Get-CsTeamsClientConfiguration``):</span></span> 

- <span data-ttu-id="e4a9f-154">НАБОР команд (например, ``Set-CsTeamsClientConfiguration``): Установка свойств в конфигурации этого типа.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-154">SET commands (for example, ``Set-CsTeamsClientConfiguration``): set properties in the configuration of that type.</span></span> <span data-ttu-id="e4a9f-155">Укажите параметры, которые требуется изменить.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-155">Specify the parameters that you want to modify.</span></span>
   > <span data-ttu-id="e4a9f-156">Можно ссылаться на конфигурацию, изменении двумя способами: путем указания -**Глобальный идентификатор**, или работая ``Get-Cs<ConfigurationName>``  |  ``Set-Cs<ConfigurationName>``.</span><span class="sxs-lookup"><span data-stu-id="e4a9f-156">You can reference the configuration that you’re modifying in one of two ways: by specifying -**Identity Global**, or by running ``Get-Cs<ConfigurationName>`` | ``Set-Cs<ConfigurationName>``.</span></span>

## <a name="other-powershell-tools"></a><span data-ttu-id="e4a9f-157">Другие средства PowerShell</span><span class="sxs-lookup"><span data-stu-id="e4a9f-157">Other PowerShell tools</span></span>

<span data-ttu-id="e4a9f-158">Можно найти подробные инструкции по использованию все элементы управления PowerShell для управления группами Майкрософт и Скайп для бизнеса, включая подробные описания параметров в каждой политики, а в разделе [Справочник командлетов группами Майкрософт](https://docs.microsoft.com/powershell/teams/?view=teams-ps) и [Скайп для Справочник командлетов Business](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps).</span><span class="sxs-lookup"><span data-stu-id="e4a9f-158">You can find detailed instructions on how to use all PowerShell controls for managing Microsoft Teams and Skype for Business, including detailed descriptions of the settings in each policy, in the [Microsoft Teams cmdlet reference](https://docs.microsoft.com/powershell/teams/?view=teams-ps) and [Skype for Business cmdlet reference](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps).</span></span>

## <a name="learn-more"></a><span data-ttu-id="e4a9f-159">Дополнительные сведения</span><span class="sxs-lookup"><span data-stu-id="e4a9f-159">Learn more</span></span>

- [<span data-ttu-id="e4a9f-160">Справочник командлетов группами Майкрософт</span><span class="sxs-lookup"><span data-stu-id="e4a9f-160">Microsoft Teams cmdlet reference</span></span>](https://docs.microsoft.com/powershell/teams/?view=teams-ps)
- [<span data-ttu-id="e4a9f-161">Скайп для бизнеса Справочник командлетов</span><span class="sxs-lookup"><span data-stu-id="e4a9f-161">Skype for Business cmdlet reference</span></span>](https://docs.microsoft.com/powershell/skype/intro?view=skype-ps)
- [<span data-ttu-id="e4a9f-162">Управление Microsoft Teams с ролями администратора</span><span class="sxs-lookup"><span data-stu-id="e4a9f-162">Use Microsoft Teams admin roles to manage Teams</span></span>](using-admin-roles.md)
