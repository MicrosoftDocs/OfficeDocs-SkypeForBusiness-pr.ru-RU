---
title: Установка Power BI-соединителя для использования шаблонов запросов CQD
ms.author: serdars
author: SerdarSoysal
manager: serdars
ms.reviewer: siunies
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
ms.collection:
- M365-voice
search.appverid: MET150
audience: Admin
appliesto:
- Microsoft Teams
localization_priority: Normal
description: Установите Power BI Connector для использования шаблонов запросов панели мониторинга качества звонка
ms.openlocfilehash: 26229c59fc666afbc6bcdade67050e1e9b536ea6
ms.sourcegitcommit: 17e34d2de3d10f1d04929a695e301127db7014bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2021
ms.locfileid: "52689807"
---
# <a name="install-microsoft-call-quality-connector-for-power-bi-to-use-call-quality-dashboard-query-templates"></a><span data-ttu-id="ba3ca-103">Установка соединителя качества звонка (Майкрософт Power BI для использования шаблонов запросов на панель мониторинга качества звонка</span><span class="sxs-lookup"><span data-stu-id="ba3ca-103">Install Microsoft Call Quality connector for Power BI to use Call Quality Dashboard query templates</span></span>

<span data-ttu-id="ba3ca-104">Перед использованием шаблонов запросов Power BI (PBIX-файлов) для панели мониторинга качества звонка (CQD) Microsoft Teams необходимо установить соединитель качества звонка (Microsoft) для Power BI, используя файл *MicrosoftCallQuality.pqx,* включенный в скачанную [загрузку.](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/CQD-Power-BI-query-templates.zip?raw=true)</span><span class="sxs-lookup"><span data-stu-id="ba3ca-104">Before you can use the Power BI query templates (PBIX files) for Microsoft Teams Call Quality Dashboard (CQD), you'll need to install the Microsoft Call Quality connector for Power BI, using the *MicrosoftCallQuality.pqx* file included in the [download](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/CQD-Power-BI-query-templates.zip?raw=true).</span></span>

<span data-ttu-id="ba3ca-105">Сведения об этих шаблонах Power BI использовать для анализа [данных CQD для](CQD-Power-BI-query-templates.md) Teams.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-105">Read [Use Power BI to analyze CQD data for Teams](CQD-Power-BI-query-templates.md) to learn about these templates.</span></span>

<span data-ttu-id="ba3ca-106">Убедитесь, что у вас есть права на доступ к отчетам Power BI [CQD.](./turning-on-and-using-call-quality-dashboard.md#assign-admin-roles-for-access-to-cqd)</span><span class="sxs-lookup"><span data-stu-id="ba3ca-106">Make sure you have the right [CQD access role](./turning-on-and-using-call-quality-dashboard.md#assign-admin-roles-for-access-to-cqd) to access the Power BI reports.</span></span>

> [!NOTE]
> <span data-ttu-id="ba3ca-107">Соединитель качества звонка (Майкрософт) поддерживает DirectQuery только в Power BI; Режим импорта не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-107">The Microsoft Call Quality connector only supports DirectQuery in Power BI; Import mode is not supported.</span></span> 

## <a name="installation"></a><span data-ttu-id="ba3ca-108">Установка</span><span class="sxs-lookup"><span data-stu-id="ba3ca-108">Installation</span></span>

<span data-ttu-id="ba3ca-109">Процесс установки пользовательского соединителя и настройки безопасности для его использования подробно описан в документации [Power BI.](/power-bi/desktop-connector-extensibility)</span><span class="sxs-lookup"><span data-stu-id="ba3ca-109">The process for installing a custom connector and adjusting security to enable use of the connector is described in detail in the [Power BI documentation](/power-bi/desktop-connector-extensibility).</span></span> <span data-ttu-id="ba3ca-110">Для простоты краткое объяснение:</span><span class="sxs-lookup"><span data-stu-id="ba3ca-110">For the sake of simplicity, here's a quick explanation:</span></span>

1. <span data-ttu-id="ba3ca-111">Проверьте, есть ли на компьютере папка Документы *\[ \] \\ Power BI Desktop \\ настраиваемые соединители.*</span><span class="sxs-lookup"><span data-stu-id="ba3ca-111">Check to see if your computer already has a *\[Documents\]\\Power BI Desktop\\Custom Connectors* folder.</span></span> <span data-ttu-id="ba3ca-112">Если нет, создайте эту папку. <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="ba3ca-112">If not, create this folder.<sup>1</sup></span></span>

2. <span data-ttu-id="ba3ca-113">Скачайте файл соединитела *\* (MEZ-* или *\* PQX-файл)* и поместите его в каталог *Пользовательские* соединитетели.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-113">Download the connector file (either a *\*.mez* or *\*.pqx* file) and place it in the *Custom Connectors* directory.</span></span>

3. <span data-ttu-id="ba3ca-114">**Если файл соединитетеля является *\* MEZ-файлом,*** вам также потребуется настроить параметры безопасности, как описано в документации по настройке [пользовательского соединитела.](/power-bi/desktop-connector-extensibility#data-extension-security)</span><span class="sxs-lookup"><span data-stu-id="ba3ca-114">**If the connector file is a *\*.mez* file,** you will also need to adjust your security settings as described in the [custom connector setup documentation](/power-bi/desktop-connector-extensibility#data-extension-security).</span></span>

<span data-ttu-id="ba3ca-115">Если выпущена новая версия соединитела Microsoft Call Quality, замените старый файл соединитела в каталоге Настраиваемые *соединитетели* новым файлом.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-115">If a new version of the Microsoft Call Quality connector is released, replace the old connector file in the *Custom Connectors* directory with the new file.</span></span>

## <a name="setup"></a><span data-ttu-id="ba3ca-116">Установка</span><span class="sxs-lookup"><span data-stu-id="ba3ca-116">Setup</span></span>

<span data-ttu-id="ba3ca-117">Чтобы создать отчет и выполнить запросы, необходимо сначала подключиться к источнику данных CQD.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-117">In order to build a report and run queries, you will first need to connect to the CQD data source.</span></span> <span data-ttu-id="ba3ca-118">Чтобы подключиться, выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="ba3ca-118">Follow the steps below in order to connect:</span></span>

1. <span data-ttu-id="ba3ca-119">На вкладке Главная Power BI Desktop кнопку *Получить данные*.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-119">In the Home tab of Power BI Desktop, click on *Get Data*.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector1-resize.png)

2. <span data-ttu-id="ba3ca-121">На *этом этапе* должно появиться окно Получить данные.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-121">The *Get Data* window should appear at this point.</span></span> <span data-ttu-id="ba3ca-122">Перейдите *в веб-службы*, затем выберите *Microsoft Call Quality (бета-версия)* и *нажмите* Подключение .</span><span class="sxs-lookup"><span data-stu-id="ba3ca-122">Navigate to *Online Services*, then select *Microsoft Call Quality (Beta)* and hit *Connect*.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector2-resize.png)

3. <span data-ttu-id="ba3ca-124">Вам будет предложено войти далее.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-124">You will be prompted to sign in next.</span></span> <span data-ttu-id="ba3ca-125">Используйте те же учетные данные, что и для панели мониторинга качества звонка. <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="ba3ca-125">Use the same credentials that you use for Call Quality Dashboard.<sup>2</sup></span></span>

4. <span data-ttu-id="ba3ca-126">В следующем запросе будет предложено выбрать один из двух режимов подключения *к данным.*</span><span class="sxs-lookup"><span data-stu-id="ba3ca-126">The next prompt will give you the option between two *Data Connectivity modes*.</span></span> <span data-ttu-id="ba3ca-127">Выберите *DirectQuery и* нажмите *ОК*.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-127">Select *DirectQuery* and hit *OK*.</span></span>

5. <span data-ttu-id="ba3ca-128">Наконец, вам будет предложено в итоге от показана вся модель данных для панели мониторинга качества звонка.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-128">Finally, you will be given a final prompt showing you the entire data model for Call Quality Dashboard.</span></span> <span data-ttu-id="ba3ca-129">На этом этапе не будут видны никакие данные, только модель данных для CQD.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-129">No data will be visible at this point, only the data model for CQD.</span></span> <span data-ttu-id="ba3ca-130">Чтобы *завершить настройку,* выберите загрузить.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-130">Select *Load* to complete the setup process.</span></span>

6. <span data-ttu-id="ba3ca-131">На этом Power BI загрузит модель данных в правую часть окна.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-131">At this point, Power BI will load the data model onto the right side of the window.</span></span> <span data-ttu-id="ba3ca-132">В противном случае страница останется пустой, а запросы по умолчанию не загружаются.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-132">The page will remain otherwise blank, and no queries will be loaded by default.</span></span> <span data-ttu-id="ba3ca-133">Чтобы создать **запрос** и вернуть данные, перезапрос см. ниже в окте Создание запросов.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-133">Proceed to **Building Queries** below in order to build a query and return data.</span></span>

<span data-ttu-id="ba3ca-134">Если какие-либо из шагов в ходе настройки не были четкими, более подробное описание процесса можно найти в кратком кратком описании: Подключение к данным в [Power BI Desktop.](/power-bi/desktop-quickstart-connect-to-data)</span><span class="sxs-lookup"><span data-stu-id="ba3ca-134">If any of the steps during this setup process weren't clear, a more detailed explanation of the process can be found in [Quickstart: Connect to data in Power BI Desktop](/power-bi/desktop-quickstart-connect-to-data).</span></span>

## <a name="building-queries"></a><span data-ttu-id="ba3ca-135">Запросы на создание</span><span class="sxs-lookup"><span data-stu-id="ba3ca-135">Building Queries</span></span>

<span data-ttu-id="ba3ca-136">После завершения настройки вы увидите названия нескольких сотен измерений и мер, загруженных *в* области Поля.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-136">Once setup is complete, you should see the names of several hundred dimensions and measures load in the *Fields* pane.</span></span> <span data-ttu-id="ba3ca-137">Создавать фактические запросы на этом сайте очень просто: достаточно выбрать необходимые измерения и меры, а затем перетащить их на страницу.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-137">Constructing actual queries from here is simple, just select the dimensions and measures you want for your query, then drag and drop them onto the page.</span></span> <span data-ttu-id="ba3ca-138">Вот более подробное объяснение с простым примером:</span><span class="sxs-lookup"><span data-stu-id="ba3ca-138">Here's a more detailed explanation, with a simple example:</span></span>

1. <span data-ttu-id="ba3ca-139">В области Визуализации выберите визуализацию, которая вам *нужна.*</span><span class="sxs-lookup"><span data-stu-id="ba3ca-139">Select the visualization you want to use from the *Visualizations* pane.</span></span> <span data-ttu-id="ba3ca-140">На странице должна появиться пустая версия визуализации.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-140">A blank version of that visualization should appear on the page.</span></span> <span data-ttu-id="ba3ca-141">В этом примере мы будем использовать визуализацию *Таблица.*</span><span class="sxs-lookup"><span data-stu-id="ba3ca-141">For the purposes of this example, we will be using the *Table* visualization.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector3-resize.png)

2. <span data-ttu-id="ba3ca-143">Определите, какие измерения и меры (обозначаются символом агрегирования по имени), которые вы хотите использовать в запросе, а затем вручную выберите их и перетащите на черную визуализацию.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-143">Determine which dimensions and measures (denoted by an aggregation symbol by their name) you wish to use for your query, then manually select them and drag them onto the black visualization.</span></span> <span data-ttu-id="ba3ca-144">Кроме того, перетащите их в *поле Значения* под вариантами визуализации.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-144">Alternately, drag them onto the *Values* field beneath the visualization options.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector4-resize2.png)

    > [!IMPORTANT]
    > <span data-ttu-id="ba3ca-146">Для выполнения любого запроса необходима информационная панель качества звонка.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-146">Call Quality Dashboard requires a measure for any query to run.</span></span> <span data-ttu-id="ba3ca-147">Неудача добавления меры в запрос приведет к сбою запроса.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-147">Failure to add a measure to a query will cause that query to fail.</span></span>

3. <span data-ttu-id="ba3ca-148">Затем выберите нужные размеры и перетащите их  в область Фильтры этого визуального поля в области *Фильтры.*</span><span class="sxs-lookup"><span data-stu-id="ba3ca-148">Next, select any dimensions you want to filter on and drag them to the *Filters on this visual* field in the *Filters* pane.</span></span> <span data-ttu-id="ba3ca-149">Соединителя качества звонка (Майкрософт) в настоящее время поддерживает базовую фильтрацию *(выбор* значений из списка возможных значений измерений), расширенный фильтр (вручную укажите  значения и  операнды для фильтрации, как по аналогии с панелью мониторинга качества звонка) и относительную фильтрацию дат *(доступно* только для измерений Время окончания и Время начала). </span><span class="sxs-lookup"><span data-stu-id="ba3ca-149">The Microsoft Call Quality connector currently supports *Basic filtering* (select values from a list of possible dimension values), *Advanced filtering* (manually specify values and operands to filter on, similar to Call Quality Dashboard), and *Relative date filtering* (only available for the *End Time* and *Start Time* dimensions).</span></span> <span data-ttu-id="ba3ca-150">Фильтрация по N *верхнего* уровня не поддерживается панелью мониторинга качества звонка.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-150">Filtering according to *Top N* is not supported by Call Quality Dashboard.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector5-resize.png)

4. <span data-ttu-id="ba3ca-152">Наконец, на *вкладке Формат* в области *Визуализации выберите* стиль и формат запроса.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-152">Finally, select the *Format* tab within the *Visualizations* pane to style and format your query.</span></span>

    > [!NOTE]
    > <span data-ttu-id="ba3ca-153">Для запуска запросов на панель мониторинга качества звонка требуется по крайней мере один показатель.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-153">Call Quality Dashboard queries require at least one measure in order to run.</span></span> <span data-ttu-id="ba3ca-154">Если запрос не загружается, убедитесь, что в запрос включена мера.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-154">If your query does not load, double check that you have included a measure in the query.</span></span>

## <a name="creating-a-drillthrough-report"></a><span data-ttu-id="ba3ca-155">Создание отчета drillthrough</span><span class="sxs-lookup"><span data-stu-id="ba3ca-155">Creating a Drillthrough Report</span></span>

<span data-ttu-id="ba3ca-156">[Drillthrough в Power BI](/power-bi/desktop-drillthrough) позволяет создавать отфильтрованные отчеты, которые можно быстро фильтровать, используя значения других отчетов в качестве контекста.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-156">[Drillthrough in Power BI](/power-bi/desktop-drillthrough) allows you to create focused reports that you can quickly filter using the values of other reports as context.</span></span> <span data-ttu-id="ba3ca-157">После того как вы узнаете, как создать свой первый запрос с помощью соединитетеля качества звонка (Майкрософт), процесс drillthrough будет еще проще.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-157">Once you know how to create your first query with the Microsoft Call Quality connector, creating a drillthrough is even simpler.</span></span>

1. <span data-ttu-id="ba3ca-158">Создайте еще одну страницу отчета, а затем добавьте на нее запросы.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-158">Create another page for the focused report, and then add your queries to that page.</span></span>

2. <span data-ttu-id="ba3ca-159">Выберите измерение, используемое в качестве фильтра drillthrough, и перетащите его в поле *Drillthrough (Drillthrough)* в области *Visualizations* (Визуализации).</span><span class="sxs-lookup"><span data-stu-id="ba3ca-159">Select the dimension you want to use as a drillthrough filter and drag them onto the *Drillthrough* field under on the *Visualizations* pane.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector6-resize.png)

3. <span data-ttu-id="ba3ca-161">**Ну вот\!**</span><span class="sxs-lookup"><span data-stu-id="ba3ca-161">**That's it\!**</span></span> <span data-ttu-id="ba3ca-162">Теперь любой другой запрос на другой странице, использующей это измерение, теперь может пролиться на эту страницу, автоматически применив значение измерения drillthrough в качестве фильтра.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-162">Any other query on another page that uses that dimension can now drill through to that page, automatically applying the drillthrough dimension's value as a filter.</span></span>

    ![Снимок экрана: Power BI Connector](media/CQD-power-bi-connector7-resize.png)

<span data-ttu-id="ba3ca-164">В отличие от панели мониторинга качества Power BI поддерживает непо последовательное дрели.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-164">Unlike Call Quality Dashboard, Power BI supports non-sequential drillthrough.</span></span> <span data-ttu-id="ba3ca-165">Если запрос содержит необходимое измерение, он может перебираться на любую другую страницу.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-165">If a query includes the necessary dimension, it can drill through to any other page.</span></span>

### <a name="best-practice"></a><span data-ttu-id="ba3ca-166">Лучшие методики</span><span class="sxs-lookup"><span data-stu-id="ba3ca-166">Best practice</span></span>

<span data-ttu-id="ba3ca-167">Запросы на качество звонка (Майкрософт) должны быть разработаны с учетом функций drillthrough.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-167">Microsoft Call Quality connector queries should be designed with drillthrough functionality in mind.</span></span> <span data-ttu-id="ba3ca-168">Вместо того чтобы загружать сразу все данные, а затем нарезку фильтрами, начните с более общих запросов с низкой емкостью и отфильтруйте их до запросов с высокой емкостью.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-168">Instead of trying to load all the data at once, and then slicing down with filters, start with broader, low-cardinality queries and drill down to high-cardinality queries.</span></span> <span data-ttu-id="ba3ca-169">Например, при попытке диагностировать подсети, в которых чаще всего возникает проблема с качеством, необходимо сначала определить регионы и страны, в которых возникла проблема, а затем идентифицировать подсети в этом регионе или стране.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-169">For instance, when attempting to diagnose which subnets contribute most to quality issues, it's helpful to first identify those regions and countries that contribute to the problem, then drill down to the subnets in that region or country.</span></span> <span data-ttu-id="ba3ca-170">Шаблоны соединители "Качество звонка" разработаны таким образом, чтобы действовать в качестве примера.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-170">The Call Quality connector templates have been designed in this manner in order to act as an example.</span></span>

## <a name="limitations"></a><span data-ttu-id="ba3ca-171">Ограничения</span><span class="sxs-lookup"><span data-stu-id="ba3ca-171">Limitations</span></span>

<span data-ttu-id="ba3ca-172">Несмотря на использование Power BI, не все функции Power BI поддерживаются соединитетелем качества звонка (Майкрософт) либо из-за ограничений модели данных панели мониторинга качества звонка, либо для соединитеров DirectQuery в целом.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-172">Despite making use of Power BI, not all Power BI functionality is support by the Microsoft Call Quality connector, either as a result of limitations on Call Quality Dashboard's data model or on DirectQuery connectors in general.</span></span> <span data-ttu-id="ba3ca-173">В списке ниже приведены некоторые более интересные ограничения Соединитела, но этот список не следует считать исчерпывающим:</span><span class="sxs-lookup"><span data-stu-id="ba3ca-173">The list below notes some of the Connector's more noteworthy limitations, but this list should not be considered exhaustive:</span></span>

1. <span data-ttu-id="ba3ca-174">**Вычисляемая колонка —** Соединители DirectQuery в целом имеют ограниченную поддержку вычисляемых столбцов в Power BI.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-174">**Calculated Columns –** DirectQuery connectors in general have limited support for calculated columns in Power BI.</span></span> <span data-ttu-id="ba3ca-175">Некоторые вычисляемые столбцы могут работать с соединитетелем, так как они являются исключениями.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-175">Some calculated columns might work with the Connector, that those columns are exceptions.</span></span> <span data-ttu-id="ba3ca-176">Как правило, вычисляются столбцы не работают.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-176">As a general rule, calculated columns don't function.</span></span>

2. <span data-ttu-id="ba3ca-177">**Агрегаты —** Модель данных панели мониторинга качества звонка построена на модели куба, то есть агрегаты уже поддерживаются в виде мер.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-177">**Aggregations –** The Call Quality Dashboard data model is built on a cube model, meaning that aggregations are already supported in the form of measures.</span></span> <span data-ttu-id="ba3ca-178">Попытка вручную добавить агрегаты для разных измерений или изменить тип агрегирования меры не будет работать с соединитетелем, а в итоге может привести к ошибке.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-178">Attempting to manually add aggregations to different dimensions or changing the aggregation type of a measure will not work with the Connector, and it will generally result in an error.</span></span>

3. <span data-ttu-id="ba3ca-179">**Настраиваемые визуальные эффекты —** Хотя соединитектор качества звонка (Майкрософт) работает с разнообразными визуальными эффектами, мы не можем гарантировать совместимость со всеми визуальными эффектами.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-179">**Custom Visuals –** While the Microsoft Call Quality connector does work with a range of custom visuals, we are unable to guarantee compatibility with all custom visuals.</span></span> <span data-ttu-id="ba3ca-180">Многие настраиваемые визуальные эффекты зависят от использования вычисляемого столбца или импортируемых данных, ни одна из которых не поддерживается соединительами DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-180">Many custom visuals rely on the use of calculated columns or imported data, neither of which is supported by DirectQuery connectors.</span></span>

4. <span data-ttu-id="ba3ca-181">**Ссылки на** кэш Power BI данные в настоящее время не поддерживают ссылки на кэшные данные от соединитела DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-181">**Referencing Cached Data –** Power BI currently does not support referencing cached data from a DirectQuery connector in any way.</span></span> <span data-ttu-id="ba3ca-182">Любая попытка ссылки на результаты запроса приведет к новому запросу.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-182">Any attempt to reference the results of a query will result in a new query.</span></span>

5. <span data-ttu-id="ba3ca-183">**Относительная фильтрация данных —** Поддерживается соединитетелем Качества звонка (Майкрософт),  но только с измерениями Время начала и *Время* окончания.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-183">**Relative Data Filtering –** Is supported in the Microsoft Call Quality connector, but only with the *Start Time* and *End Time* dimensions.</span></span> <span data-ttu-id="ba3ca-184">Измерение *Date* может быть очевидным для относительной фильтрации дат, но *date* не сохраняется как объект даты и поэтому не поддерживает относительную фильтрацию дат в Power BI.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-184">Although the *Date* dimension may be the obvious choice for relative date filtering, *Date* is not stored as a date time object and thus does not support relative date filtering in Power BI.</span></span>

6. <span data-ttu-id="ba3ca-185">**Запросы только для измерений—** В настоящее время не поддерживаются соединитетелем качества звонка (Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="ba3ca-185">**Measurement Only Queries -** Are not supported at this time in the Microsoft Call Quality connector.</span></span> <span data-ttu-id="ba3ca-186">При создании визуализации с тремя или более измерениями без измерений данные столбца транспонются.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-186">When creating a visualization with three or more measurements and no dimensions, the column data will be transposed.</span></span> <span data-ttu-id="ba3ca-187">Чтобы избежать этого, всегда включите в визуализации хотя бы одно измерение (например, "Месяц год").</span><span class="sxs-lookup"><span data-stu-id="ba3ca-187">To avoid this, always include at least one dimension (eg: Month Year) in your visualizations.</span></span> <span data-ttu-id="ba3ca-188">Эта проблема будет решена в предстоящем выпуске соединительной соединительной связи "Качество звонка Майкрософт" для Power BI.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-188">This is slated to be resolved in an upcoming release of the Microsoft Call Quality connector for Power BI.</span></span>

7. <span data-ttu-id="ba3ca-189">**облако сообщества для государственных организаций (GCC) —** Для клиентов в среде GCC качество звонка (Майкрософт) будет работать только при использовании Power BI Desktop звонка.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-189">**Government Community Cloud (GCC) Support –** For customers in the GCC environment, the Microsoft Call Quality connector will work when using Power BI Desktop only.</span></span> <span data-ttu-id="ba3ca-190">Соединителю качества звонка (Майкрософт) в настоящее время не соответствует служба Power BI для GCC клиентов.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-190">The Microsoft Call Quality connector is not presently compatible with the Power BI service for GCC customers.</span></span>

<span data-ttu-id="ba3ca-191">Большинство из этих проблем являются ограничениями на разработку соединительные линии DirectQuery в Power BI или являются базовыми для модели данных CQD.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-191">Most of these issues are either restrictions to DirectQuery connector design in Power BI or fundamental to the design of the CQD data model.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="ba3ca-192">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="ba3ca-192">Troubleshooting</span></span>

### <a name="im-trying-to-use-the-date-column-as-a-date-slicer-as-soon-as-i-convert-the-data-type-of-this-column-to-date-i-get-this-error"></a><span data-ttu-id="ba3ca-193">Я пытаюсь использовать столбец Дата в качестве среза даты.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-193">I'm trying to use the Date column as a Date slicer.</span></span> <span data-ttu-id="ba3ca-194">Как только я преобразую тип данных этого столбца в "Дата", я получаю сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="ba3ca-194">As soon as I convert the data type of this column to Date, I get this error</span></span>

> <span data-ttu-id="ba3ca-195">**Не удалось загрузить** данные для этого визуального : ошибка OLE DB или ODBC: [Expression.Error] Не удалось сложить выражение с источником данных.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-195">**Couldn't load the data for this visual**: OLE DB or ODBC error: [Expression.Error] We couldn't fold the expression to the data source.</span></span> <span data-ttu-id="ba3ca-196">Попробуйте более простое выражение.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-196">Please try a simpler expression.</span></span>

<span data-ttu-id="ba3ca-197">Срезы дат не поддерживаются соединителом качества звонка (Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="ba3ca-197">Date slicers aren't supported with the Microsoft Call Quality connector.</span></span> <span data-ttu-id="ba3ca-198">Чтобы указать диапазон дат, применим к отчету два фильтра, указав меньший и большей даты.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-198">To specify a date range, apply two filters to the report, specifying a less than and greater than date.</span></span>

<span data-ttu-id="ba3ca-199">Кроме того, если даты, которые вы хотите просмотреть, являются последними, применим относительный фильтр дат, чтобы отфильтровать только данные за последние N дней,недель/месяцев.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-199">Alternatively, if the dates you want to view are recent, apply a relative date filter to show only data for the last N days/weeks/months.</span></span>

## <a name="error-codes"></a><span data-ttu-id="ba3ca-200">Коды ошибок</span><span class="sxs-lookup"><span data-stu-id="ba3ca-200">Error Codes</span></span>

<span data-ttu-id="ba3ca-201">Так как соединителю Качества звонка (Майкрософт) для Power BI меньше ограничений, чем в веб-приложении с точки зрения типов запросов, которые можно создать, иногда при создании запросов может возникнуть ряд ошибок.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-201">Because the Microsoft Call Quality connector for Power BI is less restricted than the browser app in terms of kinds of queries you can construct, you may occasionally encounter a number of errors while building your queries.</span></span> <span data-ttu-id="ba3ca-202">Если вы получили сообщение об ошибке типа "CQDError.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-202">In the event that you receive an error message of the type "CQDError.</span></span> <span data-ttu-id="ba3ca-203">RunQuery — ошибка выполнения запроса", в приведенной ниже ссылке на номер ErrorType, предоставленный для устранения возможной проблемы с запросом.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-203">RunQuery – Query Execution Error", reference the list below with the ErrorType number provided in order to troubleshoot the possible issue with the query.</span></span> <span data-ttu-id="ba3ca-204">Ниже ются наиболее распространенные коды типов ошибок, которые могут возникнуть с соединитетелем CQD Power BI:</span><span class="sxs-lookup"><span data-stu-id="ba3ca-204">The following are the most common Error Type codes you may encounter with the CQD Power BI Connector:</span></span>

- <span data-ttu-id="ba3ca-205">**Ошибка Тип ошибки 1. Ошибка структуры запроса:** Ошибка структуры запроса обычно вызвана тем, что соединителю не удается построить правильно отформатированный запрос.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-205">**ErrorType 1 - Query Structure Error:** A query structure error is typically caused by the Connector failing to build a properly formatted query.</span></span> <span data-ttu-id="ba3ca-206">Чаще всего это происходит при использовании неподсвеченных функций, как указано в указанных выше ограничениях.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-206">This happens most often when using unsupported functionality, as specified in the Limitations above.</span></span> <span data-ttu-id="ba3ca-207">Убедитесь, что в запросе не используется вычисляемый столбец или визуальный эффект.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-207">Double check that you are not using any calculated columns or custom visuals for that query.</span></span>

  - <span data-ttu-id="ba3ca-208">**ErrorType 2. Ошибка при создании запроса:** Ошибка при построении запроса вызвана тем, что соединитектор качества звонка (Майкрософт) не может правильно оценить запрос, который вы создаете.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-208">**ErrorType 2 - Query Building Error:** A query building error is caused by the Microsoft Call Quality connector being unable to properly parse the query you are attempting to build.</span></span> <span data-ttu-id="ba3ca-209">Чаще всего это происходит при использовании неподсвеченных функций, как указано в указанных выше ограничениях.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-209">This happens most often when using unsupported functionality, as specified in the Limitations above.</span></span> <span data-ttu-id="ba3ca-210">Убедитесь, что в запросе не используется вычисляемый столбец или визуальный эффект.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-210">Double check that you are not using any calculated columns or custom visuals for that query.</span></span>

  - <span data-ttu-id="ba3ca-211">**Тип ошибки 5. Время выполнения:** Время выполнения запроса достигло максимально возможного времени выполнения, прежде чем он отсроет. Попробуйте добавить другие фильтры в запрос, чтобы ограничить область его действия.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-211">**ErrorType 5 - Execution Timeout:** The query has reached the maximum possible runtime before timing out. Try adding more filters to the query in order to limit its scope.</span></span> <span data-ttu-id="ba3ca-212">Сужение диапазона данных часто является наиболее эффективным способом достижения этой цели.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-212">Narrowing the data range is often the most effective way to achieve this.</span></span>

  - <span data-ttu-id="ba3ca-213">**Тип ошибки 7. Ошибка "Нет измерений":** Запросы панели мониторинга качества звонка требуют меры для работы.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-213">**ErrorType 7 - No Measurements Error:** Call Quality Dashboard queries require a measure in order to function.</span></span> <span data-ttu-id="ba3ca-214">Убедитесь, что запрос содержит меру.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-214">Double check that your query includes measure.</span></span> <span data-ttu-id="ba3ca-215">Меры в соединиторе качества звонка (Майкрософт) обозначаются символом агрегирования (sum) перед их именем.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-215">Measures in the Microsoft Call Quality connector are denoted by the aggregation (sum) symbol before their name.</span></span>

<span data-ttu-id="ba3ca-216">Если вы столкнулись с дополнительными ошибками вне этой области, сообщите об этом группе панели мониторинга качества звонка, чтобы мы могли устранить проблему и при необходимости обновить документацию.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-216">If you encounter any additional errors outside of this scope, please notify the Call Quality Dashboard team so that we can help troubleshoot the issue and update the documentation as appropriate.</span></span>

## <a name="footnotes"></a><span data-ttu-id="ba3ca-217">Сноски</span><span class="sxs-lookup"><span data-stu-id="ba3ca-217">Footnotes</span></span>

<span data-ttu-id="ba3ca-218">**<sup>1</sup>** Некоторые процессы и приложения (например, OneDrive) могут привести к изменению корневой папки Документы. убедитесь, *что Power BI Desktop \\ настраиваемые* соединитетели находится в текущей корневой папке Документы.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-218">**<sup>1</sup>** Certain processes and apps (e.g., OneDrive) may cause your Documents root folder to change; make sure that the *Power BI Desktop\\Custom Connectors* directory is placed inside of the current root folder Documents folder.</span></span>

<span data-ttu-id="ba3ca-219">**<sup>2</sup>** Учетные данные для входа,  которые вы используете для панели мониторинга качества звонка, не должны быть одинаковыми учетными данными, которые вы используете для входа Power BI Desktop приложения.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-219">**<sup>2</sup>** The login credentials you use for Call Quality Dashboard *do not* need to be the same credentials you use for logging into the Power BI Desktop app itself.</span></span>

## <a name="frequently-asked-questions"></a><span data-ttu-id="ba3ca-220">Вопросы и ответы</span><span class="sxs-lookup"><span data-stu-id="ba3ca-220">Frequently asked questions</span></span>

### <a name="when-will-the-power-bi-connector-be-updated-from-beta-status"></a><span data-ttu-id="ba3ca-221">Когда соедините Power BI будет обновлен с состоянием "Бета"?</span><span class="sxs-lookup"><span data-stu-id="ba3ca-221">When will the Power BI Connector be updated from "Beta" status?</span></span>

<span data-ttu-id="ba3ca-222">Несмотря на тег Beta (Бета-версия), microsoft Call Quality (Beta) connector for Power BI — это первая версия "выпуска" соединителю, которая была официально подписана командой Power BI, чтобы отразить это.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-222">Despite the Beta tag, the Microsoft Call Quality (Beta) connector for Power BI is the first 'release' version of the connector and has been officially security signed by the Power BI team to reflect this.</span></span> <span data-ttu-id="ba3ca-223">На момент первоначального выпуска соединитела группа Power BI не могла предоставить поддержку и более широкую сертификацию, но была готова проверить безопасность, подлинность и общий уровень функциональности соединитера качества звонка (Майкрософт).</span><span class="sxs-lookup"><span data-stu-id="ba3ca-223">At the time of the connector's initial release, the Power BI team was unable to provide support and broader certification, but was still prepared to attest to the security, authenticity, and general functionality of the Microsoft Call Quality connector.</span></span> <span data-ttu-id="ba3ca-224">В ближайшее время мы планируем вложить средства в Power BI качество звонка Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-224">Looking ahead, we are planning to invest in the Microsoft Call Quality connector for Power BI in the near future.</span></span>

### <a name="why-does-the-connector-seem-slower-compared-to-call-quality-dashboard-in-the-browser-what-can-i-do-to-improve-performance"></a><span data-ttu-id="ba3ca-225">Почему соединитектор выглядит медленнее по сравнению с панелью мониторинга качества звонка в браузере?</span><span class="sxs-lookup"><span data-stu-id="ba3ca-225">Why does the connector seem slower compared to Call Quality Dashboard in the browser?</span></span> <span data-ttu-id="ba3ca-226">Что можно сделать для повышения производительности?</span><span class="sxs-lookup"><span data-stu-id="ba3ca-226">What can I do to improve performance?</span></span>

<span data-ttu-id="ba3ca-227">Производительность запросов для различных шаблонов на самом деле одинаковы как в браузере, так и в соединители.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-227">Query performance for the various templates is actually the same in both the browser and in the connector.</span></span>  <span data-ttu-id="ba3ca-228">Как и любое другое приложение, Power BI добавляет к производительности проверку подлинности и время отрисовки.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-228">Just like any other standalone app, Power BI adds its authentication and rendering time to our performance.</span></span> <span data-ttu-id="ba3ca-229">Кроме того, разница заключается в количестве одновременно запускаемого запроса.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-229">In addition, the difference comes in the number of concurrent queries being run.</span></span> <span data-ttu-id="ba3ca-230">Так как в версии панели мониторинга качества звонка в браузере были менее хорошо разработанные параметры визуализации и наглядной визуализации, большинство наших отчетов оказались доступны только для загрузки 2–3 запросов за раз.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-230">Because the in-browser version of Call Quality Dashboard had less well-developed and information-dense visualization options, most of our reports were limited to loading 2-3 queries at a time.</span></span> <span data-ttu-id="ba3ca-231">С другой стороны, в шаблонах соединителок часто отображается более 20 одновременно запросов.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-231">On the other hand, the connector templates often display 20+ concurrent queries.</span></span> <span data-ttu-id="ba3ca-232">Если вы хотите создавать отчеты, которые так же адаптивны, как и старые, попробуйте создать отчеты не более чем с 2–3 запросами на вкладку.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-232">If you wish to build reports that are just as responsive as the older ones you were used to, try creating reports with no more than 2-3 queries per tab.</span></span>

<span data-ttu-id="ba3ca-233">Дополнительные сведения см. в следующих статьях:</span><span class="sxs-lookup"><span data-stu-id="ba3ca-233">For more information, see the following articles:</span></span>

- [<span data-ttu-id="ba3ca-234">Руководство по оптимизации для Power BI</span><span class="sxs-lookup"><span data-stu-id="ba3ca-234">Optimization guide for Power BI</span></span>](/power-bi/guidance/power-bi-optimization)
- [<span data-ttu-id="ba3ca-235">Руководство по модели DirectQuery</span><span class="sxs-lookup"><span data-stu-id="ba3ca-235">DirectQuery model guidance</span></span>](/power-bi/guidance/directquery-model-guidance)

### <a name="i-find-that-i-routinely-run-into-the-10000-row-limit-when-running-queries-how-can-i-get-the-connector-to-return-more-than-10000-rows"></a><span data-ttu-id="ba3ca-236">Я постоянно нажимаю на ограничение в 10 000 строк при запуске запросов.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-236">I find that I routinely run into the 10,000-row limit when running queries.</span></span> <span data-ttu-id="ba3ca-237">Как получить соединителя более 10 000 строк?</span><span class="sxs-lookup"><span data-stu-id="ba3ca-237">How can I get the connector to return more than 10,000 rows?</span></span>

<span data-ttu-id="ba3ca-238">Ограничение в 10 000 строк фактически указывается в конце API и предназначено для существенного повышения производительности и снижения риска ошибок выполнения запросов, связанных с низким уровнем памяти.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-238">The 10,000-row limit is actually specified on the API end, and it is designed to help significantly improve performance and reduce the risk of query execution errors resulting from low memory conditions.</span></span>

<span data-ttu-id="ba3ca-239">Вместо того чтобы увеличивать количество строк результатов, лучше изменить структуру отчетов в соответствии с лучшими методиками соединителя.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-239">Instead of attempting to increase the result row count, it is best to restructure your reports according to connector best practices.</span></span> <span data-ttu-id="ba3ca-240">Шаблоны, которые мы включили, предназначены для демонстрации этих лучших методик.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-240">The templates we have included are designed to demonstrate these best practices.</span></span> <span data-ttu-id="ba3ca-241">По возможности начните с общих градиторий с более низкими масштабами, такими как "Месяц", "Год", "Дата", "Регион", "Страна" и т. д. После этого вы сможете отсверлить все более емкие размеры.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-241">Where possible, start by looking at your KPIs using broader, lower-cardinality dimensions, such as Month, Year, Date, Region, Country, etc. From there, you can drill down into increasingly higher-cardinality dimensions.</span></span> <span data-ttu-id="ba3ca-242">Хорошим примером этого процесса является Location-Enhanced отчеты helpdesk и Location-Enhanced.</span><span class="sxs-lookup"><span data-stu-id="ba3ca-242">The Helpdesk and Location-Enhanced Reports both provide good examples of this drill down workflow.</span></span>



## <a name="related-topics"></a><span data-ttu-id="ba3ca-243">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="ba3ca-243">Related topics</span></span>

[<span data-ttu-id="ba3ca-244">Используйте Power BI для анализа данных CQD для Teams</span><span class="sxs-lookup"><span data-stu-id="ba3ca-244">Use Power BI to analyze CQD data for Teams</span></span>](CQD-Power-BI-query-templates.md)
