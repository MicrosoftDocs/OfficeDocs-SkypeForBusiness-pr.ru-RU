---
title: Установка соединителя Power BI для использования шаблонов запросов CQD
ms.author: lolaj
author: LolaJacobsen
manager: serdars
ms.reviewer: siunies
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
ms.collection:
- M365-voice
search.appverid: MET150
audience: Admin
appliesto:
- Microsoft Teams
localization_priority: Normal
description: Установка соединителя Power BI для использования шаблонов запросов CQD
ms.openlocfilehash: ad76c2f4378a1f639abf98d115e4700fae7796c5
ms.sourcegitcommit: 2d44f1a673316daf0aca3149571b24a63ca72772
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/11/2020
ms.locfileid: "43227553"
---
# <a name="install-power-bi-connector-to-use-cqd-query-templates"></a><span data-ttu-id="10ad7-103">Установка соединителя Power BI для использования шаблонов запросов CQD</span><span class="sxs-lookup"><span data-stu-id="10ad7-103">Install Power BI Connector to use CQD query templates</span></span>

<span data-ttu-id="10ad7-104">Перед использованием шаблонов запросов Power BI для CQD (PBIX-файлов) необходимо установить соединитель Power BI для Microsoft CQD с помощью файла *MicrosoftCallQuality. PQx* , включенного в файл для [скачивания](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/CQD-Power-BI-query-templates.zip?raw=true).</span><span class="sxs-lookup"><span data-stu-id="10ad7-104">Before you can use the Power BI query templates for CQD (PBIX files), you'll need to install the Power BI Connector for Microsoft CQD, using the *MicrosoftCallQuality.pqx* file included in the [download](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/CQD-Power-BI-query-templates.zip?raw=true).</span></span> 

<span data-ttu-id="10ad7-105">Читайте в статье [Power BI, чтобы проанализировать CQD данные для Teams](CQD-Power-BI-query-templates.md) , чтобы узнать об этих шаблонах.</span><span class="sxs-lookup"><span data-stu-id="10ad7-105">Read [Use Power BI to analyze CQD data for Teams](CQD-Power-BI-query-templates.md) to learn about these templates.</span></span>


## <a name="installation"></a><span data-ttu-id="10ad7-106">Установка</span><span class="sxs-lookup"><span data-stu-id="10ad7-106">Installation</span></span>

<span data-ttu-id="10ad7-107">Процесс установки настраиваемого соединителя и настройки безопасности для включения использования соединителя подробно описан в [документации по Power BI](https://docs.microsoft.com/power-bi/desktop-connector-extensibility).</span><span class="sxs-lookup"><span data-stu-id="10ad7-107">The process for installing a custom connector and adjusting security to enable use of the connector is described in detail in the [Power BI documentation](https://docs.microsoft.com/power-bi/desktop-connector-extensibility).</span></span> <span data-ttu-id="10ad7-108">Вот краткое описание простоты:</span><span class="sxs-lookup"><span data-stu-id="10ad7-108">For the sake of simplicity, here's a quick explanation:</span></span>

1.  <span data-ttu-id="10ad7-109">Убедитесь, что на вашем компьютере уже есть папка \* \["\]\\документы" настраиваемых соединителей\\* Power BI для настольных систем.</span><span class="sxs-lookup"><span data-stu-id="10ad7-109">Check to see if your computer already has a *\[Documents\]\\Power BI Desktop\\Custom Connectors* folder.</span></span> <span data-ttu-id="10ad7-110">В противном случае создайте эту папку. <sup>1</sup></span><span class="sxs-lookup"><span data-stu-id="10ad7-110">If not, create this folder.<sup>1</sup></span></span>

2.  <span data-ttu-id="10ad7-111">Скачайте файл соединителя (файл с \* \*расширением MEZ\* или \* \*PQx\* ) и поместите его в каталог *Custom Connectors* .</span><span class="sxs-lookup"><span data-stu-id="10ad7-111">Download the connector file (either a *\*.mez* or *\*.pqx* file) and place it in the *Custom Connectors* directory.</span></span>

3.  <span data-ttu-id="10ad7-112">**Если файл соединителя является файлом \* \*. MEZ* ,*\* вам также потребуется настроить параметры безопасности, как описано в [документации по настройке настраиваемого соединителя](https://docs.microsoft.com/power-bi/desktop-connector-extensibility#data-extension-security).</span><span class="sxs-lookup"><span data-stu-id="10ad7-112">**If the connector file is a *\*.mez* file,** you will also need to adjust your security settings as described in the [custom connector setup documentation](https://docs.microsoft.com/power-bi/desktop-connector-extensibility#data-extension-security).</span></span>

<span data-ttu-id="10ad7-113">Если вы выпускает новую версию этого соединителя Power BI для Microsoft Teams, просто замените старый файл соединителя в каталоге *Custom Connectors* новым файлом.</span><span class="sxs-lookup"><span data-stu-id="10ad7-113">If a new version of this Power BI Connector for Microsoft Teams is released, simply replace the old connector file in the *Custom Connectors* directory with the new file.</span></span>

## <a name="setup"></a><span data-ttu-id="10ad7-114">Установка</span><span class="sxs-lookup"><span data-stu-id="10ad7-114">Setup</span></span>

<span data-ttu-id="10ad7-115">Для создания отчета и выполнения запросов сначала необходимо подключиться к источнику данных CQD.</span><span class="sxs-lookup"><span data-stu-id="10ad7-115">In order to build a report and run queries, you will first need to connect to the CQD data source.</span></span> <span data-ttu-id="10ad7-116">Выполните указанные ниже действия, чтобы выполнить подключение.</span><span class="sxs-lookup"><span data-stu-id="10ad7-116">Follow the steps below in order to connect:</span></span>

1.  <span data-ttu-id="10ad7-117">На вкладке Главная на рабочем столе Power BI нажмите кнопку *получить данные*.</span><span class="sxs-lookup"><span data-stu-id="10ad7-117">In the Home tab of Power BI Desktop, click on *Get Data*.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector1.png)

2.  <span data-ttu-id="10ad7-119">На этом этапе появится окно " *Получение данных* ".</span><span class="sxs-lookup"><span data-stu-id="10ad7-119">The *Get Data* window should appear at this point.</span></span> <span data-ttu-id="10ad7-120">Перейдите к *веб-службам*, а затем выберите *качество связи Майкрософт (Beta)* и нажмите кнопку *Подключиться*.</span><span class="sxs-lookup"><span data-stu-id="10ad7-120">Navigate to *Online Services*, then select *Microsoft Call Quality (Beta)* and hit *Connect*.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector2.png)

3.  <span data-ttu-id="10ad7-122">Вам будет предложено войти далее.</span><span class="sxs-lookup"><span data-stu-id="10ad7-122">You will be prompted to login next.</span></span> <span data-ttu-id="10ad7-123">Используйте те же учетные данные, которые вы используете для CQD. <sup>2</sup></span><span class="sxs-lookup"><span data-stu-id="10ad7-123">Use the same credentials that you use for CQD.<sup>2</sup></span></span>

4.  <span data-ttu-id="10ad7-124">В следующем запросе вы сможете выбрать два *режима подключения к данным*.</span><span class="sxs-lookup"><span data-stu-id="10ad7-124">The next prompt will give you the option between two *Data Connectivity modes*.</span></span> <span data-ttu-id="10ad7-125">Выберите *DirectQuery* и нажмите *ОК*.</span><span class="sxs-lookup"><span data-stu-id="10ad7-125">Select *DirectQuery* and hit *OK*.</span></span>

5.  <span data-ttu-id="10ad7-126">Наконец, вам будет предложено выполнить Последнее предложение, показывающее всю модель данных для CQD.</span><span class="sxs-lookup"><span data-stu-id="10ad7-126">Finally, you will be given a final prompt showing you the entire data model for CQD.</span></span> <span data-ttu-id="10ad7-127">На этом этапе данные не будут видны, а только модель данных для CQD.</span><span class="sxs-lookup"><span data-stu-id="10ad7-127">No data will be visible at this point, only the data model for CQD.</span></span> <span data-ttu-id="10ad7-128">Нажмите кнопку *загрузить* , чтобы завершить процесс настройки.</span><span class="sxs-lookup"><span data-stu-id="10ad7-128">Select *Load* to complete the setup process.</span></span>

6.  <span data-ttu-id="10ad7-129">На этом этапе Power BI загрузит модель данных в правой части окна.</span><span class="sxs-lookup"><span data-stu-id="10ad7-129">At this point, Power BI will load the data model onto the right side of the window.</span></span> <span data-ttu-id="10ad7-130">Страница останется пустой, и никакие запросы не будут загружаться по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="10ad7-130">The page will remain otherwise blank, and no queries will be loaded by default.</span></span> <span data-ttu-id="10ad7-131">Чтобы создать запрос и вернуть данные, перейдите к **созданию запросов** ниже.</span><span class="sxs-lookup"><span data-stu-id="10ad7-131">Proceed to **Building Queries** below in order to build a query and return data.</span></span>

<span data-ttu-id="10ad7-132">Если какие-либо из действий, описанных в этом процессе настройки, не были полностью очищены, вы [можете найти более](https://docs.microsoft.com/power-bi/desktop-quickstart-connect-to-data)подробное описание процесса.</span><span class="sxs-lookup"><span data-stu-id="10ad7-132">If any of the steps during this setup process were not completely clear, a more detailed explanation of the process can be found [here](https://docs.microsoft.com/power-bi/desktop-quickstart-connect-to-data).</span></span>

## <a name="building-queries"></a><span data-ttu-id="10ad7-133">Создание запросов</span><span class="sxs-lookup"><span data-stu-id="10ad7-133">Building Queries</span></span>

<span data-ttu-id="10ad7-134">После завершения установки на панели *поля* должны отобразиться названия нескольких сотен измерений и показателей нагрузки.</span><span class="sxs-lookup"><span data-stu-id="10ad7-134">Once setup is complete, you should see the names of several hundred dimensions and measures load in the *Fields* pane.</span></span> <span data-ttu-id="10ad7-135">Создание реальных запросов с помощью этой функции очень просто: выберите нужные размеры и меры для запроса, а затем перетащите их на страницу.</span><span class="sxs-lookup"><span data-stu-id="10ad7-135">Constructing actual queries from here is simple, just select the dimensions and measures you want for your query, then drag and drop them onto the page.</span></span> <span data-ttu-id="10ad7-136">Ниже приведено более подробное описание, а вот простой пример.</span><span class="sxs-lookup"><span data-stu-id="10ad7-136">Here's a more detailed explanation, with a simple example:</span></span>

1.  <span data-ttu-id="10ad7-137">Выберите визуализацию, которую вы хотите использовать, в области *зрительных образов* .</span><span class="sxs-lookup"><span data-stu-id="10ad7-137">Select the visualization you want to use from the *Visualizations* pane.</span></span> <span data-ttu-id="10ad7-138">На странице должна появиться пустая версия этого зрительного образа.</span><span class="sxs-lookup"><span data-stu-id="10ad7-138">A blank version of that visualization should appear on the page.</span></span> <span data-ttu-id="10ad7-139">Для целей этого примера мы будем использовать визуализацию *таблицы* .</span><span class="sxs-lookup"><span data-stu-id="10ad7-139">For the purposes of this example, we will be using the *Table* visualization.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector3.png)

2.  <span data-ttu-id="10ad7-141">Определите, какие измерения и меры (обозначенные символом агрегирования по имени), которые вы хотите использовать для запроса, выбери их вручную и перетащите их на черную визуализацию.</span><span class="sxs-lookup"><span data-stu-id="10ad7-141">Determine which dimensions and measures (denoted by an aggregation symbol by their name) you wish to use for your query, then manually select them and drag them onto the black visualization.</span></span> <span data-ttu-id="10ad7-142">Кроме того, перетащите их в поле *значения* под параметрами зрительных образов.</span><span class="sxs-lookup"><span data-stu-id="10ad7-142">Alternately, drag them onto the *Values* field beneath the visualization options.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector4.png)

    > [!IMPORTANT] 
    > <span data-ttu-id="10ad7-144">Для выполнения запроса на панели мониторинга качества звонков требуется мера.</span><span class="sxs-lookup"><span data-stu-id="10ad7-144">Call Quality Dashboard requires a measure for any query to run.</span></span> <span data-ttu-id="10ad7-145">Ошибка при добавлении меры в запрос приведет к сбою запроса.</span><span class="sxs-lookup"><span data-stu-id="10ad7-145">Failure to add a measure to a query will cause that query to fail.</span></span>

3.  <span data-ttu-id="10ad7-146">Затем выберите измерения, по которым вы хотите отфильтровать, и перетащите их в *фильтры для этого визуального* поля в области *фильтров* .</span><span class="sxs-lookup"><span data-stu-id="10ad7-146">Next, select any dimensions you want to filter on and drag them to the *Filters on this visual* field in the *Filters* pane.</span></span> <span data-ttu-id="10ad7-147">Соединитель Power BI CQD в настоящее время *поддерживает базовую фильтрацию* (выбирайте значения из списка возможных значений измерения), *расширенную фильтрацию* (вручную указывайте значения и операнды для фильтрации, как в расширенном CQD) и *относительную фильтрацию по дате* (только для измерений *время окончания* и *начала* ).</span><span class="sxs-lookup"><span data-stu-id="10ad7-147">The CQD Power BI Connector currently supports *Basic filtering* (select values from a list of possible dimension values), *Advanced filtering* (manually specify values and operands to filter on, similar to Advanced CQD), and *Relative date filtering* (only available for the *End Time* and *Start Time* dimensions).</span></span> <span data-ttu-id="10ad7-148">Фильтрация в соответствии с *Top N* не поддерживается CQD.</span><span class="sxs-lookup"><span data-stu-id="10ad7-148">Filtering according to *Top N* is not supported by CQD.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector5.png)

4.  <span data-ttu-id="10ad7-150">Наконец, выберите вкладку *Формат* в области *зрительные образы* для стиля и форматирования запроса.</span><span class="sxs-lookup"><span data-stu-id="10ad7-150">Finally, select the *Format* tab within the *Visualizations* pane to style and format your query.</span></span>

    > [!NOTE]
    > <span data-ttu-id="10ad7-151">Для выполнения запросов CQD требуется хотя бы одна мера.</span><span class="sxs-lookup"><span data-stu-id="10ad7-151">CQD queries require at least one measure in order to run.</span></span> <span data-ttu-id="10ad7-152">Если запрос не загружается, дважды убедитесь, что вы включили в запрос меру.</span><span class="sxs-lookup"><span data-stu-id="10ad7-152">If your query does not load, double check that you have included a measure in the query.</span></span>

## <a name="creating-a-drillthrough-report"></a><span data-ttu-id="10ad7-153">Создание детализированного отчета</span><span class="sxs-lookup"><span data-stu-id="10ad7-153">Creating a Drillthrough Report</span></span>

<span data-ttu-id="10ad7-154">[Детализация в Power BI](https://docs.microsoft.com/power-bi/desktop-drillthrough) позволяет создавать отсортированные отчеты, которые можно быстро отфильтровать с использованием значений других отчетов в качестве контекста.</span><span class="sxs-lookup"><span data-stu-id="10ad7-154">[Drillthrough in Power BI](https://docs.microsoft.com/power-bi/desktop-drillthrough) allows you to create focused reports that you can quickly filter using the values of other reports as context.</span></span> <span data-ttu-id="10ad7-155">После того как вы знаете, как создать первый запрос с помощью соединителя CQD, создание детализации стало еще проще.</span><span class="sxs-lookup"><span data-stu-id="10ad7-155">Once you know how to create your first query with the CQD Connector, creating a drillthrough is even simpler.</span></span>

1.  <span data-ttu-id="10ad7-156">Создайте другую страницу для отчета с фокусом, а затем добавьте на эту страницу запросы.</span><span class="sxs-lookup"><span data-stu-id="10ad7-156">Create another page for the focused report, and then add your queries to that page.</span></span>

2.  <span data-ttu-id="10ad7-157">Выберите измерение, которое вы хотите использовать в качестве фильтра детализации, и перетащите его в поле *Детализация* в области *зрительные образы* .</span><span class="sxs-lookup"><span data-stu-id="10ad7-157">Select the dimension you want to use as a drillthrough filter and drag them onto the *Drillthrough* field under on the *Visualizations* pane.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector6.png)

3.  <span data-ttu-id="10ad7-159">**Ну вот\!**</span><span class="sxs-lookup"><span data-stu-id="10ad7-159">**That's it\!**</span></span> <span data-ttu-id="10ad7-160">Любой другой запрос на другой странице, использующий это измерение, теперь может иметь детализацию на эту страницу, автоматически применяя значение измерения детализации в качестве фильтра.</span><span class="sxs-lookup"><span data-stu-id="10ad7-160">Any other query on another page that uses that dimension can now drillthrough to that page, automatically applying the drillthrough dimension's value as a filter.</span></span>

    ![Снимок экрана: соединитель Power BI](media/CQD-power-bi-connector7.png)

<span data-ttu-id="10ad7-162">В отличие от Advanced CQD, Power BI поддерживает непоследовательную детализацию.</span><span class="sxs-lookup"><span data-stu-id="10ad7-162">Unlike Advanced CQD, Power BI supports non-sequential drillthrough.</span></span> <span data-ttu-id="10ad7-163">Пока запрос содержит необходимое измерение, оно может быть детализировано до любой другой страницы.</span><span class="sxs-lookup"><span data-stu-id="10ad7-163">So long as a query includes the necessary dimension, it can drillthrough to any other page.</span></span>

### <a name="best-practice"></a><span data-ttu-id="10ad7-164">Практические рекомендации</span><span class="sxs-lookup"><span data-stu-id="10ad7-164">Best practice</span></span>

<span data-ttu-id="10ad7-165">Запросы на соединитель качества звонков должны быть спроектированы с учетом функциональных возможностей детализации.</span><span class="sxs-lookup"><span data-stu-id="10ad7-165">Call Quality connector queries should be designed with drillthrough functionality in mind.</span></span> <span data-ttu-id="10ad7-166">Вместо того, чтобы загружать сразу все данные, а затем разбить их на части с помощью фильтров, начните с запросов с большим количеством элементов, а также детализировать запросы с большим количеством запросов.</span><span class="sxs-lookup"><span data-stu-id="10ad7-166">Instead of trying to load all the data at once, and then slicing down with filters, start with broader, low-cardinality queries and drill down to high-cardinality queries.</span></span> <span data-ttu-id="10ad7-167">Например, при попытке выявить подсети, которые применяют наиболее высокое качество, полезно сначала определить регионы и страны, которые применяют проблему, а затем перейти к подсетям в этой стране или регионе.</span><span class="sxs-lookup"><span data-stu-id="10ad7-167">For instance, when attempting to diagnose which subnets contribute most to quality issues, it's helpful to first identify those regions and countries which contribute to the problem, then drill down to the subnets in that region or country.</span></span> <span data-ttu-id="10ad7-168">Шаблон соединителя качества звонков разработан таким образом, чтобы действовать как пример.</span><span class="sxs-lookup"><span data-stu-id="10ad7-168">The Call Quality connector templates have been designed in this manner in order to act as an example.</span></span>

## <a name="limitations"></a><span data-ttu-id="10ad7-169">Предел</span><span class="sxs-lookup"><span data-stu-id="10ad7-169">Limitations</span></span>

<span data-ttu-id="10ad7-170">Несмотря на использование Power BI, не все функции Power BI поддерживаются соединителем CQD в результате ограничений на модель данных CQD или соединители DirectQuery в целом.</span><span class="sxs-lookup"><span data-stu-id="10ad7-170">Despite making use of Power BI, not all Power BI functionality is support by the CQD Connector, either as a result of limitations on CQD data model or on DirectQuery connectors in general.</span></span> <span data-ttu-id="10ad7-171">В списке ниже описаны некоторые более заметные ограничения для соединителя, но этот список не должен считаться исчерпывающим:</span><span class="sxs-lookup"><span data-stu-id="10ad7-171">The list below notes some of the Connector's more noteworthy limitations, but this list should not be considered exhaustive:</span></span>

1.  <span data-ttu-id="10ad7-172">**Вычисляемые столбцы —** Соединители DirectQuery в общем имеют ограниченную поддержку для вычисляемых столбцов в Power BI.</span><span class="sxs-lookup"><span data-stu-id="10ad7-172">**Calculated Columns –** DirectQuery connectors in general have limited support for calculated columns in Power BI.</span></span> <span data-ttu-id="10ad7-173">Хотя некоторые вычисляемые столбцы могут работать с соединительной линией, они должны считаться исключениями.</span><span class="sxs-lookup"><span data-stu-id="10ad7-173">While some calculated columns may work with the Connector, these should be considered exceptions.</span></span> <span data-ttu-id="10ad7-174">В качестве общего правила вычисляемые столбцы не будут работать.</span><span class="sxs-lookup"><span data-stu-id="10ad7-174">As a general rule, calculated columns will not function.</span></span>

2.  <span data-ttu-id="10ad7-175">**Агрегаты —** Модель данных CQD строится на основе модели Куба, то есть агрегаты уже поддерживаются в форме мер.</span><span class="sxs-lookup"><span data-stu-id="10ad7-175">**Aggregations –** The CQD data model is built on a cube model, meaning that aggregations are already supported in the form of measures.</span></span> <span data-ttu-id="10ad7-176">При попытке вручную добавить агрегаты в различные измерения или изменить тип статистической обработки для меры не будет работать с соединительной линией, а обычно это приведет к ошибке.</span><span class="sxs-lookup"><span data-stu-id="10ad7-176">Attempting to manually add aggregations to different dimensions or changing the aggregation type of a measure will not work with the Connector, and it will generally result in an error.</span></span>

3.  <span data-ttu-id="10ad7-177">**Пользовательские визуальные элементы:** Несмотря на то, что соединитель CQD работает с диапазоном настраиваемых визуальных элементов, мы не можем гарантировать совместимость со всеми пользовательскими визуальными элементами.</span><span class="sxs-lookup"><span data-stu-id="10ad7-177">**Custom Visuals –** While the CQD Connector does work with a range of custom visuals, we are unable to guarantee compatibility with all custom visuals.</span></span> <span data-ttu-id="10ad7-178">Многие пользовательские визуальные элементы основываются на использовании вычисляемых столбцов или импортированных данных, которые не поддерживаются соединителями DirectQuery.</span><span class="sxs-lookup"><span data-stu-id="10ad7-178">Many custom visuals rely on the use of calculated columns or imported data, neither or which are supported by DirectQuery connectors.</span></span>

4.  <span data-ttu-id="10ad7-179">**Обращение к кэшированным данным —** Power BI в настоящее время не поддерживает ссылки на кэшированные данные из соединительной линии DirectQuery каким-либо способом.</span><span class="sxs-lookup"><span data-stu-id="10ad7-179">**Referencing Cached Data –** Power BI currently does not support referencing cached data from a DirectQuery connector in any way.</span></span> <span data-ttu-id="10ad7-180">Любая попытка сослаться на результаты запроса будет приводить к новому запросу.</span><span class="sxs-lookup"><span data-stu-id="10ad7-180">Any attempt to reference the results of a query will result in a new query.</span></span> 

5.  <span data-ttu-id="10ad7-181">**Фильтрация относительных данных —** Поддерживается в соединителе CQD, но только с измерениями " *время начала* " и " *время окончания* ".</span><span class="sxs-lookup"><span data-stu-id="10ad7-181">**Relative Data Filtering –** Is supported in the CQD Connector, but only with the *Start Time* and *End Time* dimensions.</span></span> <span data-ttu-id="10ad7-182">Несмотря на то, что измерение *дат* может быть очевидным вариантом относительной фильтрации по дате, *Дата* не сохраняется как объект даты и времени, поэтому не поддерживает относительную фильтрацию по дате в Power BI.</span><span class="sxs-lookup"><span data-stu-id="10ad7-182">Although the *Date* dimension may be the obvious choice for relative date filtering, *Date* is not stored as a date time object and thus does not support relative date filtering in Power BI.</span></span>

<span data-ttu-id="10ad7-183">Обратите внимание, что несмотря на то, что соединительная линия в предварительной версии, скорее всего, вы не сможете изменить эти ограничения в окончательном выпуске соединителя.</span><span class="sxs-lookup"><span data-stu-id="10ad7-183">Please note, although the Connector is in preview, these limitations are unlikely to change with the final release of the Connector.</span></span> <span data-ttu-id="10ad7-184">Большинство из этих проблем являются ограничениями проектирования соединителей DirectQuery в Power BI или основы для разработки модели данных CQD.</span><span class="sxs-lookup"><span data-stu-id="10ad7-184">Most of these issues are either restrictions to DirectQuery connector design in Power BI or fundamental to the design of the CQD data model.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="10ad7-185">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="10ad7-185">Troubleshooting</span></span>

### <a name="im-trying-to-use-the-date-column-as-a-date-slicer-as-soon-as-i-convert-the-data-type-of-this-column-to-date-i-get-this-error"></a><span data-ttu-id="10ad7-186">Я пытаюсь использовать столбец "Дата" в качестве среза даты.</span><span class="sxs-lookup"><span data-stu-id="10ad7-186">I'm trying to use the Date column as a Date slicer.</span></span> <span data-ttu-id="10ad7-187">После преобразования типа данных для этого столбца на дату появляется следующее сообщение об ошибке:</span><span class="sxs-lookup"><span data-stu-id="10ad7-187">As soon as I convert the data type of this column to Date, I get this error:</span></span>

> <span data-ttu-id="10ad7-188">**Не удалось загрузить данные для этого визуального**элемента: OLE DB или ODBC Error: [expression. Error] нам не удалось сложить это выражение с источником данных.</span><span class="sxs-lookup"><span data-stu-id="10ad7-188">**Couldn't load the data for this visual**: OLE DB or ODBC error: [Expression.Error] We couldn't fold the expression to the data source.</span></span> <span data-ttu-id="10ad7-189">Пожалуйста, попробуйте более простое выражение.</span><span class="sxs-lookup"><span data-stu-id="10ad7-189">Please try a simpler expression.</span></span> 

<span data-ttu-id="10ad7-190">Срезы дат не поддерживаются с помощью соединителя Power BI.</span><span class="sxs-lookup"><span data-stu-id="10ad7-190">Date slicers aren't supported with the Power BI Connector.</span></span> <span data-ttu-id="10ad7-191">Чтобы задать диапазон дат, примените к отчету два фильтра, указав значение меньше или больше даты.</span><span class="sxs-lookup"><span data-stu-id="10ad7-191">To specify a date range, apply two filters to the report, specifying a less than and greater than date.</span></span>

<span data-ttu-id="10ad7-192">Кроме того, если вы хотите просмотреть последние даты, примените относительный фильтр по дате, чтобы отобразить только данные за последние N дней/недель/месяцев.</span><span class="sxs-lookup"><span data-stu-id="10ad7-192">Alternatively, if the dates you want to view are recent, apply a relative date filter to show only data for the last N days/weeks/months.</span></span>

## <a name="error-codes"></a><span data-ttu-id="10ad7-193">Коды ошибок</span><span class="sxs-lookup"><span data-stu-id="10ad7-193">Error Codes</span></span>

<span data-ttu-id="10ad7-194">Поскольку соединитель Power BI CQD менее ограничен, чем приложение браузера, в том числе типов запросов, которые вы можете конструировать, при построении запросов может возникнуть ряд ошибок.</span><span class="sxs-lookup"><span data-stu-id="10ad7-194">Because the CQD Power BI Connector is less restricted than the browser app in terms of kinds of queries you can construct, you may occasionally encounter a number of errors while building your queries.</span></span> <span data-ttu-id="10ad7-195">В том случае, если вы получаете сообщение об ошибке с типом "CQDError.</span><span class="sxs-lookup"><span data-stu-id="10ad7-195">In the event that you receive an error message of the type "CQDError.</span></span> <span data-ttu-id="10ad7-196">RunQuery — ошибка выполнения запроса. для устранения возможной проблемы с запросом щелкните приведенный ниже список, чтобы указать номер ErrorType.</span><span class="sxs-lookup"><span data-stu-id="10ad7-196">RunQuery – Query Execution Error", reference the list below with the ErrorType number provided in order to troubleshoot the possible issue with the query.</span></span> <span data-ttu-id="10ad7-197">Ниже перечислены наиболее распространенные коды ошибок, которые могут возникать при использовании соединителя Power BI CQD:</span><span class="sxs-lookup"><span data-stu-id="10ad7-197">The following are the most common Error Type codes you may encounter with the CQD Power BI Connector:</span></span>

  - <span data-ttu-id="10ad7-198">**ErrorType 1 — ошибка в структуре запроса:** Ошибка структуры запроса обычно возникает из-за того, что соединитель не завершил создание правильно отформатированного запроса.</span><span class="sxs-lookup"><span data-stu-id="10ad7-198">**ErrorType 1 - Query Structure Error:** A query structure error is typically caused by the Connector failing to build a properly formatted query.</span></span> <span data-ttu-id="10ad7-199">Это происходит чаще всего при использовании неподдерживаемой функции, как указано в описанных выше ограничениях.</span><span class="sxs-lookup"><span data-stu-id="10ad7-199">This happens most often when using unsupported functionality, as specified in the Limitations above.</span></span> <span data-ttu-id="10ad7-200">Убедитесь, что вы не используете вычисляемые столбцы или пользовательские визуальные элементы для этого запроса.</span><span class="sxs-lookup"><span data-stu-id="10ad7-200">Double check that you are not using any calculated columns or custom visuals for that query.</span></span>

  - <span data-ttu-id="10ad7-201">**ErrorType 2 — ошибка построения запроса:** Ошибка построения запроса, вызванная тем, что соединитель CQD не смог правильно разобрать запрос, который вы пытаетесь построить.</span><span class="sxs-lookup"><span data-stu-id="10ad7-201">**ErrorType 2 - Query Building Error:** A query building error is caused by the CQD Connector being unable to properly parse the query you are attempting to build.</span></span> <span data-ttu-id="10ad7-202">Это происходит чаще всего при использовании неподдерживаемой функции, как указано в описанных выше ограничениях.</span><span class="sxs-lookup"><span data-stu-id="10ad7-202">This happens most often when using unsupported functionality, as specified in the Limitations above.</span></span> <span data-ttu-id="10ad7-203">Убедитесь, что вы не используете вычисляемые столбцы или пользовательские визуальные элементы для этого запроса.</span><span class="sxs-lookup"><span data-stu-id="10ad7-203">Double check that you are not using any calculated columns or custom visuals for that query.</span></span>

  - <span data-ttu-id="10ad7-204">**ErrorType 5 — время ожидания выполнения:** Запрос достиг максимально возможного времени выполнения. Попробуйте добавить в запрос дополнительные фильтры, чтобы ограничить их область.</span><span class="sxs-lookup"><span data-stu-id="10ad7-204">**ErrorType 5 - Execution Timeout:** The query has reached the maximum possible runtime before timing out. Try adding more filters to the query in order to limit its scope.</span></span> <span data-ttu-id="10ad7-205">Чтобы добиться этого, очень удобно сузить диапазон данных.</span><span class="sxs-lookup"><span data-stu-id="10ad7-205">Narrowing the data range is often the most effective way to achieve this.</span></span>

  - <span data-ttu-id="10ad7-206">**ErrorType 7 — ошибки без единиц измерения:** Для функционирования запросов CQD требуется измерение.</span><span class="sxs-lookup"><span data-stu-id="10ad7-206">**ErrorType 7 - No Measurements Error:** CQD queries require a measure in order to function.</span></span> <span data-ttu-id="10ad7-207">Дважды убедитесь, что запрос содержит меру.</span><span class="sxs-lookup"><span data-stu-id="10ad7-207">Double check that your query includes measure.</span></span> <span data-ttu-id="10ad7-208">Меры в соединителе CQD обозначаются символом агрегирования (SUM) перед его именем.</span><span class="sxs-lookup"><span data-stu-id="10ad7-208">Measures in the CQD Connector are denoted by the aggregation (sum) symbol before their name.</span></span>

<span data-ttu-id="10ad7-209">Если вы столкнулись с дополнительными ошибками за пределами этой области, пожалуйста, уведомите группу CQD, чтобы мы смогли устранить эту проблему и при необходимости обновить документацию.</span><span class="sxs-lookup"><span data-stu-id="10ad7-209">If you encounter any additional errors outside of this scope, please notify the CQD team so that we can help troubleshoot the issue and update the documentation as appropriate.</span></span>

## <a name="footnotes"></a><span data-ttu-id="10ad7-210">Обычных</span><span class="sxs-lookup"><span data-stu-id="10ad7-210">Footnotes</span></span>

<span data-ttu-id="10ad7-211">**<sup>1</sup>** . Некоторые процессы и приложения (например, OneDrive) могут привести к изменению корневой папки "документы". Убедитесь в том, что каталог *настраиваемых соединителей на рабочем\\столе Power BI* помещен в текущую папку "документы корневой папки".</span><span class="sxs-lookup"><span data-stu-id="10ad7-211">**<sup>1</sup>** Certain processes and apps (e.g., OneDrive) may cause your Documents root folder to change; make sure that the *Power BI Desktop\\Custom Connectors* directory is placed inside of the current root folder Documents folder.</span></span>

<span data-ttu-id="10ad7-212">**<sup>2</sup>** . учетные данные для входа, используемые для CQD, *не* должны совпадать с учетными данными, которые используются для входа в классическое приложение Power BI.</span><span class="sxs-lookup"><span data-stu-id="10ad7-212">**<sup>2</sup>** The login credentials you use for CQD *do not* need to be the same credentials you use for logging into the Power BI Desktop app itself.</span></span>



## <a name="related-topics"></a><span data-ttu-id="10ad7-213">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="10ad7-213">Related topics</span></span>

[<span data-ttu-id="10ad7-214">Анализ данных CQD для Teams с помощью Power BI</span><span class="sxs-lookup"><span data-stu-id="10ad7-214">Use Power BI to analyze CQD data for Teams</span></span>](CQD-Power-BI-query-templates.md)
