---
title: Развертывание управления комнатами Microsoft Teams с помощью монитора Azure
ms.author: v-lanac
author: lanachin
ms.reviewer: Turgayo
manager: serdars
audience: ITPro
ms.topic: quickstart
ms.service: msteams
localization_priority: Normal
ms.collection:
- M365-collaboration
ms.custom: ''
ms.assetid: d86ff657-ee92-4b06-aee3-d4c43090bdcb
description: В этой статье рассказывается, как развернуть управление устройствами в Microsoft Teams с помощью монитора Azure.
ms.openlocfilehash: e428b54f1a91c8443000dafa3270d2283dc1d029
ms.sourcegitcommit: 1de5e4d829405b75c0a87918cc7c8fa7227e0ad6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "40952792"
---
# <a name="deploy-no-loc-textmicrosoft-teams-rooms-management-with-no-loc-textazure-monitor"></a><span data-ttu-id="dec91-103">Управление :::no-loc text="Microsoft Teams Rooms"::: развертыванием с помощью:::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="dec91-103">Deploy :::no-loc text="Microsoft Teams Rooms"::: management with :::no-loc text="Azure Monitor":::</span></span>

<span data-ttu-id="dec91-104">В этой статье рассказывается о том, как настраивать и развертывать интегрированные и законченные средства :::no-loc text="Microsoft Teams Rooms"::: управления устройствами с :::no-loc text="Azure Monitor":::помощью.</span><span class="sxs-lookup"><span data-stu-id="dec91-104">This article discusses how to set up and deploy integrated, end-to-end management of :::no-loc text="Microsoft Teams Rooms"::: devices by using :::no-loc text="Azure Monitor":::.</span></span>

<span data-ttu-id="dec91-105">Вы можете настроить :::no-loc text="Log Analytics"::: в :::no-loc text="Azure Monitor"::: рамках для предоставления базовой телеметрии и оповещений, которые помогут :::no-loc text="Microsoft Teams Rooms"::: вам управлять устройствами для помещения на собрание.</span><span class="sxs-lookup"><span data-stu-id="dec91-105">You can configure :::no-loc text="Log Analytics"::: within :::no-loc text="Azure Monitor"::: to provide basic telemetry and alerts that will help you manage :::no-loc text="Microsoft Teams Rooms"::: meeting room devices.</span></span> <span data-ttu-id="dec91-106">По мере того как ваше решение для управления будет превышено, вы можете развернуть дополнительные возможности данных и управления, чтобы создать более подробное представление о доступности и быстродействии устройства.</span><span class="sxs-lookup"><span data-stu-id="dec91-106">As your management solution matures, you might decide to deploy additional data and management capabilities to create a more detailed view of device availability and performance.</span></span>

<span data-ttu-id="dec91-107">Следуя этим инструкциям, вы можете использовать панель мониторинга, как в следующем примере, чтобы получить подробные сведения о состоянии доступности устройства, работоспособности приложения и оборудования :::no-loc text="Microsoft Teams Rooms"::: , а также о распределении версий приложений и операционной системы.</span><span class="sxs-lookup"><span data-stu-id="dec91-107">By following this guide, you can use a dashboard like the following example to get detailed status reporting for device availability, application and hardware health, and :::no-loc text="Microsoft Teams Rooms"::: application and operating system version distribution.</span></span>

<span data-ttu-id="dec91-108">! [Снимок экрана с образцом :::no-loc text="Log Analytics"::: представления :::no-loc text="Microsoft Teams Rooms":::для] (.. /media/Deploy-Azure-Monitor-1.png "образец :::no-loc text="Log Analytics"::: представления для :::no-loc text="Microsoft Teams Rooms":::")</span><span class="sxs-lookup"><span data-stu-id="dec91-108">![Screen shot of sample :::no-loc text="Log Analytics"::: view for :::no-loc text="Microsoft Teams Rooms":::](../media/Deploy-Azure-Monitor-1.png "Sample :::no-loc text="Log Analytics"::: view for :::no-loc text="Microsoft Teams Rooms":::")</span></span>

<span data-ttu-id="dec91-109">В общих чертах вам необходимо выполнить следующие задачи.</span><span class="sxs-lookup"><span data-stu-id="dec91-109">At a high level, you need to perform the following tasks:</span></span>


1. [<span data-ttu-id="dec91-110">Проверка :::no-loc text="Log Analytics"::: конфигурации</span><span class="sxs-lookup"><span data-stu-id="dec91-110">Validate :::no-loc text="Log Analytics"::: configuration</span></span>](azure-monitor-deploy.md#validate_LogAnalytics)
2. [<span data-ttu-id="dec91-111">Настройка тестовых устройств :::no-loc text="Log Analytics"::: для настройки управления</span><span class="sxs-lookup"><span data-stu-id="dec91-111">Configure test devices for :::no-loc text="Log Analytics"::: management setup</span></span>](azure-monitor-deploy.md#configure_test_devices)
3. [<span data-ttu-id="dec91-112">Сопоставление настраиваемых полей</span><span class="sxs-lookup"><span data-stu-id="dec91-112">Map custom fields</span></span>](azure-monitor-deploy.md#Custom_fields)
4. [<span data-ttu-id="dec91-113">Определение :::no-loc text="Microsoft Teams Rooms"::: представлений в:::no-loc text="Log Analytics":::</span><span class="sxs-lookup"><span data-stu-id="dec91-113">Define the :::no-loc text="Microsoft Teams Rooms"::: views in :::no-loc text="Log Analytics":::</span></span>](azure-monitor-deploy.md#Define_Views)
5. [<span data-ttu-id="dec91-114">Определение оповещений</span><span class="sxs-lookup"><span data-stu-id="dec91-114">Define alerts</span></span>](azure-monitor-deploy.md#Alerts)
6. [<span data-ttu-id="dec91-115">Настройка наблюдения для всех устройств</span><span class="sxs-lookup"><span data-stu-id="dec91-115">Configure all devices for Monitoring</span></span>](azure-monitor-deploy.md#configure_all_devices)
7. [<span data-ttu-id="dec91-116">Настройка дополнительных :::no-loc text="Azure Monitor"::: решений</span><span class="sxs-lookup"><span data-stu-id="dec91-116">Configure additional :::no-loc text="Azure Monitor"::: solutions</span></span>](azure-monitor-deploy.md#Solutions)

> [!IMPORTANT]
> <span data-ttu-id="dec91-117">Несмотря на то, что :::no-loc text="Azure Monitor"::: :::no-loc text="Log Analytics"::: с минимальной конфигурацией может наблюдать :::no-loc text="Windows"::: за компьютером под управлением операционной системы, :::no-loc text="Microsoft Teams Rooms":::некоторые действия, которые необходимо выполнить перед развертыванием агентов на всех :::no-loc text="Microsoft Teams Rooms"::: устройствах, не зависят от того, что нужно сделать.</span><span class="sxs-lookup"><span data-stu-id="dec91-117">Although with minimal configuration, :::no-loc text="Azure Monitor"::: :::no-loc text="Log Analytics"::: can monitor a computer running a :::no-loc text="Windows"::: operating system, there are still some :::no-loc text="Microsoft Teams Rooms":::–specific steps that you need to take before you start deploying agents to all :::no-loc text="Microsoft Teams Rooms"::: devices.</span></span>
> <span data-ttu-id="dec91-118">Поэтому мы настоятельно рекомендуем выполнить все действия по настройке в правильном порядке для управления установкой и конфигурацией.</span><span class="sxs-lookup"><span data-stu-id="dec91-118">Therefore, we highly recommend you perform all configuration steps in the right order for a controlled setup and configuration.</span></span> <span data-ttu-id="dec91-119">Качество конечного результата очень сильно зависит от качества начальной конфигурации.</span><span class="sxs-lookup"><span data-stu-id="dec91-119">The quality of the end result very much depends on the quality of the initial configuration.</span></span>

## <a name="validate-no-loc-textlog-analytics-configuration"></a><span data-ttu-id="dec91-120">Проверка :::no-loc text="Log Analytics"::: конфигурации</span><span class="sxs-lookup"><span data-stu-id="dec91-120">Validate :::no-loc text="Log Analytics"::: configuration</span></span>
<span data-ttu-id="dec91-121"><a name="validate_LogAnalytics"> </a></span><span class="sxs-lookup"><span data-stu-id="dec91-121"></span></span>

<span data-ttu-id="dec91-122">Для сбора журналов с :::no-loc text="Log Analytics"::: :::no-loc text="Microsoft Teams Rooms"::: устройств необходимо иметь рабочую область.</span><span class="sxs-lookup"><span data-stu-id="dec91-122">You need to have a :::no-loc text="Log Analytics"::: workspace to start collecting logs from :::no-loc text="Microsoft Teams Rooms"::: devices.</span></span> <span data-ttu-id="dec91-123">Рабочая область — это уникальная :::no-loc text="Log Analytics"::: среда с собственным хранилищем данных, источниками данных и решениями.</span><span class="sxs-lookup"><span data-stu-id="dec91-123">A workspace is a unique :::no-loc text="Log Analytics"::: environment with its own data repository, data sources, and solutions.</span></span> <span data-ttu-id="dec91-124">Если у вас уже :::no-loc text="Log Analytics"::: есть рабочая область, вы можете использовать ее для наблюдения за :::no-loc text="Microsoft Teams Rooms"::: развертыванием, а также создать специальную :::no-loc text="Log Analytics"::: рабочую область, относящуюся к :::no-loc text="Microsoft Teams Rooms"::: вашим потребностям мониторинга.</span><span class="sxs-lookup"><span data-stu-id="dec91-124">If you already have an existing :::no-loc text="Log Analytics"::: workspace, you might use it to monitor your :::no-loc text="Microsoft Teams Rooms"::: deployment or alternatively, you can create a dedicated :::no-loc text="Log Analytics"::: workspace specific to your :::no-loc text="Microsoft Teams Rooms"::: monitoring needs.</span></span>

<span data-ttu-id="dec91-125">Если вам нужно создать :::no-loc text="Log Analytics"::: рабочую область, следуйте инструкциям, приведенным в статье [Создание :::no-loc text="Log Analytics"::: рабочей области на :::no-loc text="Azure"::: портале](https://docs.microsoft.com/azure/azure-monitor/learn/quick-create-workspace)</span><span class="sxs-lookup"><span data-stu-id="dec91-125">If you need to create a new :::no-loc text="Log Analytics"::: workspace, follow the instructions in the article [Create a :::no-loc text="Log Analytics"::: workspace in the :::no-loc text="Azure"::: portal](https://docs.microsoft.com/azure/azure-monitor/learn/quick-create-workspace)</span></span>

> [!NOTE]
> <span data-ttu-id="dec91-126">Для использования :::no-loc text="Log Analytics"::: с :::no-loc text="Azure Monitor":::этим вам необходимо иметь активную :::no-loc text="Azure"::: подписку.</span><span class="sxs-lookup"><span data-stu-id="dec91-126">To use :::no-loc text="Log Analytics"::: with :::no-loc text="Azure Monitor":::, you need to have an active :::no-loc text="Azure"::: subscription.</span></span> <span data-ttu-id="dec91-127">Если у вас нет :::no-loc text="Azure"::: подписки на план, вы можете создать [бесплатную пробную подписку](https://azure.microsoft.com/free) в качестве отправной точки.</span><span class="sxs-lookup"><span data-stu-id="dec91-127">If you don’t have an :::no-loc text="Azure"::: subscription, you can create [a free trial subscription](https://azure.microsoft.com/free) as a starting point.</span></span>

### <a name="configure-no-loc-textlog-analytics-to-collect-no-loc-textmicrosoft-teams-rooms-event-logs"></a><span data-ttu-id="dec91-128">Настройка :::no-loc text="Log Analytics"::: сбора :::no-loc text="Microsoft Teams Rooms"::: журналов событий</span><span class="sxs-lookup"><span data-stu-id="dec91-128">Configure :::no-loc text="Log Analytics"::: to collect :::no-loc text="Microsoft Teams Rooms"::: event logs</span></span>

<span data-ttu-id="dec91-129">:::no-loc text="Log Analytics":::собирает только события из журналов :::no-loc text="Windows"::: событий, указанных в параметрах.</span><span class="sxs-lookup"><span data-stu-id="dec91-129">:::no-loc text="Log Analytics"::: only collects events from the :::no-loc text="Windows"::: event logs that are specified in the settings.</span></span> <span data-ttu-id="dec91-130">Для каждого журнала собираются только события, для которых выбраны определенные серьезности.</span><span class="sxs-lookup"><span data-stu-id="dec91-130">For each log, only the events with the selected severities are collected.</span></span>

<span data-ttu-id="dec91-131">Необходимо настроить :::no-loc text="Log Analytics"::: для сбора журналов, необходимых для наблюдения за :::no-loc text="Microsoft Teams Rooms"::: состоянием устройства и приложения.</span><span class="sxs-lookup"><span data-stu-id="dec91-131">You need to configure :::no-loc text="Log Analytics"::: to collect the logs required to monitor :::no-loc text="Microsoft Teams Rooms"::: device and application status.</span></span> <span data-ttu-id="dec91-132">:::no-loc text="Microsoft Teams Rooms":::устройства используют журнал **:::no-loc text="Skype Room System":::** событий.</span><span class="sxs-lookup"><span data-stu-id="dec91-132">:::no-loc text="Microsoft Teams Rooms"::: devices use the **:::no-loc text="Skype Room System":::** event log.</span></span>

<span data-ttu-id="dec91-133">Чтобы настроить :::no-loc text="Log Analytics"::: сбор :::no-loc text="Microsoft Teams Rooms"::: событий, просмотрите [ :::no-loc text="Windows"::: источники данных журнала событий в :::no-loc text="Azure Monitor"::: ](https://docs.microsoft.com/azure/azure-monitor/platform/data-sources-windows-events)</span><span class="sxs-lookup"><span data-stu-id="dec91-133">To configure :::no-loc text="Log Analytics"::: to collect the :::no-loc text="Microsoft Teams Rooms"::: events, see [:::no-loc text="Windows"::: event log data sources in :::no-loc text="Azure Monitor":::](https://docs.microsoft.com/azure/azure-monitor/platform/data-sources-windows-events)</span></span>

<span data-ttu-id="dec91-134">![Снимок экрана с параметрами журнала событий](../media/Deploy-Azure-Monitor-2.png "Параметры журнала событий")</span><span class="sxs-lookup"><span data-stu-id="dec91-134">![Screen shot of event log settings](../media/Deploy-Azure-Monitor-2.png "Event log settings")</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dec91-135">Настройте :::no-loc text="Windows"::: параметры журнала событий и введите **:::no-loc text="Skype Room System":::** имя журнала событий, а затем установите флажки **Ошибка**, **предупреждение**и **сведения** .</span><span class="sxs-lookup"><span data-stu-id="dec91-135">Configure :::no-loc text="Windows"::: Event Log settings and enter **:::no-loc text="Skype Room System":::** as event log name, and then select the **Error**, **Warning**, and **Information** check boxes.</span></span>

## <a name="configure-test-devices-for-azure-monitoring"></a><span data-ttu-id="dec91-136">Настройка тестовых устройств для мониторинга Azure</span><span class="sxs-lookup"><span data-stu-id="dec91-136">Configure test devices for Azure Monitoring</span></span>
<span data-ttu-id="dec91-137"><a name="configure_test_devices"> </a></span><span class="sxs-lookup"><span data-stu-id="dec91-137"></span></span>

<span data-ttu-id="dec91-138">Вам необходимо подготовиться :::no-loc text="Log Analytics"::: к отслеживанию событий :::no-loc text="Microsoft Teams Rooms":::, связанных с отслеживанием.</span><span class="sxs-lookup"><span data-stu-id="dec91-138">You need to prepare :::no-loc text="Log Analytics"::: to be able to monitor :::no-loc text="Microsoft Teams Rooms":::–related events.</span></span> <span data-ttu-id="dec91-139">Для начала необходимо развернуть :::no-loc text="Microsoft Monitoring"::: агенты только для одного или двух :::no-loc text="Microsoft Teams Rooms"::: устройств, к которым у вас есть физический доступ, и получить эти тестовые устройства для создания данных и помещения их в :::no-loc text="Log Analytics"::: рабочую область.</span><span class="sxs-lookup"><span data-stu-id="dec91-139">To start with, you need to deploy :::no-loc text="Microsoft Monitoring"::: agents to just one or two :::no-loc text="Microsoft Teams Rooms"::: devices that you have physical access to, and get those test devices generate some data and push it to the :::no-loc text="Log Analytics"::: workspace.</span></span>

### <a name="install-no-loc-textmicrosoft-monitoring-agents-to-test-devices"></a><span data-ttu-id="dec91-140">Установка :::no-loc text="Microsoft Monitoring"::: агентов на тестирование устройств</span><span class="sxs-lookup"><span data-stu-id="dec91-140">Install :::no-loc text="Microsoft Monitoring"::: agents to test devices</span></span>

<span data-ttu-id="dec91-141">:::no-loc text="Microsoft Monitoring"::: Разверните агент на тестовом устройстве, используя инструкции, предоставленные в [разделе :::no-loc text="Windows"::: подключение компьютеров к :::no-loc text="Log Analytics"::: службе :::no-loc text="Azure"::: ](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows).</span><span class="sxs-lookup"><span data-stu-id="dec91-141">Deploy the :::no-loc text="Microsoft Monitoring"::: agent to the test devices by using the instructions provided in [Connect :::no-loc text="Windows"::: computers to the :::no-loc text="Log Analytics"::: service in :::no-loc text="Azure":::](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows).</span></span> <span data-ttu-id="dec91-142">:::no-loc text="Windows":::В этой статье приведены :::no-loc text="Log Analytics"::: подробные сведения о процедуре развертывания :::no-loc text="Microsoft Teams Rooms"::: :::no-loc text="Azure Monitor"::: :::no-loc text="Microsoft Monitoring"::: агента, инструкции по получению ***идентификатора рабочей области*** и ***первичному ключу*** для получения устройств, подключенных к развертыванию, и инструкции по проверке соединения с :::no-loc text="Log Analytics"::: агентом к экземпляру.</span><span class="sxs-lookup"><span data-stu-id="dec91-142">This article provides detailed information about the steps for deploying :::no-loc text="Microsoft Monitoring"::: Agent for :::no-loc text="Windows":::, instructions for obtaining the :::no-loc text="Log Analytics"::: ***Workspace ID*** and the ***primary key*** to get :::no-loc text="Microsoft Teams Rooms"::: devices connected to your :::no-loc text="Azure Monitor"::: deployment, and steps to verify agent connectivity to :::no-loc text="Log Analytics"::: instance.</span></span>

### <a name="generate-sample-no-loc-textmicrosoft-teams-rooms-events"></a><span data-ttu-id="dec91-143">Создание образцов :::no-loc text="Microsoft Teams Rooms"::: событий</span><span class="sxs-lookup"><span data-stu-id="dec91-143">Generate sample :::no-loc text="Microsoft Teams Rooms"::: events</span></span>

<span data-ttu-id="dec91-144">После развертывания :::no-loc text="Microsoft Monitoring"::: агента на тестовом устройстве убедитесь в том, что данные, необходимые для записи журнала событий, :::no-loc text="Azure Monitor":::собраны.</span><span class="sxs-lookup"><span data-stu-id="dec91-144">After the :::no-loc text="Microsoft Monitoring"::: agent is deployed onto the test devices, verify that the required event log data is collected by :::no-loc text="Azure Monitor":::.</span></span>

> [!NOTE]
> <span data-ttu-id="dec91-145">Перезагрузите устройство после установки :::no-loc text="Microsoft Monitoring"::: агента и убедитесь, что приложение для :::no-loc text="Microsoft Teams Rooms"::: собраний запущено, чтобы он мог создавать новые события в журнале событий.</span><span class="sxs-lookup"><span data-stu-id="dec91-145">Reboot the device after the installation of the :::no-loc text="Microsoft Monitoring"::: agent, and make sure that :::no-loc text="Microsoft Teams Rooms"::: Meeting app is started, so that it can generate new events into the Event Log.</span></span>

1.  <span data-ttu-id="dec91-146">Войдите на [ :::no-loc text="Microsoft Azure"::: портал](https://portal.azure.com) и перейдите в :::no-loc text="Log Analytics"::: рабочую область и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="dec91-146">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>

2.  <span data-ttu-id="dec91-147">Перечислите события пульса, :::no-loc text="Microsoft Teams Rooms"::: созданные устройством.</span><span class="sxs-lookup"><span data-stu-id="dec91-147">List the heartbeat events generated by a :::no-loc text="Microsoft Teams Rooms"::: device:</span></span>
    1.  <span data-ttu-id="dec91-148">Выберите рабочую область и перейдите в раздел **журналы** и используйте запрос для получения записей пульса, для :::no-loc text="Microsoft Teams Rooms":::которых будут использоваться пользовательские поля.</span><span class="sxs-lookup"><span data-stu-id="dec91-148">Select your workspace and go to **Logs** and use a query to retrieve the heartbeat records that will have the custom fields for :::no-loc text="Microsoft Teams Rooms":::.</span></span>
    2.  <span data-ttu-id="dec91-149">Образец запроса:`Event | where Source == "SRS-App" and EventID == 2000`</span><span class="sxs-lookup"><span data-stu-id="dec91-149">Sample query: `Event | where Source == "SRS-App" and EventID == 2000`</span></span>

3.  <span data-ttu-id="dec91-150">Убедитесь в том, что запрос возвращает записи журнала, которые содержат события, :::no-loc text="Microsoft Teams Rooms"::: созданные приложением "собрания".</span><span class="sxs-lookup"><span data-stu-id="dec91-150">Make sure that the query returns log records that include events generated by the :::no-loc text="Microsoft Teams Rooms"::: meetings app.</span></span>

4.  <span data-ttu-id="dec91-151">Создание аппаратной ошибки и проверка того, что необходимые события зарегистрированы :::no-loc text="Azure Log Analytics":::.</span><span class="sxs-lookup"><span data-stu-id="dec91-151">Generate a hardware issue, and validate that the required events are logged in :::no-loc text="Azure Log Analytics":::.</span></span>
    1.  <span data-ttu-id="dec91-152">Отключите один из периферийных устройств в тестовой :::no-loc text="Microsoft Teams Rooms"::: системе.</span><span class="sxs-lookup"><span data-stu-id="dec91-152">Unplug one of the peripheral devices on the test :::no-loc text="Microsoft Teams Rooms"::: system.</span></span> <span data-ttu-id="dec91-153">Это может быть экран камеры, динамика, микрофона или передней комнаты</span><span class="sxs-lookup"><span data-stu-id="dec91-153">This could be the camera, speakerphone, microphone, or Front Room Display</span></span>
    2.  <span data-ttu-id="dec91-154">Подождите 10 минут, пока журнал событий не будет заполнен :::no-loc text="Azure Log Analytics":::.</span><span class="sxs-lookup"><span data-stu-id="dec91-154">Wait 10 minutes for the event log to be populated in :::no-loc text="Azure Log Analytics":::.</span></span>
    3.  <span data-ttu-id="dec91-155">Перечислите события об ошибках оборудования с помощью запроса:`Event | where Source == "SRS-App" and EventID == 3001`</span><span class="sxs-lookup"><span data-stu-id="dec91-155">Use a query to list hardware error events: `Event | where Source == "SRS-App" and EventID == 3001`</span></span>

5.  <span data-ttu-id="dec91-156">Создание ошибки приложения и проверка того, что в журнал записываются необходимые события.</span><span class="sxs-lookup"><span data-stu-id="dec91-156">Generate an application issue, and validate that the required events are logged.</span></span>
    1.  <span data-ttu-id="dec91-157">Измените :::no-loc text="Microsoft Teams Rooms"::: конфигурацию приложения и введите неверный адрес (SIP) и пароль для протокола запуска сеанса.</span><span class="sxs-lookup"><span data-stu-id="dec91-157">Modify :::no-loc text="Microsoft Teams Rooms"::: application configuration, and type an incorrect Session Initiation Protocol (SIP) address/password pair.</span></span>
    2.  <span data-ttu-id="dec91-158">Подождите 10 минут, пока журнал событий не будет заполнен :::no-loc text="Azure Log Analytics":::.</span><span class="sxs-lookup"><span data-stu-id="dec91-158">Wait 10 minutes for the event log to be populated in :::no-loc text="Azure Log Analytics":::.</span></span>
    3.  <span data-ttu-id="dec91-159">Использование запроса для перечисления событий, возникающих при ошибке приложения:`Event | where Source == "SRS-App" and EventID == 2001 and EventLevel == 1`</span><span class="sxs-lookup"><span data-stu-id="dec91-159">Use a query to list application error events: `Event | where Source == "SRS-App" and EventID == 2001 and EventLevel == 1`</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dec91-160">Эти журналы событий являются обязательными, прежде чем можно будет настроить настраиваемые поля.</span><span class="sxs-lookup"><span data-stu-id="dec91-160">These sample event logs are required before custom fields can be configured.</span></span> <span data-ttu-id="dec91-161">Не переходите к следующему шагу, пока не соберете нужные журналы событий.</span><span class="sxs-lookup"><span data-stu-id="dec91-161">Don’t proceed to the next step until you have collected the required event logs.</span></span>

## <a name="map-custom-fields"></a><span data-ttu-id="dec91-162">Сопоставление настраиваемых полей</span><span class="sxs-lookup"><span data-stu-id="dec91-162">Map custom fields</span></span>
<span data-ttu-id="dec91-163"><a name="Custom_fields"> </a></span><span class="sxs-lookup"><span data-stu-id="dec91-163"></span></span>

<span data-ttu-id="dec91-164">Пользовательские поля используются для извлечения определенных данных из журналов событий.</span><span class="sxs-lookup"><span data-stu-id="dec91-164">You use custom fields to extract specific data from the event logs.</span></span> <span data-ttu-id="dec91-165">Необходимо определить пользовательские поля, которые будут использоваться позже с плитками, представлениями панели мониторинга и оповещениями.</span><span class="sxs-lookup"><span data-stu-id="dec91-165">You need to define custom fields that will be used later with your tiles, dashboard views, and alerts.</span></span> <span data-ttu-id="dec91-166">Прежде чем приступить к созданию настраиваемых полей, просмотрите [пользовательские поля в :::no-loc text="Log Analytics"::: ](https://docs.microsoft.com/azure/azure-monitor/platform/custom-fields) и ознакомьтесь с концепциями.</span><span class="sxs-lookup"><span data-stu-id="dec91-166">See [Custom fields in :::no-loc text="Log Analytics":::](https://docs.microsoft.com/azure/azure-monitor/platform/custom-fields) and become familiar with the concepts before you start creating your custom fields.</span></span>

<span data-ttu-id="dec91-167">Чтобы извлечь пользовательские поля из журналов записанных событий, выполните указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="dec91-167">To extract your custom fields out of the captured event logs, follow these steps:</span></span>

1.  <span data-ttu-id="dec91-168">Войдите на [ :::no-loc text="Microsoft Azure"::: портал](https://portal.azure.com) и перейдите в :::no-loc text="Log Analytics"::: рабочую область и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="dec91-168">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>

2. <span data-ttu-id="dec91-169">Перечислите события, созданные :::no-loc text="Microsoft Teams Rooms"::: устройством.</span><span class="sxs-lookup"><span data-stu-id="dec91-169">List the events generated by a :::no-loc text="Microsoft Teams Rooms"::: device:</span></span>
   1.  <span data-ttu-id="dec91-170">Перейдите в раздел **журналы** и используйте запрос, чтобы получить записи, для которых будет задано настраиваемое поле.</span><span class="sxs-lookup"><span data-stu-id="dec91-170">Go to **Logs** and use a query to retrieve the records that will have the custom field.</span></span>
   2.  <span data-ttu-id="dec91-171">Образец запроса:`Event | where Source == "SRS-App" and EventID == 2000`</span><span class="sxs-lookup"><span data-stu-id="dec91-171">Sample query: `Event | where Source == "SRS-App" and EventID == 2000`</span></span>

3. <span data-ttu-id="dec91-172">Выберите одну из записей, нажмите кнопку слева и запустите Мастер извлечения полей.</span><span class="sxs-lookup"><span data-stu-id="dec91-172">Select one of the records, select the button to the left, and start the field extraction wizard.</span></span>
4. <span data-ttu-id="dec91-173">Выделим данные, которые вы хотите извлечь из Рендереддескриптион, и укажите название поля.</span><span class="sxs-lookup"><span data-stu-id="dec91-173">Highlight the data you’d like to extract from the RenderedDescription and provide a Field Title.</span></span> <span data-ttu-id="dec91-174">Имена полей, которые следует использовать, приведены в таблице 1.</span><span class="sxs-lookup"><span data-stu-id="dec91-174">The field names that you should use are provided in Table 1.</span></span>

   <span data-ttu-id="dec91-175">![Определение настраиваемого поля](../media/Deploy-Azure-Monitor-4.png "Определение настраиваемого поля")</span><span class="sxs-lookup"><span data-stu-id="dec91-175">![Custom field definition](../media/Deploy-Azure-Monitor-4.png "Custom field definition")</span></span>

5. <span data-ttu-id="dec91-176">Используйте сопоставления, показанные в *таблице 1*.</span><span class="sxs-lookup"><span data-stu-id="dec91-176">Use the mappings shown in *Table 1*.</span></span> <span data-ttu-id="dec91-177">:::no-loc text="Log Analytics":::автоматически добавит строку \*\* \_CF\*\* при определении нового поля.</span><span class="sxs-lookup"><span data-stu-id="dec91-177">:::no-loc text="Log Analytics"::: will automatically append the **\_CF** string when you define the new field.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="dec91-178">Помните о том, что :::no-loc text="Log Analytics"::: все JSON и поля чувствительны к регистру.</span><span class="sxs-lookup"><span data-stu-id="dec91-178">Remember that all JSON and :::no-loc text="Log Analytics"::: fields are case-sensitive.</span></span>
> 
> <span data-ttu-id="dec91-179">Обратите внимание на запросы, необходимые для каждого настраиваемого поля в приведенной ниже таблице.</span><span class="sxs-lookup"><span data-stu-id="dec91-179">Pay attention to the queries required for each custom field in the table below.</span></span> <span data-ttu-id="dec91-180">Для успешного извлечения значений настраиваемых полей необходимо :::no-loc text="Log Analytics"::: использовать правильные запросы.</span><span class="sxs-lookup"><span data-stu-id="dec91-180">You need to use the correct queries for :::no-loc text="Log Analytics"::: to successfully extract custom field values.</span></span>
> 
 <span data-ttu-id="dec91-181">![Определение настраиваемого поля](../media/Deploy-Azure-Monitor-5.png "Определение настраиваемого поля")</span><span class="sxs-lookup"><span data-stu-id="dec91-181">![Custom field definition](../media/Deploy-Azure-Monitor-5.png "Custom field definition")</span></span>

<span data-ttu-id="dec91-182">**Таблица 1**</span><span class="sxs-lookup"><span data-stu-id="dec91-182">**Table 1**</span></span>

| <span data-ttu-id="dec91-183">**Поле JSON**</span><span class="sxs-lookup"><span data-stu-id="dec91-183">**JSON field**</span></span>                   | <span data-ttu-id="dec91-184">**:::no-loc text="Log Analytics":::настраиваемое поле**</span><span class="sxs-lookup"><span data-stu-id="dec91-184">**:::no-loc text="Log Analytics"::: custom field**</span></span> | <span data-ttu-id="dec91-185">**Идентификатор события**</span><span class="sxs-lookup"><span data-stu-id="dec91-185">**Event ID**</span></span> | <span data-ttu-id="dec91-186">**Запрос, используемый для извлечения**</span><span class="sxs-lookup"><span data-stu-id="dec91-186">**Query to use with the extraction**</span></span>                   |
|:---------------------------------|:-------------------------------|:-------------|:-------------------------------------------------------|
| <span data-ttu-id="dec91-187">Описание</span><span class="sxs-lookup"><span data-stu-id="dec91-187">Description</span></span>                      | <span data-ttu-id="dec91-188">срсевентдескриптион</span><span class="sxs-lookup"><span data-stu-id="dec91-188">SRSEventDescription</span></span>         | <span data-ttu-id="dec91-189">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-189">**2000**</span></span>     | <span data-ttu-id="dec91-190">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-190">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-191">ResourceState</span><span class="sxs-lookup"><span data-stu-id="dec91-191">ResourceState</span></span>                    | <span data-ttu-id="dec91-192">срсресаурцестате</span><span class="sxs-lookup"><span data-stu-id="dec91-192">SRSResourceState</span></span>            | <span data-ttu-id="dec91-193">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-193">**2000**</span></span>     | <span data-ttu-id="dec91-194">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-194">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-195">OperationName</span><span class="sxs-lookup"><span data-stu-id="dec91-195">OperationName</span></span>                    | <span data-ttu-id="dec91-196">срсоператионнаме</span><span class="sxs-lookup"><span data-stu-id="dec91-196">SRSOperationName</span></span>            | <span data-ttu-id="dec91-197">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-197">**2000**</span></span>     | <span data-ttu-id="dec91-198">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-198">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-199">OperationResult</span><span class="sxs-lookup"><span data-stu-id="dec91-199">OperationResult</span></span>                  | <span data-ttu-id="dec91-200">срсоператионресулт</span><span class="sxs-lookup"><span data-stu-id="dec91-200">SRSOperationResult</span></span>          | <span data-ttu-id="dec91-201">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-201">**2000**</span></span>     | <span data-ttu-id="dec91-202">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-202">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-203">OS</span><span class="sxs-lookup"><span data-stu-id="dec91-203">OS</span></span>                               | <span data-ttu-id="dec91-204">срсосверсион</span><span class="sxs-lookup"><span data-stu-id="dec91-204">SRSOSVersion</span></span>                | <span data-ttu-id="dec91-205">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-205">**2000**</span></span>     | <span data-ttu-id="dec91-206">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-206">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-207">Версия ОС</span><span class="sxs-lookup"><span data-stu-id="dec91-207">OSVersion</span></span>                        | <span data-ttu-id="dec91-208">срсослонгверсион</span><span class="sxs-lookup"><span data-stu-id="dec91-208">SRSOSLongVersion</span></span>            | <span data-ttu-id="dec91-209">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-209">**2000**</span></span>     | <span data-ttu-id="dec91-210">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-210">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-211">Alias</span><span class="sxs-lookup"><span data-stu-id="dec91-211">Alias</span></span>                            | <span data-ttu-id="dec91-212">срсалиас</span><span class="sxs-lookup"><span data-stu-id="dec91-212">SRSAlias</span></span>                    | <span data-ttu-id="dec91-213">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-213">**2000**</span></span>     | <span data-ttu-id="dec91-214">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-214">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-215">DisplayName</span><span class="sxs-lookup"><span data-stu-id="dec91-215">DisplayName</span></span>                      | <span data-ttu-id="dec91-216">срсдисплайнаме</span><span class="sxs-lookup"><span data-stu-id="dec91-216">SRSDisplayName</span></span>              | <span data-ttu-id="dec91-217">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-217">**2000**</span></span>     | <span data-ttu-id="dec91-218">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-218">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-219">AppVersion</span><span class="sxs-lookup"><span data-stu-id="dec91-219">AppVersion</span></span>                       | <span data-ttu-id="dec91-220">срсаппверсион</span><span class="sxs-lookup"><span data-stu-id="dec91-220">SRSAppVersion</span></span>               | <span data-ttu-id="dec91-221">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-221">**2000**</span></span>     | <span data-ttu-id="dec91-222">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-222">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-223">IPv4Address</span><span class="sxs-lookup"><span data-stu-id="dec91-223">IPv4Address</span></span>                      | <span data-ttu-id="dec91-224">SRSIPv4Address</span><span class="sxs-lookup"><span data-stu-id="dec91-224">SRSIPv4Address</span></span>              | <span data-ttu-id="dec91-225">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-225">**2000**</span></span>     | <span data-ttu-id="dec91-226">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-226">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-227">IPv6Address</span><span class="sxs-lookup"><span data-stu-id="dec91-227">IPv6Address</span></span>                      | <span data-ttu-id="dec91-228">SRSIPv6Address</span><span class="sxs-lookup"><span data-stu-id="dec91-228">SRSIPv6Address</span></span>              | <span data-ttu-id="dec91-229">**2000**</span><span class="sxs-lookup"><span data-stu-id="dec91-229">**2000**</span></span>     | <span data-ttu-id="dec91-230">Событие \| , в котором Source = = "SRS-App" и EventID = = 2000</span><span class="sxs-lookup"><span data-stu-id="dec91-230">Event \| where Source == "SRS-App" and EventID == 2000</span></span> |
| <span data-ttu-id="dec91-231">Состояние микрофона конференции</span><span class="sxs-lookup"><span data-stu-id="dec91-231">Conference Microphone status</span></span>     | <span data-ttu-id="dec91-232">срсконфмикрофонестатус</span><span class="sxs-lookup"><span data-stu-id="dec91-232">SRSConfMicrophoneStatus</span></span>     | <span data-ttu-id="dec91-233">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-233">**3001**</span></span>     | <span data-ttu-id="dec91-234">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-234">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="dec91-235">Состояние динамика Конференции</span><span class="sxs-lookup"><span data-stu-id="dec91-235">Conference Speaker status</span></span>        | <span data-ttu-id="dec91-236">срсконфспеакерстатус</span><span class="sxs-lookup"><span data-stu-id="dec91-236">SRSConfSpeakerStatus</span></span>        | <span data-ttu-id="dec91-237">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-237">**3001**</span></span>     | <span data-ttu-id="dec91-238">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-238">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="dec91-239">Состояние динамика по умолчанию</span><span class="sxs-lookup"><span data-stu-id="dec91-239">Default Speaker status</span></span>           | <span data-ttu-id="dec91-240">срсдефаултспеакерстатус</span><span class="sxs-lookup"><span data-stu-id="dec91-240">SRSDefaultSpeakerStatus</span></span>     | <span data-ttu-id="dec91-241">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-241">**3001**</span></span>     | <span data-ttu-id="dec91-242">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-242">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="dec91-243">Состояние камеры</span><span class="sxs-lookup"><span data-stu-id="dec91-243">Camera status</span></span>                    | <span data-ttu-id="dec91-244">срскамерастатус</span><span class="sxs-lookup"><span data-stu-id="dec91-244">SRSCameraStatus</span></span>             | <span data-ttu-id="dec91-245">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-245">**3001**</span></span>     | <span data-ttu-id="dec91-246">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-246">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="dec91-247">Состояние отображения на передней стороне комнаты</span><span class="sxs-lookup"><span data-stu-id="dec91-247">Front of Room Display status</span></span>     | <span data-ttu-id="dec91-248">срсфордстатус</span><span class="sxs-lookup"><span data-stu-id="dec91-248">SRSFORDStatus</span></span>               | <span data-ttu-id="dec91-249">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-249">**3001**</span></span>     | <span data-ttu-id="dec91-250">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-250">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="dec91-251">Состояние датчика движения</span><span class="sxs-lookup"><span data-stu-id="dec91-251">Motion Sensor status</span></span>             | <span data-ttu-id="dec91-252">срсмотионсенсорстатус</span><span class="sxs-lookup"><span data-stu-id="dec91-252">SRSMotionSensorStatus</span></span>       | <span data-ttu-id="dec91-253">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-253">**3001**</span></span>     | <span data-ttu-id="dec91-254">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-254">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |
| <span data-ttu-id="dec91-255">Состояние приема HDMI</span><span class="sxs-lookup"><span data-stu-id="dec91-255">HDMI Ingest status</span></span>               | <span data-ttu-id="dec91-256">сршдмиинжестстатус</span><span class="sxs-lookup"><span data-stu-id="dec91-256">SRSHDMIIngestStatus</span></span>         | <span data-ttu-id="dec91-257">**3001**</span><span class="sxs-lookup"><span data-stu-id="dec91-257">**3001**</span></span>     | <span data-ttu-id="dec91-258">Событие \| , в котором Source = = "SRS-App" и EventID = = 3001</span><span class="sxs-lookup"><span data-stu-id="dec91-258">Event \| where Source == "SRS-App" and EventID == 3001</span></span> |


## <a name="define-the-no-loc-textmicrosoft-teams-rooms-views-in-no-loc-textlog-analytics"></a><span data-ttu-id="dec91-259">Определение :::no-loc text="Microsoft Teams Rooms"::: представлений в:::no-loc text="Log Analytics":::</span><span class="sxs-lookup"><span data-stu-id="dec91-259">Define the :::no-loc text="Microsoft Teams Rooms"::: views in :::no-loc text="Log Analytics":::</span></span>
<span data-ttu-id="dec91-260"><a name="Define_Views"> </a></span><span class="sxs-lookup"><span data-stu-id="dec91-260"></span></span>

<span data-ttu-id="dec91-261">После сбора данных и сопоставления настраиваемых полей можно использовать конструктор представлений для разработки панели мониторинга с различными плитками для наблюдения за :::no-loc text="Microsoft Teams Rooms"::: событиями.</span><span class="sxs-lookup"><span data-stu-id="dec91-261">After data is collected and custom fields are mapped, you can use View Designer to develop a dashboard containing various tiles to monitor :::no-loc text="Microsoft Teams Rooms"::: events.</span></span> <span data-ttu-id="dec91-262">Используйте конструктор представлений для создания следующих плиток.</span><span class="sxs-lookup"><span data-stu-id="dec91-262">Use View Designer to create the following tiles.</span></span> <span data-ttu-id="dec91-263">Дополнительные сведения можно найти [в разделе Создание настраиваемых представлений с помощью конструктора :::no-loc text="Log Analytics"::: представлений в](https://docs.microsoft.com/azure/azure-monitor/platform/view-designer)</span><span class="sxs-lookup"><span data-stu-id="dec91-263">For more information, see [Create custom views by using View Designer in :::no-loc text="Log Analytics":::](https://docs.microsoft.com/azure/azure-monitor/platform/view-designer)</span></span>

> [!NOTE]
> <span data-ttu-id="dec91-264">Предыдущие шаги в этом руководстве должны быть выполнены для правильной работы плиток панели мониторинга.</span><span class="sxs-lookup"><span data-stu-id="dec91-264">Previous steps in this guide should have been completed for the dashboard tiles to work properly.</span></span>

### <a name="create-a-microsoft-teams-rooms-dashboard-by-using-the-import-method"></a><span data-ttu-id="dec91-265">Создание панели мониторинга Microsoft Teams с помощью метода импорта</span><span class="sxs-lookup"><span data-stu-id="dec91-265">Create a Microsoft Teams Rooms dashboard by using the import method</span></span>

<span data-ttu-id="dec91-266">Вы можете импортировать :::no-loc text="Microsoft Teams Rooms"::: панель мониторинга и быстро начать наблюдение за устройствами.</span><span class="sxs-lookup"><span data-stu-id="dec91-266">You can import an :::no-loc text="Microsoft Teams Rooms"::: dashboard and start monitoring your devices quickly.</span></span> <span data-ttu-id="dec91-267">Чтобы импортировать панель мониторинга, выполните указанные ниже действия.</span><span class="sxs-lookup"><span data-stu-id="dec91-267">Take the following steps to import the dashboard:</span></span>

1.  <span data-ttu-id="dec91-268">Скачайте файл панели мониторинга [SkypeRoomSystems_v2. омсвиев](https://go.microsoft.com/fwlink/?linkid=835675) .</span><span class="sxs-lookup"><span data-stu-id="dec91-268">Get the [SkypeRoomSystems_v2.omsview](https://go.microsoft.com/fwlink/?linkid=835675) dashboard file.</span></span>
2.  <span data-ttu-id="dec91-269">Войдите на [ :::no-loc text="Microsoft Azure"::: портал](https://portal.azure.com) и перейдите в :::no-loc text="Log Analytics"::: рабочую область и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="dec91-269">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>
3.  <span data-ttu-id="dec91-270">Откройте **Конструктор представлений**.</span><span class="sxs-lookup"><span data-stu-id="dec91-270">Open **View Designer**.</span></span>
4.  <span data-ttu-id="dec91-271">Нажмите кнопку **Импорт**, а затем выберите файл **SkypeRoomSystems_v2. омсвиев** .</span><span class="sxs-lookup"><span data-stu-id="dec91-271">Select **Import**, and then select the **SkypeRoomSystems_v2.omsview** file.</span></span>
5.  <span data-ttu-id="dec91-272">Нажмите кнопку **сохранить**.</span><span class="sxs-lookup"><span data-stu-id="dec91-272">Select **Save**.</span></span>

### <a name="create-a-microsoft-teams-rooms-dashboard-manually"></a><span data-ttu-id="dec91-273">Создание панели мониторинга Microsoft Teams в помещениях вручную</span><span class="sxs-lookup"><span data-stu-id="dec91-273">Create a Microsoft Teams Rooms dashboard manually</span></span>

<span data-ttu-id="dec91-274">Кроме того, вы можете создать собственную панель мониторинга и добавить только плитки, которые вы хотите отслеживать.</span><span class="sxs-lookup"><span data-stu-id="dec91-274">Alternatively, you can create your own dashboard and add only the tiles that you wish to monitor.</span></span>

#### <a name="configure-the-overview-tile"></a><span data-ttu-id="dec91-275">Настройка плитки обзора</span><span class="sxs-lookup"><span data-stu-id="dec91-275">Configure the Overview Tile</span></span>

1.  <span data-ttu-id="dec91-276">Откройте **Конструктор представлений**.</span><span class="sxs-lookup"><span data-stu-id="dec91-276">Open **View Designer**.</span></span>
2.  <span data-ttu-id="dec91-277">Щелкните **плитку обзор**и выберите в коллекции **два числа** .</span><span class="sxs-lookup"><span data-stu-id="dec91-277">Select **Overview Tile**, and then select **Two numbers** from the gallery.</span></span>
3.  <span data-ttu-id="dec91-278">Присвойте плитке **:::no-loc text="Microsoft Teams Rooms":::** имя.</span><span class="sxs-lookup"><span data-stu-id="dec91-278">Name the tile **:::no-loc text="Microsoft Teams Rooms":::**.</span></span>
4.  <span data-ttu-id="dec91-279">Определите **первый фрагмент**:</span><span class="sxs-lookup"><span data-stu-id="dec91-279">Define the **First Tile**:</span></span><br>
    <span data-ttu-id="dec91-280">**Условные обозначения:** Устройства, которые отправили пакеты пульса хотя бы один раз в течение прошлого месяца</span><span class="sxs-lookup"><span data-stu-id="dec91-280">**Legend:** Devices that sent a heartbeat at least once within the last month</span></span><br>
    <span data-ttu-id="dec91-281">**Запрос:**```Event | where EventLog == "Skype Room System" and TimeGenerated > ago(30d) | summarize TotalSRSDevices = dcount(Computer)```</span><span class="sxs-lookup"><span data-stu-id="dec91-281">**Query:** ```Event | where EventLog == "Skype Room System" and TimeGenerated > ago(30d) | summarize TotalSRSDevices = dcount(Computer)```</span></span>
5.  <span data-ttu-id="dec91-282">Определите **вторую плитку**.</span><span class="sxs-lookup"><span data-stu-id="dec91-282">Define the **Second Tile**:</span></span><br>
    <span data-ttu-id="dec91-283">**Условные обозначения:** Активные устройства, которые отправили пульс за последний час</span><span class="sxs-lookup"><span data-stu-id="dec91-283">**Legend:** Active devices that sent a heartbeat within the last hour</span></span><br>
    <span data-ttu-id="dec91-284">**Запрос:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(1h) | summarize TotalSRSDevices = dcount(Computer)```</span><span class="sxs-lookup"><span data-stu-id="dec91-284">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(1h) | summarize TotalSRSDevices = dcount(Computer)```</span></span>
6.  <span data-ttu-id="dec91-285">Нажмите кнопку **Применить**.</span><span class="sxs-lookup"><span data-stu-id="dec91-285">Select **Apply**.</span></span>

### <a name="create-a-tile-that-displays-active-devices"></a><span data-ttu-id="dec91-286">Создание плитки, отображающей активные устройства</span><span class="sxs-lookup"><span data-stu-id="dec91-286">Create a tile that displays active devices</span></span>

1.  <span data-ttu-id="dec91-287">Нажмите кнопку **Просмотр панели мониторинга** , чтобы начать добавление плиток.</span><span class="sxs-lookup"><span data-stu-id="dec91-287">Select **View Dashboard** to start adding your tiles.</span></span>
2.  <span data-ttu-id="dec91-288">Выберите **число & списка** из коллекции</span><span class="sxs-lookup"><span data-stu-id="dec91-288">Select **Number & list** from the gallery</span></span>
3.  <span data-ttu-id="dec91-289">Определите **Общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="dec91-289">Define the **General** properties:</span></span><br>
    <span data-ttu-id="dec91-290">**Название группы:** Состояние пульса</span><span class="sxs-lookup"><span data-stu-id="dec91-290">**Group Title:** Heartbeat Status</span></span><br>
    <span data-ttu-id="dec91-291">**Новая Группа:** Выбрал</span><span class="sxs-lookup"><span data-stu-id="dec91-291">**New Group:** Selected</span></span>
4.  <span data-ttu-id="dec91-292">Определите свойства **плитки** .</span><span class="sxs-lookup"><span data-stu-id="dec91-292">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="dec91-293">**Условные обозначения:** Активные устройства (пакеты пульса, отправленные за последние 20 минут)</span><span class="sxs-lookup"><span data-stu-id="dec91-293">**Legend:** Active devices (heartbeat sent in the last 20 minutes)</span></span><br>
    <span data-ttu-id="dec91-294">\*\*Запрос для плитки: \*\* ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="dec91-294">**Tile Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize AggregatedValue = count() by Computer | count```</span></span>
5.  <span data-ttu-id="dec91-295">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-295">Define the **List** properties:</span></span><br>
    <span data-ttu-id="dec91-296">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="dec91-296">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" and TimeGenerated > ago(20m) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
6.  <span data-ttu-id="dec91-297">Определение **заголовков столбцов**:</span><span class="sxs-lookup"><span data-stu-id="dec91-297">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="dec91-298">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-298">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-299">**Value (значение):** Последний периодических сигналов</span><span class="sxs-lookup"><span data-stu-id="dec91-299">**Value:** Last Heartbeat</span></span>
7.  <span data-ttu-id="dec91-300">Определение **запроса навигации**.</span><span class="sxs-lookup"><span data-stu-id="dec91-300">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="dec91-301">Нажмите кнопку **Применить**, а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-301">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-connectivity-issues"></a><span data-ttu-id="dec91-302">Создание плитки, на которой отображаются устройства с неполадками подключения</span><span class="sxs-lookup"><span data-stu-id="dec91-302">Create a tile that displays devices that have connectivity issues</span></span>

1.  <span data-ttu-id="dec91-303">В коллекции выберите **число & список** и добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="dec91-303">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="dec91-304">Определите **Общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="dec91-304">Define the **General** properties:</span></span><br>
    <span data-ttu-id="dec91-305">**Название группы:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="dec91-305">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="dec91-306">**Новая Группа:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="dec91-306">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="dec91-307">Определите свойства **плитки** .</span><span class="sxs-lookup"><span data-stu-id="dec91-307">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="dec91-308">**Условные обозначения:** Неактивные устройства (за последние 20 минут не отправлялись пакеты пульса)</span><span class="sxs-lookup"><span data-stu-id="dec91-308">**Legend:** Inactive Devices (no heartbeat message sent in the last 20 minutes)</span></span><br>
    <span data-ttu-id="dec91-309">\*\*Запрос для плитки: \*\* ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize LastHB = max(TimeGenerated) by Computer | where LastHB < ago(20m) | count```</span><span class="sxs-lookup"><span data-stu-id="dec91-309">**Tile Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize LastHB = max(TimeGenerated) by Computer | where LastHB < ago(20m) | count```</span></span>
4.  <span data-ttu-id="dec91-310">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-310">Define the **List** properties:</span></span><br>
    <span data-ttu-id="dec91-311">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize TimeGenerated = max(TimeGenerated) by Computer | where TimeGenerated < ago(20m) | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="dec91-311">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize TimeGenerated = max(TimeGenerated) by Computer | where TimeGenerated < ago(20m) | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="dec91-312">Определение **заголовков столбцов**:</span><span class="sxs-lookup"><span data-stu-id="dec91-312">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="dec91-313">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-313">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-314">**Value (значение):** Последний периодических сигналов</span><span class="sxs-lookup"><span data-stu-id="dec91-314">**Value:** Last Heartbeat</span></span>
6.  <span data-ttu-id="dec91-315">Определение **запроса навигации**:</span><span class="sxs-lookup"><span data-stu-id="dec91-315">Define **Navigation Query**:</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
7.  <span data-ttu-id="dec91-316">Нажмите кнопку **Применить**, а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-316">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-a-hardware-error"></a><span data-ttu-id="dec91-317">Создание плитки, на которой выводятся устройства с аппаратной ошибкой</span><span class="sxs-lookup"><span data-stu-id="dec91-317">Create a tile that displays devices that have a hardware error</span></span>

1.  <span data-ttu-id="dec91-318">В коллекции выберите **число & список** и добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="dec91-318">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="dec91-319">Определите **Общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="dec91-319">Define the **General** properties:</span></span><br>
    <span data-ttu-id="dec91-320">**Название группы:** Состояние оборудования</span><span class="sxs-lookup"><span data-stu-id="dec91-320">**Group Title:** Hardware Status</span></span><br>
    <span data-ttu-id="dec91-321">**Новая Группа:** Выбрал</span><span class="sxs-lookup"><span data-stu-id="dec91-321">**New Group:** Selected</span></span>
3.  <span data-ttu-id="dec91-322">Определите свойства **плитки** .</span><span class="sxs-lookup"><span data-stu-id="dec91-322">Define the **Tile** properties:</span></span><br>
    <span data-ttu-id="dec91-323">**Условные обозначения:** Устройства, на которых произошла ошибка оборудования за последний час</span><span class="sxs-lookup"><span data-stu-id="dec91-323">**Legend:** Devices that experienced a hardware error in the last hour</span></span><br>
    <span data-ttu-id="dec91-324">\*\*Запрос для плитки: \*\* ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="dec91-324">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="dec91-325">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-325">Define the **List** properties:</span></span><br>
    <span data-ttu-id="dec91-326">**Запрос списка:**```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="dec91-326">**List Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="dec91-327">Определение **заголовков столбцов**:</span><span class="sxs-lookup"><span data-stu-id="dec91-327">Define **Column Titles**:</span></span><br>
    <span data-ttu-id="dec91-328">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-328">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-329">**Value (значение):** Последняя ошибка</span><span class="sxs-lookup"><span data-stu-id="dec91-329">**Value:** Last Error</span></span>
6.  <span data-ttu-id="dec91-330">Определение **запроса навигации**:</span><span class="sxs-lookup"><span data-stu-id="dec91-330">Define **Navigation Query**:</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == 3001 and EventLevelName == "Error" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSConfMicrophoneStatus_CF, SRSConfSpeakerStatus_CF, SRSDefaultSpeakerStatus_CF, SRSCameraStatus_CF, SRSFORDStatus_CF, SRSMotionSensorStatus_CF, SRSHDMIIngestStatus_CF, SRSEventDescription_CF | sort by TimeGenerated desc```
7.  <span data-ttu-id="dec91-331">Нажмите кнопку **Применить**, а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-331">Select **Apply**, and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-no-loc-textmicrosoft-teams-rooms-operating-system-versions"></a><span data-ttu-id="dec91-332">Создание плитки, в которой :::no-loc text="Microsoft Teams Rooms"::: выводятся версии операционной системы</span><span class="sxs-lookup"><span data-stu-id="dec91-332">Create a tile that displays :::no-loc text="Microsoft Teams Rooms"::: Operating System versions</span></span>

1.  <span data-ttu-id="dec91-333">Выберите в коллекции **& список "кольца** ", а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="dec91-333">Select **Donut & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="dec91-334">Определите **Общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="dec91-334">Define the **General** properties:</span></span><br>
    <span data-ttu-id="dec91-335">**Название группы:** Сведения об операционной системе</span><span class="sxs-lookup"><span data-stu-id="dec91-335">**Group Title:** Operating System details</span></span><br>
    <span data-ttu-id="dec91-336">**Новая Группа:** Выбрал</span><span class="sxs-lookup"><span data-stu-id="dec91-336">**New Group:** Selected</span></span>
3.  <span data-ttu-id="dec91-337">Определите свойства **верхнего колонтитула** .</span><span class="sxs-lookup"><span data-stu-id="dec91-337">Define the **Header** properties:</span></span><br>
    <span data-ttu-id="dec91-338">**Название:** Версии операционной системы</span><span class="sxs-lookup"><span data-stu-id="dec91-338">**Title:** Operating System versions</span></span><br>
    <span data-ttu-id="dec91-339">**Подзаголовок:** Устройства с определенными версиями ОС</span><span class="sxs-lookup"><span data-stu-id="dec91-339">**Subtitle:** Devices running specific OS versions</span></span>
4.  <span data-ttu-id="dec91-340">Определите свойства **кольца** :</span><span class="sxs-lookup"><span data-stu-id="dec91-340">Define the **Donut** properties:</span></span><br>
    <span data-ttu-id="dec91-341">**Запрос:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize OS_Version = max(SRSOSLongVersion_CF) by Computer | summarize AggregatedValue = count() by OS_Version | sort by OS_Version asc```</span><span class="sxs-lookup"><span data-stu-id="dec91-341">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize OS_Version = max(SRSOSLongVersion_CF) by Computer | summarize AggregatedValue = count() by OS_Version | sort by OS_Version asc```</span></span><br>
    <span data-ttu-id="dec91-342">**Выровнять текст по центру:** Устройств</span><span class="sxs-lookup"><span data-stu-id="dec91-342">**Center Text:** Devices</span></span><br>
    <span data-ttu-id="dec91-343">**Операция:** Сумма</span><span class="sxs-lookup"><span data-stu-id="dec91-343">**Operation:** Sum</span></span>
5.  <span data-ttu-id="dec91-344">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-344">Define the **List** properties.</span></span><br>
    <span data-ttu-id="dec91-345">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSOSLongVersion_CF = max(SRSOSLongVersion_CF) by Computer | sort by Computer asc```</span><span class="sxs-lookup"><span data-stu-id="dec91-345">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSOSLongVersion_CF = max(SRSOSLongVersion_CF) by Computer | sort by Computer asc```</span></span><br>
    <span data-ttu-id="dec91-346">**Скрыть диаграмму:** Выбрал</span><span class="sxs-lookup"><span data-stu-id="dec91-346">**Hide Graph:** Selected</span></span><br>
    <span data-ttu-id="dec91-347">**Включите спарклайны:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="dec91-347">**Enable Sparklines:** Not selected</span></span>
6.  <span data-ttu-id="dec91-348">Определение **заголовков столбцов**.</span><span class="sxs-lookup"><span data-stu-id="dec91-348">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="dec91-349">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-349">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-350">**Value (значение):** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="dec91-350">**Value:** Leave Empty</span></span>
7.  <span data-ttu-id="dec91-351">Определение **запроса навигации**.</span><span class="sxs-lookup"><span data-stu-id="dec91-351">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSDisplayName_CF, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="dec91-352">Нажмите кнопку **Применить** , а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-352">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-no-loc-textmicrosoft-teams-rooms-application-versions"></a><span data-ttu-id="dec91-353">Создание плитки, отображающей :::no-loc text="Microsoft Teams Rooms"::: версии приложения</span><span class="sxs-lookup"><span data-stu-id="dec91-353">Create a tile that displays :::no-loc text="Microsoft Teams Rooms"::: application versions</span></span>

1.  <span data-ttu-id="dec91-354">Выберите в коллекции **& список "кольца** ", а затем добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="dec91-354">Select **Donut & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="dec91-355">Определите **Общие** свойства:</span><span class="sxs-lookup"><span data-stu-id="dec91-355">Define the **General** properties:</span></span><br>
    <span data-ttu-id="dec91-356">**Заголовок группы:** :::no-loc text="Microsoft Teams Rooms"::: сведения о приложении</span><span class="sxs-lookup"><span data-stu-id="dec91-356">**Group Title:** :::no-loc text="Microsoft Teams Rooms"::: application details</span></span><br>
    <span data-ttu-id="dec91-357">**Новая Группа:** Выбрал</span><span class="sxs-lookup"><span data-stu-id="dec91-357">**New Group:** Selected</span></span>
3.  <span data-ttu-id="dec91-358">Определите свойства **верхнего колонтитула** .</span><span class="sxs-lookup"><span data-stu-id="dec91-358">Define the **Header** properties:</span></span><br>
    <span data-ttu-id="dec91-359">**Название:** Версии приложения</span><span class="sxs-lookup"><span data-stu-id="dec91-359">**Title:** Application versions</span></span><br>
    <span data-ttu-id="dec91-360">**Подзаголовок:** Устройства, на которых выполняются определенные версии приложений</span><span class="sxs-lookup"><span data-stu-id="dec91-360">**Subtitle:** Devices running specific application versions</span></span>
4.  <span data-ttu-id="dec91-361">Определите свойства **кольца** :</span><span class="sxs-lookup"><span data-stu-id="dec91-361">Define the **Donut** properties:</span></span><br>
    <span data-ttu-id="dec91-362">**Запрос:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize App_Version = max(SRSAppVersion_CF) by Computer | summarize AggregatedValue = count() by App_Version | sort by App_Version asc```</span><span class="sxs-lookup"><span data-stu-id="dec91-362">**Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize App_Version = max(SRSAppVersion_CF) by Computer | summarize AggregatedValue = count() by App_Version | sort by App_Version asc```</span></span><br>
    <span data-ttu-id="dec91-363">**Выровнять текст по центру:** Устройств</span><span class="sxs-lookup"><span data-stu-id="dec91-363">**Center Text:** Devices</span></span><br>
    <span data-ttu-id="dec91-364">**Операция:** Сумма</span><span class="sxs-lookup"><span data-stu-id="dec91-364">**Operation:** Sum</span></span>
5.  <span data-ttu-id="dec91-365">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-365">Define the **List** properties.</span></span><br>
    <span data-ttu-id="dec91-366">**Запрос списка:**```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSAppVersion_CF = max(SRSAppVersion_CF) by Computer | sort by Computer asc```</span><span class="sxs-lookup"><span data-stu-id="dec91-366">**List Query:** ```Event | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize SRSAppVersion_CF = max(SRSAppVersion_CF) by Computer | sort by Computer asc```</span></span><br>
    <span data-ttu-id="dec91-367">**Скрыть диаграмму:** Выбрал</span><span class="sxs-lookup"><span data-stu-id="dec91-367">**Hide Graph:** Selected</span></span><br>
    <span data-ttu-id="dec91-368">**Включите спарклайны:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="dec91-368">**Enable Sparklines:** Not selected</span></span>
6.  <span data-ttu-id="dec91-369">Определение **заголовков столбцов**.</span><span class="sxs-lookup"><span data-stu-id="dec91-369">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="dec91-370">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-370">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-371">**Value (значение):** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="dec91-371">**Value:** Leave Empty</span></span>
7.  <span data-ttu-id="dec91-372">Определение **запроса навигации**.</span><span class="sxs-lookup"><span data-stu-id="dec91-372">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and SRSOperationName_CF == "Heartbeat" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
8.  <span data-ttu-id="dec91-373">Нажмите кнопку **Применить** , а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-373">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-an-application-error"></a><span data-ttu-id="dec91-374">Создание плитки, на которой отображаются устройства с ошибкой приложения</span><span class="sxs-lookup"><span data-stu-id="dec91-374">Create a tile that displays devices that have an application error</span></span>

1.  <span data-ttu-id="dec91-375">В коллекции выберите **число & список** и добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="dec91-375">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="dec91-376">Определите **Общие** свойства.</span><span class="sxs-lookup"><span data-stu-id="dec91-376">Define the **General** properties.</span></span><br>
    <span data-ttu-id="dec91-377">**Название группы:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="dec91-377">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="dec91-378">**Новая Группа:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="dec91-378">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="dec91-379">Определите свойства **плитки** .</span><span class="sxs-lookup"><span data-stu-id="dec91-379">Define the **Tile** properties.</span></span><br>
    <span data-ttu-id="dec91-380">**Условные обозначения:** Устройства, на которых возникла ошибка приложения за последний час</span><span class="sxs-lookup"><span data-stu-id="dec91-380">**Legend:** Devices that experienced an application error in the last hour</span></span><br>
    <span data-ttu-id="dec91-381">\*\*Запрос для плитки: \*\* ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="dec91-381">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="dec91-382">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-382">Define the **List** properties.</span></span><br>
    <span data-ttu-id="dec91-383">**Запрос списка:**```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span><span class="sxs-lookup"><span data-stu-id="dec91-383">**List Query:** ```Event | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h) | summarize TimeGenerated = max(TimeGenerated) by Computer | order by TimeGenerated```</span></span>
5.  <span data-ttu-id="dec91-384">Определение **заголовков столбцов**.</span><span class="sxs-lookup"><span data-stu-id="dec91-384">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="dec91-385">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-385">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-386">**Value (значение):** Последняя ошибка</span><span class="sxs-lookup"><span data-stu-id="dec91-386">**Value:** Last Error</span></span>
6.  <span data-ttu-id="dec91-387">Определение **запроса навигации**.</span><span class="sxs-lookup"><span data-stu-id="dec91-387">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == 2001 and EventLevelName == "Error" | summarize arg_max(TimeGenerated, *) by Computer | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF | sort by TimeGenerated desc```
7.  <span data-ttu-id="dec91-388">Нажмите кнопку **Применить** , а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-388">Select **Apply** and then **Close**.</span></span>

### <a name="create-a-tile-that-displays-devices-that-have-been-restarted"></a><span data-ttu-id="dec91-389">Создание плитки, отображающей устройства, которые были перезапущены</span><span class="sxs-lookup"><span data-stu-id="dec91-389">Create a tile that displays devices that have been restarted</span></span>

1.  <span data-ttu-id="dec91-390">В коллекции выберите **число & список** и добавьте новую плитку.</span><span class="sxs-lookup"><span data-stu-id="dec91-390">Select **Number & list** from the gallery, and then add a new tile.</span></span>
2.  <span data-ttu-id="dec91-391">Определите **Общие** свойства.</span><span class="sxs-lookup"><span data-stu-id="dec91-391">Define the **General** properties.</span></span><br>
    <span data-ttu-id="dec91-392">**Название группы:** Оставьте пустым</span><span class="sxs-lookup"><span data-stu-id="dec91-392">**Group Title:** Leave empty</span></span><br>
    <span data-ttu-id="dec91-393">**Новая Группа:** Не выбрано</span><span class="sxs-lookup"><span data-stu-id="dec91-393">**New Group:** Not Selected</span></span>
3.  <span data-ttu-id="dec91-394">Определите свойства **плитки** .</span><span class="sxs-lookup"><span data-stu-id="dec91-394">Define the **Tile** properties.</span></span><br>
    <span data-ttu-id="dec91-395">**Условные обозначения:** Устройства, на которых приложение было перезагружено за последние 24 часа, и количество перезапусков</span><span class="sxs-lookup"><span data-stu-id="dec91-395">**Legend:** Devices where the application was restarted in the last 24 hours, and number of restarts</span></span><br>
    <span data-ttu-id="dec91-396">\*\*Запрос для плитки: \*\* ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer | count```</span><span class="sxs-lookup"><span data-stu-id="dec91-396">**Tile Query:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | summarize AggregatedValue = count() by Computer | count```</span></span>
4.  <span data-ttu-id="dec91-397">Определите свойства **списка** .</span><span class="sxs-lookup"><span data-stu-id="dec91-397">Define the **List** properties.</span></span><br>
    <span data-ttu-id="dec91-398">**Запрос списка:**```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | order by TimeGenerated | summarize AggregatedValue = count(EventID) by Computer```</span><span class="sxs-lookup"><span data-stu-id="dec91-398">**List Query:** ```Event | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | order by TimeGenerated | summarize AggregatedValue = count(EventID) by Computer```</span></span>
5.  <span data-ttu-id="dec91-399">Определение **заголовков столбцов**.</span><span class="sxs-lookup"><span data-stu-id="dec91-399">Define **Column Titles**.</span></span><br>
    <span data-ttu-id="dec91-400">**Name (имя):** Имя компьютера</span><span class="sxs-lookup"><span data-stu-id="dec91-400">**Name:** Computer Name</span></span><br>
    <span data-ttu-id="dec91-401">**Value (значение):** Количество перезапусков</span><span class="sxs-lookup"><span data-stu-id="dec91-401">**Value:** Number of Restarts</span></span>
6.  <span data-ttu-id="dec91-402">Определение **запроса навигации**.</span><span class="sxs-lookup"><span data-stu-id="dec91-402">Define **Navigation Query**.</span></span><br>
    ```search {selected item} | where EventLog == "Skype Room System" and EventID == "4000" and TimeGenerated > ago(24h) | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF```
7.  <span data-ttu-id="dec91-403">Нажмите кнопку **Применить** , а затем — **Закрыть**.</span><span class="sxs-lookup"><span data-stu-id="dec91-403">Select **Apply** and then **Close**.</span></span>
8.  <span data-ttu-id="dec91-404">Нажмите кнопку **сохранить** , чтобы сохранить панель мониторинга.</span><span class="sxs-lookup"><span data-stu-id="dec91-404">Select **Save** to save your dashboard.</span></span>

<span data-ttu-id="dec91-405">Теперь вы закончите создание представлений.</span><span class="sxs-lookup"><span data-stu-id="dec91-405">Now you’ve completed creating your views.</span></span>

## <a name="configure-alerts-in-no-loc-textazure-monitor"></a><span data-ttu-id="dec91-406">Настройка оповещений в:::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="dec91-406">Configure Alerts in :::no-loc text="Azure Monitor":::</span></span>
<span data-ttu-id="dec91-407"><a name="Alerts"> </a></span><span class="sxs-lookup"><span data-stu-id="dec91-407"></span></span>

<span data-ttu-id="dec91-408">:::no-loc text="Azure Monitor":::может создавать оповещения, уведомляющие администраторов о проблемах, :::no-loc text="Microsoft Teams Rooms"::: возникающие при возникновении проблем с консолью.</span><span class="sxs-lookup"><span data-stu-id="dec91-408">:::no-loc text="Azure Monitor"::: can raise alerts to notify the administrators, when a :::no-loc text="Microsoft Teams Rooms"::: console encounters an issue.</span></span>

<span data-ttu-id="dec91-409">:::no-loc text="Azure Monitor":::включает встроенный механизм предупреждений, который запускается через запланированные операции поиска по журналу через регулярные интервалы.</span><span class="sxs-lookup"><span data-stu-id="dec91-409">:::no-loc text="Azure Monitor"::: includes a built-in alerting mechanism that runs through scheduled log searches at regular intervals.</span></span> <span data-ttu-id="dec91-410">Если результаты поиска в журнале совпадают с определенными критериями, создается запись оповещения.</span><span class="sxs-lookup"><span data-stu-id="dec91-410">If the results of the log search match some particular criteria, an alert record is created.</span></span>

<span data-ttu-id="dec91-411">После этого правило может автоматически запускать одно или несколько действий для упреждающего уведомления о предупреждении или вызова другого процесса.</span><span class="sxs-lookup"><span data-stu-id="dec91-411">The rule can then automatically run one or more actions to proactively notify you of the alert or invoke another process.</span></span> <span data-ttu-id="dec91-412">Ниже перечислены возможные параметры оповещения.</span><span class="sxs-lookup"><span data-stu-id="dec91-412">The possible options with alerts are:</span></span>
-   <span data-ttu-id="dec91-413">Отправка сообщения электронной почты</span><span class="sxs-lookup"><span data-stu-id="dec91-413">Sending an email</span></span>
-   <span data-ttu-id="dec91-414">Вызов внешнего процесса посредством запроса HTTP POST</span><span class="sxs-lookup"><span data-stu-id="dec91-414">Invoking an external process through an HTTP POST request</span></span>
-   <span data-ttu-id="dec91-415">Запуск Runbook в :::no-loc text="Azure Automation"::: службе</span><span class="sxs-lookup"><span data-stu-id="dec91-415">Starting a runbook in :::no-loc text="Azure Automation"::: service</span></span>

<span data-ttu-id="dec91-416">Дополнительные сведения об оповещениях можно найти в разделе [оповещения :::no-loc text="Azure Monitor"::: журнала.](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-unified-log) :::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="dec91-416">See [Log alerts in :::no-loc text="Azure Monitor":::](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-unified-log) to learn more about the alerts in :::no-loc text="Azure Monitor":::.</span></span>

> [!NOTE]
> <span data-ttu-id="dec91-417">Ниже приведены примеры отправки уведомлений по электронной почте :::no-loc text="Microsoft Teams Rooms"::: о том, что устройство генерирует оборудование или ошибку приложения.</span><span class="sxs-lookup"><span data-stu-id="dec91-417">The following examples send email alerts when a :::no-loc text="Microsoft Teams Rooms"::: device generates a hardware or an application error.</span></span>

### <a name="configure-an-email-alert-for-no-loc-textmicrosoft-teams-rooms-hardware-issues"></a><span data-ttu-id="dec91-418">Настройка оповещений по электронной :::no-loc text="Microsoft Teams Rooms"::: почте для устранения проблем с оборудованием</span><span class="sxs-lookup"><span data-stu-id="dec91-418">Configure an email alert for :::no-loc text="Microsoft Teams Rooms"::: hardware issues</span></span>

<span data-ttu-id="dec91-419">Настройте правило оповещения, проверяющее наличие :::no-loc text="Microsoft Teams Rooms"::: проблем с оборудованием в течение последнего часа.</span><span class="sxs-lookup"><span data-stu-id="dec91-419">Configure an alert rule that checks for :::no-loc text="Microsoft Teams Rooms"::: devices that have encountered hardware issues within the last hour.</span></span>
1.  <span data-ttu-id="dec91-420">Войдите на [ :::no-loc text="Microsoft Azure"::: портал](https://portal.azure.com) и перейдите в :::no-loc text="Log Analytics"::: рабочую область и выберите ее.</span><span class="sxs-lookup"><span data-stu-id="dec91-420">Sign in to the [:::no-loc text="Microsoft Azure"::: portal](https://portal.azure.com) and go to :::no-loc text="Log Analytics"::: and select your workspace.</span></span>

2. <span data-ttu-id="dec91-421">Перейдите в :::no-loc text="Log Analytics"::: рабочую область и выберите **оповещения** , а затем — **новое правило оповещения** .</span><span class="sxs-lookup"><span data-stu-id="dec91-421">Navigate to your :::no-loc text="Log Analytics"::: workspace and select **Alerts** and then select **New alert rule**</span></span>

3. <span data-ttu-id="dec91-422">Нажмите кнопку **Добавить условие** , а затем — **Настраиваемый поиск журнала** .</span><span class="sxs-lookup"><span data-stu-id="dec91-422">Select **Add condition** and then **Custom log search**</span></span>

4.  <span data-ttu-id="dec91-423">Введите следующий запрос в текстовое поле поискового запроса.</span><span class="sxs-lookup"><span data-stu-id="dec91-423">Enter the following query to the Search query text box.</span></span><br>
    ```
    Event
    | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "3001" and TimeGenerated > ago(1h)
    | summarize arg_max(TimeGenerated, *) by Computer
    | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSConfMicrophoneStatus_CF, SRSConfSpeakerStatus_CF, SRSDefaultSpeakerStatus_CF, SRSCameraStatus_CF, SRSFORDStatus_CF, SRSMotionSensorStatus_CF, SRSHDMIIngestStatus_CF, SRSEventDescription_CF
    |sort by TimeGenerated desc
    ```

5.  <span data-ttu-id="dec91-424">Настройте параметры логики оповещений.</span><span class="sxs-lookup"><span data-stu-id="dec91-424">Configure the Alert logic settings:</span></span><br>
    <span data-ttu-id="dec91-425">На **основе:** Число результатов</span><span class="sxs-lookup"><span data-stu-id="dec91-425">**Based on:** Number of results</span></span><br>
    <span data-ttu-id="dec91-426">**Условие:** Больше</span><span class="sxs-lookup"><span data-stu-id="dec91-426">**Condition:** Greater then</span></span><br>
    <span data-ttu-id="dec91-427">**Трешолд:** 0</span><span class="sxs-lookup"><span data-stu-id="dec91-427">**Treshold:** 0</span></span><br>

6. <span data-ttu-id="dec91-428">Настройте параметры оценки и нажмите кнопку **Готово**.</span><span class="sxs-lookup"><span data-stu-id="dec91-428">Configure Evaluation settings and select **Done**:</span></span> <br>
    <span data-ttu-id="dec91-429">**Период (в минутах):** 60</span><span class="sxs-lookup"><span data-stu-id="dec91-429">**Period (in minutes):** 60</span></span><br>
    <span data-ttu-id="dec91-430">**Частота (в минутах):** 60</span><span class="sxs-lookup"><span data-stu-id="dec91-430">**Frequency (in minutes):** 60</span></span><br>

7. <span data-ttu-id="dec91-431">Настройка групп действий:</span><span class="sxs-lookup"><span data-stu-id="dec91-431">Configure action groups:</span></span>
    1.  <span data-ttu-id="dec91-432">Нажмите кнопку " **создать новый** ".</span><span class="sxs-lookup"><span data-stu-id="dec91-432">Select **Create New**</span></span>
    2.  <span data-ttu-id="dec91-433">Укажите подходящие имена для полей " *имя группы действий* " и " *Краткое имя* ".</span><span class="sxs-lookup"><span data-stu-id="dec91-433">Provide suitable names for the *Action group name* and *Short Name* fields.</span></span>
    3.  <span data-ttu-id="dec91-434">Укажите уникальное *имя действия* и выберите **Электронная почта, SMS/Push/Voice**и нажмите кнопку **изменить сведения**.</span><span class="sxs-lookup"><span data-stu-id="dec91-434">Specify a unique *Action Name* and select **Email/SMS/Push/Voice**, and then select **Edit details**.</span></span>
    4.  <span data-ttu-id="dec91-435">Установите флажок Электронная почта и укажите адрес электронной почты пользователя или группы, которые будут получать оповещения.</span><span class="sxs-lookup"><span data-stu-id="dec91-435">Select the Email checkbox and provide the email address of the person or group that will recieve the alerts.</span></span>
    5.  <span data-ttu-id="dec91-436">Кроме того, вы можете указать свой номер телефона, чтобы получать уведомления с помощью SMS, голосового звонка или и того, и другого.</span><span class="sxs-lookup"><span data-stu-id="dec91-436">You may also provide your phone number to get notified with SMS, a voice call or both.</span></span>
    6. <span data-ttu-id="dec91-437">Нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="dec91-437">Select **OK**.</span></span>

8. <span data-ttu-id="dec91-438">**Настройте действия** , чтобы перекрыть строку темы сообщений с оповещениями.</span><span class="sxs-lookup"><span data-stu-id="dec91-438">**Customize Actions** if you like to override the subject line of the alert emails.</span></span>

9. <span data-ttu-id="dec91-439">Укажите имя и описание правила.</span><span class="sxs-lookup"><span data-stu-id="dec91-439">Specify a rule name and description.</span></span><br>
    <span data-ttu-id="dec91-440">**Имя правила:** :::no-loc text="Microsoft Teams Rooms"::: оповещение о сбое оборудования</span><span class="sxs-lookup"><span data-stu-id="dec91-440">**Rule Name:** :::no-loc text="Microsoft Teams Rooms"::: Hardware Failure Alert</span></span><br>
    <span data-ttu-id="dec91-441">**Описание:** Список устройств, для которых возникла неполадка с оборудованием в течение последнего часа</span><span class="sxs-lookup"><span data-stu-id="dec91-441">**Description:** List of devices that encountered a hardware issue within the last hour</span></span><br>

10. <span data-ttu-id="dec91-442">Выберите предполагаемый уровень важности и убедитесь, что правило включено.</span><span class="sxs-lookup"><span data-stu-id="dec91-442">Select the intended severity and make sure the rule is enabled.</span></span>

11. <span data-ttu-id="dec91-443">Выберите **создать правило оповещения**.</span><span class="sxs-lookup"><span data-stu-id="dec91-443">Select **Create alert rule**.</span></span>

### <a name="configure-an-email-alert-for-no-loc-textmicrosoft-teams-rooms-application-issues"></a><span data-ttu-id="dec91-444">Настройка оповещений по электронной :::no-loc text="Microsoft Teams Rooms"::: почте для проблем с приложениями</span><span class="sxs-lookup"><span data-stu-id="dec91-444">Configure an email alert for :::no-loc text="Microsoft Teams Rooms"::: application issues</span></span>

<span data-ttu-id="dec91-445">Повторите эту процедуру, но используйте следующий запрос, чтобы вывести список устройств, в которых возникли проблемы с приложением за последний час.</span><span class="sxs-lookup"><span data-stu-id="dec91-445">Repeat the same procedure but use the following query to list devices that have encountered application issues within the last hour.</span></span>

    ```
    Event
    | where EventLog == "Skype Room System" and EventLevelName == "Error" and EventID == "2001" and TimeGenerated > ago(1h)
    | summarize arg_max(TimeGenerated, *) by Computer
    | project TimeGenerated, Computer, SRSAlias_CF, SRSAppVersion_CF, SRSOSVersion_CF, SRSOSLongVersion_CF, SRSIPv4Address_CF, SRSIPv6Address_CF, SRSOperationName_CF, SRSOperationResult_CF, SRSResourceState_CF, SRSEventDescription_CF
    | sort by TimeGenerated desc
    ```

<span data-ttu-id="dec91-446">Теперь вы завершили определение оповещений.</span><span class="sxs-lookup"><span data-stu-id="dec91-446">Now you’ve completed defining alerts.</span></span> <span data-ttu-id="dec91-447">Вы можете определить дополнительные оповещения, выполнив приведенные выше примеры.</span><span class="sxs-lookup"><span data-stu-id="dec91-447">You can define additional alerts by using the examples above.</span></span>

<span data-ttu-id="dec91-448">При создании оповещения вы получите сообщение электронной почты со списком устройств, в которых возникла ошибка в течение последнего часа.</span><span class="sxs-lookup"><span data-stu-id="dec91-448">When an alert is generated, you’ll get an email that lists the devices that encountered an issue within the last hour.</span></span>

<span data-ttu-id="dec91-449">! [Образец :::no-loc text="Azure Monitor"::: оповещения по электронной почте] (.. /media/Deploy-Azure-Monitor-6.png "образец :::no-loc text="Azure Monitor"::: оповещения по электронной почте")</span><span class="sxs-lookup"><span data-stu-id="dec91-449">![Sample :::no-loc text="Azure Monitor"::: alert email](../media/Deploy-Azure-Monitor-6.png "Sample :::no-loc text="Azure Monitor"::: alert email")</span></span>

## <a name="configure-all-devices-for-no-loc-textazure-monitoring"></a><span data-ttu-id="dec91-450">Настройка всех устройств для:::no-loc text="Azure Monitoring":::</span><span class="sxs-lookup"><span data-stu-id="dec91-450">Configure all devices for :::no-loc text="Azure Monitoring":::</span></span>
<span data-ttu-id="dec91-451"><a name="configure_all_devices"></a> После настройки панелей мониторинга и оповещений вы можете настроить и настроить :::no-loc text="Microsoft Monitoring"::: агент на всех :::no-loc text="Microsoft Teams Rooms"::: устройствах, чтобы завершить развертывание мониторинга.</span><span class="sxs-lookup"><span data-stu-id="dec91-451"><a name="configure_all_devices"> </a> After the dashboards and alerts are configured, you can set up and configure :::no-loc text="Microsoft Monitoring"::: agent on all :::no-loc text="Microsoft Teams Rooms"::: devices to complete your monitoring deployment.</span></span>

<span data-ttu-id="dec91-452">Несмотря на то, что вы можете :::no-loc text="Microsoft Monitoring"::: установить и настроить агент вручную на каждом устройстве, мы настоятельно рекомендуем использовать существующие инструменты и методы развертывания программного обеспечения.</span><span class="sxs-lookup"><span data-stu-id="dec91-452">Although you can install and configure the :::no-loc text="Microsoft Monitoring"::: agent manually on each device, we highly recommend you leverage existing software deployment tools and methods.</span></span>

<span data-ttu-id="dec91-453">Если вы создаете :::no-loc text="Microsoft Teams Rooms"::: устройства в первый раз, вам может потребоваться включить настройку :::no-loc text="Microsoft Monitoring"::: агента и шаги по настройке в рамках процесса сборки.</span><span class="sxs-lookup"><span data-stu-id="dec91-453">If you’re building your :::no-loc text="Microsoft Teams Rooms"::: devices for the first time, you might want to include the :::no-loc text="Microsoft Monitoring"::: agent setup and configuration steps as part of your build process.</span></span> <span data-ttu-id="dec91-454">Дополнительные сведения можно найти в разделе [Установка агента с помощью командной строки](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#install-the-agent-using-the-command-line).</span><span class="sxs-lookup"><span data-stu-id="dec91-454">For more information, see [Install the agent using the command line](https://docs.microsoft.com/azure/azure-monitor/platform/agent-windows#install-the-agent-using-the-command-line).</span></span>

### <a name="deploying-no-loc-textmicrosoft-monitoring-agent-by-using-a-group-policy-object-gpo"></a><span data-ttu-id="dec91-455">Развертывание :::no-loc text="Microsoft Monitoring"::: агента с помощью объекта групповой политики (GPO)</span><span class="sxs-lookup"><span data-stu-id="dec91-455">Deploying :::no-loc text="Microsoft Monitoring"::: agent by using a Group Policy Object (GPO)</span></span>

<span data-ttu-id="dec91-456">Если вы уже развернули :::no-loc text="Microsoft Teams Rooms"::: устройства перед реализацией :::no-loc text="Azure Monitoring":::, вы можете использовать предоставленный сценарий, чтобы настроить агенты и настроить их с :::no-loc text="Active Directory"::: помощью объектов групповой политики.</span><span class="sxs-lookup"><span data-stu-id="dec91-456">If you already deployed your :::no-loc text="Microsoft Teams Rooms"::: devices before you implement :::no-loc text="Azure Monitoring":::, you can use the provided script to set up and configure the agents by using :::no-loc text="Active Directory"::: group policy objects.</span></span>

1.  <span data-ttu-id="dec91-457">Создание общего сетевого пути и предоставление доступа на чтение к группе **доменные компьютеры** .</span><span class="sxs-lookup"><span data-stu-id="dec91-457">Create a shared network path and grant read access to **Domain Computers** group.</span></span>

2.  <span data-ttu-id="dec91-458">Скачайте версию :::no-loc text="Microsoft Monitoring"::: агента 64-bit для :::no-loc text="Windows":::<https://go.microsoft.com/fwlink/?LinkID=517476></span><span class="sxs-lookup"><span data-stu-id="dec91-458">Download the 64-bit version of the :::no-loc text="Microsoft Monitoring"::: Agent for :::no-loc text="Windows"::: from <https://go.microsoft.com/fwlink/?LinkID=517476></span></span>

3.  <span data-ttu-id="dec91-459">Извлеките содержимое установочного пакета в сетевую папке.</span><span class="sxs-lookup"><span data-stu-id="dec91-459">Extract the contents of the setup package into the network share.</span></span>
    1.  <span data-ttu-id="dec91-460">Открытие окна командной строки с последующим выполнением **MMASetup-AMD64. exe/c**</span><span class="sxs-lookup"><span data-stu-id="dec91-460">Open a Command Prompt window, and then execute **MMASetup-AMD64.exe /c**</span></span>
    2.  <span data-ttu-id="dec91-461">Укажите только что созданный общий доступ и извлеките содержимое.</span><span class="sxs-lookup"><span data-stu-id="dec91-461">Specify the share you just created, and extract the content.</span></span>

4.  <span data-ttu-id="dec91-462">Создайте новый объект групповой политики и назначьте его организационному подразделению, :::no-loc text="Microsoft Teams Rooms"::: в котором находятся учетные записи компьютера.</span><span class="sxs-lookup"><span data-stu-id="dec91-462">Create a new Group Policy Object and assign it to the organizational unit where :::no-loc text="Microsoft Teams Rooms"::: machine accounts are located.</span></span>

5.  <span data-ttu-id="dec91-463">Настройка политики выполнения PowerShell.</span><span class="sxs-lookup"><span data-stu-id="dec91-463">Configure PowerShell execution policy:</span></span>
    1.  <span data-ttu-id="dec91-464">Изменение созданного объекта групповой политики и переход к параметрам политики \\ \\ конфигурации компьютера компоненты \\ :::no-loc text="Windows"::: \\ административных шаблонов:::no-loc text="Windows PowerShell":::</span><span class="sxs-lookup"><span data-stu-id="dec91-464">Edit the newly created Group Policy Object and navigate to Computer Configuration \\ Policies \\ Administrative Templates \\ :::no-loc text="Windows"::: Components \\ :::no-loc text="Windows PowerShell":::</span></span>
    2.  <span data-ttu-id="dec91-465">Включите **выполнение сценария включения** и настройте **политику выполнения** , чтобы **Разрешить локальные сценарии**.</span><span class="sxs-lookup"><span data-stu-id="dec91-465">Enable the **Turn on Script Execution** and set **Execution Policy** to **Allow Local Scripts**.</span></span>

6.  <span data-ttu-id="dec91-466">Настройте сценарий запуска.</span><span class="sxs-lookup"><span data-stu-id="dec91-466">Configure the startup script:</span></span>
    1.  <span data-ttu-id="dec91-467">Скопируйте приведенный ниже сценарий и сохраните его как Инсталл-ммажент. ps1.</span><span class="sxs-lookup"><span data-stu-id="dec91-467">Copy the following script and save it as Install-MMAgent.ps1.</span></span>
    2.  <span data-ttu-id="dec91-468">Измените параметры Воркспацеид, Воркспацекэй и Сетуппас, чтобы они соответствовали вашей конфигурации.</span><span class="sxs-lookup"><span data-stu-id="dec91-468">Modify WorkspaceId, WorkspaceKey, and SetupPath parameters to match your configuration.</span></span>
    3.  <span data-ttu-id="dec91-469">Изменение одного и того же объекта групповой политики и переход к \\ \\ :::no-loc text="Windows"::: параметрам \\ политик конфигурации компьютера (запуск и завершение)</span><span class="sxs-lookup"><span data-stu-id="dec91-469">Edit the same Group Policy Object and navigate to Computer Configuration \\ Policies \\ :::no-loc text="Windows"::: Settings \\ Scripts (Startup/Shutdown)</span></span>
    4.  <span data-ttu-id="dec91-470">Дважды щелкните, чтобы выбрать **Запуск**, и выберите пункт **сценарии PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="dec91-470">Double-click to select **Startup**, and then select **PowerShell Scripts**.</span></span>
    5.  <span data-ttu-id="dec91-471">Выберите пункт **Показать файлы**, а затем скопируйте файл **Инсталл-ммажент. ps1** в эту папку.</span><span class="sxs-lookup"><span data-stu-id="dec91-471">Select **Show Files**, and then copy the **Install-MMAgent.ps1** file to that folder.</span></span>
    6.  <span data-ttu-id="dec91-472">Нажмите кнопку **Добавить**, а затем — **Обзор**.</span><span class="sxs-lookup"><span data-stu-id="dec91-472">Select **Add**, and then **Browse**.</span></span>
    7.  <span data-ttu-id="dec91-473">Выберите только что скопированный сценарий PS1.</span><span class="sxs-lookup"><span data-stu-id="dec91-473">Select the ps1 script you just copied.</span></span>

7.  <span data-ttu-id="dec91-474">:::no-loc text="Microsoft Teams Rooms":::устройства должны устанавливать и настраивать :::no-loc text="Microsoft Monitoring"::: агент со второй перезагрузкой.</span><span class="sxs-lookup"><span data-stu-id="dec91-474">:::no-loc text="Microsoft Teams Rooms"::: devices should install and configure the :::no-loc text="Microsoft Monitoring"::: agent with the second reboot.</span></span>

```PowerShell
# Install-MMAgent.ps1
<#
Date:        04/20/2018
Script:      Install-MMAgent.ps1
Version:     1.0
#>

# Set the parameters
$WorkspaceId = "<your workspace id>"
$WorkspaceKey = "<your workspace key>"
$SetupPath = "\\Server\Share"

$SetupParameters = "/qn NOAPM=1 ADD_OPINSIGHTS_WORKSPACE=1 OPINSIGHTS_WORKSPACE_AZURE_CLOUD_TYPE=0 OPINSIGHTS_WORKSPACE_ID=$WorkspaceId OPINSIGHTS_WORKSPACE_KEY=$WorkspaceKey AcceptEndUserLicenseAgreement=1"

# $SetupParameters = $SetupParameters + " OPINSIGHTS_PROXY_URL=<Proxy server URL> OPINSIGHTS_PROXY_USERNAME=<Proxy server username> OPINSIGHTS_PROXY_PASSWORD=<Proxy server password>"

# Start PowerShell logging
Start-Transcript -Path C:\Temp\MMA-Install.Log

# Check if the Microsoft Monitoring Agent is installed
$mma = New-Object -ComObject 'AgentConfigManager.MgmtSvcCfg'

# Check if the Microsoft Monitoring agent is installed
if (!$mma)
{
    #Install agent
    Start-Process -FilePath "$SetupPath\Setup.exe" -ArgumentList $SetupParameters -ErrorAction Stop -Wait
}

# Check if the agent has a valid configuration
$CheckMMA = $mma.GetCloudWorkspace($WorkspaceId).AgentId
if (!$CheckMMA)
{
    # Apply new configuration
    $mma.AddCloudWorkspace($WorkspaceId, $WorkspaceKey)
    $mma.ReloadConfiguration()
}

Stop-Transcript
```

> [!NOTE]
> <span data-ttu-id="dec91-475">Вы можете обратиться к статье, которая [ :::no-loc text="Log Analytics"::: управляет агентом](https://docs.microsoft.com/azure/azure-monitor/platform/agent-manage) , когда вам требуется перенастроить агент, переместить его в другую рабочую область или изменить параметры прокси-сервера после первоначальной установки.</span><span class="sxs-lookup"><span data-stu-id="dec91-475">You can refer to the article [Managing and maintaining the :::no-loc text="Log Analytics"::: agent](https://docs.microsoft.com/azure/azure-monitor/platform/agent-manage) when you need to reconfigure an agent, move it to a different workspace, or modify proxy settings after the initial installation.</span></span>

## <a name="additional-solutions"></a><span data-ttu-id="dec91-476">Дополнительные решения</span><span class="sxs-lookup"><span data-stu-id="dec91-476">Additional Solutions</span></span>
<span data-ttu-id="dec91-477"><a name="Solutions"> </a></span><span class="sxs-lookup"><span data-stu-id="dec91-477"></span></span>

<span data-ttu-id="dec91-478">:::no-loc text="Azure Monitor":::предоставляет встроенные решения для управления с помощью [коллекции решений](https://docs.microsoft.com/azure/azure-monitor/insights/solutions) для дальнейшей помощи в наблюдении за вашей средой.</span><span class="sxs-lookup"><span data-stu-id="dec91-478">:::no-loc text="Azure Monitor"::: provides built-in management solutions through its [solution gallery](https://docs.microsoft.com/azure/azure-monitor/insights/solutions) to further help you monitor your environment.</span></span> <span data-ttu-id="dec91-479">Настоятельно рекомендуется также добавить решения для [управления оповещениями](https://docs.microsoft.com/azure/azure-monitor/platform/alert-management-solution) и [ :::no-loc text="Azure Log Analytics"::: проверки работоспособности агентов](https://docs.microsoft.com/azure/azure-monitor/insights/solution-agenthealth) в рабочую область.</span><span class="sxs-lookup"><span data-stu-id="dec91-479">We highly recommend that you add [Alert Management](https://docs.microsoft.com/azure/azure-monitor/platform/alert-management-solution) and [:::no-loc text="Azure Log Analytics"::: Agent Health](https://docs.microsoft.com/azure/azure-monitor/insights/solution-agenthealth) solutions to your workspace as well.</span></span>

> [!NOTE]
> <span data-ttu-id="dec91-480">Решение для проверки работоспособности агента может помочь в определении устаревших или поврежденных :::no-loc text="Microsoft Monitoring"::: агентов в среде, а решение для управления оповещениями — сведения об оповещениях, которые были созданы в течение заданного периода.</span><span class="sxs-lookup"><span data-stu-id="dec91-480">The Agent Health solution can help you identify outdated or broken :::no-loc text="Microsoft Monitoring"::: agents within your environment, and the Alert Management solution provides details about the alerts that have been raised within a given period.</span></span>

## <a name="see-also"></a><span data-ttu-id="dec91-481">См. также</span><span class="sxs-lookup"><span data-stu-id="dec91-481">See also</span></span>

[<span data-ttu-id="dec91-482">Управление :::no-loc text="Microsoft Teams Rooms"::: планированием с помощью:::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="dec91-482">Plan :::no-loc text="Microsoft Teams Rooms"::: management with :::no-loc text="Azure Monitor":::</span></span>](azure-monitor-plan.md)

[<span data-ttu-id="dec91-483">Управление :::no-loc text="Microsoft Teams Rooms"::: устройствами с помощью:::no-loc text="Azure Monitor":::</span><span class="sxs-lookup"><span data-stu-id="dec91-483">Manage :::no-loc text="Microsoft Teams Rooms"::: devices with :::no-loc text="Azure Monitor":::</span></span>](azure-monitor-manage.md)
