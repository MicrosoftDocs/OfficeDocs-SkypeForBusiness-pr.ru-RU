---
title: Удаленное управление параметрами консоли Microsoft Teams с помощью XML-файла конфигурации
ms.author: v-lanac
author: lanachin
ms.reviewer: davgroom
manager: serdars
ms.date: 1/31/2018
audience: ITPro
ms.topic: article
ms.service: msteams
localization_priority: Normal
ms.assetid: df418e25-81fd-474d-be16-5cd1ac8145cc
ms.collection: M365-voice
description: В этой статье объясняется, как удаленно управлять параметрами по умолчанию, используемыми устройством Microsoft Teams, в том числе с применением настраиваемой темы.
ms.openlocfilehash: c66aaba35fc678400118e67d7c66f362842c869f
ms.sourcegitcommit: 1401ee484a2bc8e72d96649b0571bb59198f9dab
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/15/2019
ms.locfileid: "36427625"
---
# <a name="manage-a-microsoft-teams-rooms-console-settings-remotely-with-an-xml-configuration-file"></a>Удаленное управление параметрами консоли Microsoft Teams с помощью XML-файла конфигурации

В этой статье объясняется, как удаленно управлять параметрами по умолчанию, используемыми устройством Microsoft Teams, в том числе с применением настраиваемой темы.
  
Обновляя основной XML-файл и отправляя его копии на консоли удаленно управляемых устройств, вы можете изменять их параметры по умолчанию. В этой статье описывается создание такого файла и приводятся ссылки на рекомендации по его размещению на удаленно управляемых устройствах. С помощью этого метода вы также можете реализовать пользовательские темы в консолях Microsoft Teams.
  
## <a name="create-an-xml-configuration-file"></a>Создание XML-файла конфигурации

В приведенной ниже таблице описаны элементы, показанные в данном примере файла конфигурации Скипесеттингс. XML (требуется имя файла).
  
```
<SkypeSettings>
    <AutoScreenShare>true</AutoScreenShare>
    <HideMeetingName>true</HideMeetingName>
    <UserAccount>
        <SkypeSignInAddress>RanierConf@contoso.com</SkypeSignInAddress>
        <ExchangeAddress>RanierConf@contoso.com</ExchangeAddress>
        <DomainUsername>Seattle\RanierConf</DomainUsername>
        <Password>password</Password>
        <ConfigureDomain>domain1, domain2</ConfigureDomain>
    </UserAccount>
    <IsTeamsDefaultClient>false</IsTeamsDefaultClient>
    <BluetoothAdvertisementEnabled>true</BluetoothAdvertisementEnabled>
    <SkypeMeetingsEnabled>false</SkypeMeetingsEnabled>
    <TeamsMeetingsEnabled>true</TeamsMeetingsEnabled>
    <DualScreenMode>true</DualScreenMode>
    <SendLogs>
        <EmailAddressForLogsAndFeedback>RanierConf@contoso.com</EmailAddressForLogsAndFeedback>
        <SendLogsAndFeedback>true</SendLogsAndFeedback>
    </SendLogs>
    <Devices>
        <MicrophoneForCommunication>Microsoft LifeChat LX-6000</MicrophoneForCommunication>
        <SpeakerForCommunication>Realtek High Definition Audio</SpeakerForCommunication>
        <DefaultSpeaker>Polycom CX5100</DefaultSpeaker>
        <ContentCameraId>USB\VID_046D&amp;PID_0843&amp;MI_00\7&amp;17446CF2&amp;0&amp;0000</ContentCameraId>
        <ContentCameraInverted>false</ContentCameraInverted>
        <ContentCameraEnhancement>true</ContentCameraEnhancement>
    </Devices>
    <Theming>
        <ThemeName>Custom</ThemeName>
        <CustomThemeImageUrl>folder path</CustomThemeImageUrl>
        <CustomThemeColor>
            <RedComponent>100</RedComponent>
            <GreenComponent>100</GreenComponent>
            <BlueComponent>100</BlueComponent>
        </CustomThemeColor>
    </Theming>
</SkypeSettings>
```

Если XML-файл имеет неверный формат (значение переменной имеет недопустимый тип, элементы находятся в неопределенном порядке, элементы не закрыты и т. д.), параметры, обнаруженные до точки, в которой обнаружена ошибка, не учитываются при обработке, а оставшаяся часть файла пропускается. Любые неизвестные элементы XML-файла также пропускаются. Соответствующие пропущенным элементам параметры устройств остаются без изменений. Если значение параметра является недопустимым, его предыдущее значение остается неизменным.
  
**Элементы XML-файла**

|Элемент|Тип|Уровень|Использование|
|:--- |:--- |:--- |:--- |
|\<скипесеттингс\> |Контейнер для всех элементов. ||Обязательный. |
| \<аутоскриншаре\>  |Логическое &#x2777;  |Первый &#x2776;  | Если имеет значение "true", включается функция автоматической демонстрации экрана.  |
|\<хидемитингнаме\> |Логическое &#x2777;  |Первый &#x2776;  |Если имеет значение "true", названия собраний скрываются. |
|\<UserAccount\> |Контейнер |Первый &#x2776;  |Контейнер для параметров учетных данных. Адрес для входа, адрес Exchange или адрес электронной почты обычно совпадают, например Раниерконф<span></span>@contoso. com. |
|\<скипемитингсенаблед\>  |Логическое &#x2777;  |Первый &#x2776;  |По умолчанию данная возможность включена. |
|\<скипесигнинаддресс\> |Строковое &#x2778;  ||Имя для входа для учетной записи SfB или устройства рабочей группы на консоли. |
|\<ексчанжеаддресс\> |Строковое &#x2778;  ||Имя для входа для учетной записи устройства Exchange консоли. Если аргумент "Ексчанжеаддресс" опущен, то Скипесигнинаддресс не будет использоваться автоматически. |
|\<домаинусернаме\> |Строковое &#x2778;  ||Домен и имя пользователя устройства консоли, например Seattle\RanierConf. |
|\<Защищен\> |Строковый 3  || Параметр пароля содержит пароль, используемый для входа в учетной записи устройства Skype для бизнеса.   |
| \<конфигуредомаин\>  |Строковое &#x2778;  ||Можно указать список доменов, разделенных запятыми. |
|\<теамсмитингсенаблед\> |Логическое &#x2777;  |Первый &#x2776;  |По умолчанию данная возможность отключена. <br/> <br/> XML-файл считается неправильно сформированным, если \<оба\> скипемитингсенаблед\<и\> теамсмитингсенаблед отключены, но вы можете одновременно включить оба параметра. |
|\<Истеамсдефаултклиент> |Логическое &#x2777;  |Первый &#x2776;  |По умолчанию данная возможность отключена. |
|\<Блуетусадвертисементенаблед> |Логическое &#x2777;  |Первый &#x2776;  |По умолчанию данная возможность включена. |
|\<дуалскринмоде\>  |Логическое &#x2777;  |Первый &#x2776;  |Если установлено значение true, включен режим двойного экрана. В противном случае устройство использует один режим экрана. |
|\<сендлогс\> |Контейнер |Первый &#x2776;  ||
|\<емаиладдрессфорлогсандфидбакк\> |Строковое &#x2778;  || Задает дополнительный адрес электронной почты, на который можно отправлять журналы при появлении окна "Обратная связь". |
|\<сендлогсандфидбакк\> |Логическое &#x2777;  || Если имеет значение "true", журналы отправляются администратору. Если имеет значение "false", администратору отправляются только отзывы, но не журналы.  |
| \<Devices\>  |Контейнер |Первый &#x2776;  | Имена подключенных звуковых устройств в дочерних элементах совпадают со значениями, перечисленными в приложении "Диспетчер устройств". В конфигурации могут содержаться устройства, отсутствующие в системе, например звуковые или видеоустройства, которые на данный момент не подключены к консоли. В таких случаях конфигурация для соответствующих устройств будет сохранена.  |
|\<микрофонефоркоммуникатион\> |Строковое &#x2778;  ||Задает микрофон, используемый в качестве записывающего устройства на Конференции. |
|\<спеакерфоркоммуникатион\> |Строковое &#x2778;  ||Устройство, которое будет использоваться в качестве динамика для конференц-связи. Этот параметр задает динамик, который будет использоваться для воспроизведения звука во время звонка. |
|\<дефаултспеакер\> |Строковое &#x2778;  ||Устройство, которое будет использоваться для воспроизведения звука от источника HDMI.  |
|\<Контенткамераид>  | Строковое &#x2778;  | | Определите путь к экземпляру камеры, настроенного в комнате, чтобы предоставить доступ к аналоговой доске на собрании. Посмотрите [, как найти путь к экземпляру USB на камере содержимого](#locate-the-content-camera-usb-instance-path).|
|\<Контенткамераинвертед>  | Логическое &#x2777; | | Укажите, нужно ли физическая установка камеры содержимого на перевернутую камеру. Для камер содержимого, поддерживающих автоматический поворот, укажите значение ложь. |
|\<Контенткамераенханцемент>  | Логическое &#x2777; | |Если задано значение true (значение по умолчанию), изображение камеры с содержимым будет иметь цифровую различный вид: выделена грань доски и выбрано подходящее масштабирование, линии рукописного ввода улучшены, а человек, который пишет на доске, становится прозрачным.  <br><br> Задайте значение false, если вы хотите отправить необработанный видеоканал для участников собрания, когда доска не отображается с помощью пера и, вместо этого, она используется для отображения клейких заметок, афишй и других файлов мультимедиа.  |
| \<Темы\>  |Контейнер |Первый &#x2776;  |С помощью XML-файла также можно применять настраиваемые темы для организации. Вы можете указать имя темы, фоновое изображение и цвет. |
|\<семенаме\> |Строковое &#x2778;  || Используется для идентификации темы на клиенте. Параметру "Theme Name" (Имя темы) можно присвоить значение "Default" (По умолчанию) (одна из встроенных тем) или "Custom" (Другая). <br/>  Для настраиваемых тем всегда следует использовать имя *Custom* (Другая). В консоли можно настроить пользовательский интерфейс клиента по умолчанию или встроенную тему, но настраиваемая тема должна устанавливаться удаленно администратором. <br/>  Доступны следующие встроенные темы:  <br/>  "Default" (По умолчанию) <br/>  "Blue Wave" (Голубая волна) <br/>  "Digital Forest" (Цифровой лес) <br/>  "Dreamcatcher" (Ловец снов) <br/>  "Limeade" (Лайм) <br/>  "Pixel Perfect" (Пиксельное совершенство) <br/>  "Roadmap" (Дорожная карта) <br/>  "Sunset" (Закат) <br/>  Чтобы отключить текущую тему, используйте для Семенаме значение "нет темы".  |
|\<кустомсемеимажеурл\> |Строковое &#x2778;  ||Обязательно, если используется настраиваемая тема, в противном случае — необязательный. Дополнительные сведения о настраиваемых рисунках темы вы увидите в разделе " [пользовательские образы тем](xml-config-file.md#Themes) ниже".  |
|\<кустомсемеколор\> |Контейнер ||Контейнер для значений \<редкомпонент\>, \<гринкомпонент\>и \<блуекомпонент\> . Эти значения являются обязательными при использовании настраиваемой темы. |
|\<редкомпонент\> |Байт (0–255) ||Представляет значение компонента красного цвета. |
|\<гринкомпонент\> |Байт (0–255) ||Представляет значение компонента зеленого цвета. |
|\<блуекомпонент\> |Байт (0–255) ||Представляет значение компонента синего цвета. |
| | | |
 
&#x2776; все элементы первого уровня являются необязательными. Если элемент первого уровня опущен, все его дочерние параметры на устройстве остаются без изменений.
  
&#x2777; логический флаг может принимать одно из следующих значений: истина, ложь, 0 или 1. При пустом значении типа Boolean или числовое значение может быть неправильно отображен XML-код и запрещены изменения параметров.
  
 &#x2778; если строковый параметр указан, пустой и пустой является допустимым значением, этот параметр на устройстве очищается.
  
## <a name="manage-console-settings-using-an-xml-configuration-file"></a>Управление параметрами консоли с помощью XML-файла конфигурации

При запуске консоль Microsoft Teams, если она обнаруживает XML-файл с именем Скипесеттингс. XML в расположении **C:\Users\Skype\AppData\Local\Packages\Microsoft.SkypeRoomSystem_8wekyb3d8bbwe\LocalState**, применяет параметры конфигурации. на нем указывает XML-файл, а затем удалите XML-файл.
  
В зависимости от количества устройств Microsoft Teams, имеющихся в Организации, и того, как вы выбираете управление для их настройки, существует несколько способов размещения XML-файла конфигурации. После принудительной передачи файла на консоль необходимо перезапустить ее для обработки изменений. После успешной обработки XML-файл конфигурации удаляется. Методы управления, предлагаемые для устройств Microsoft Teams, рассматриваются в следующих случаях:
  
- [Настройка групповой политики для комнат Microsoft Teams](room-systems-v2-operations.md#GroupPolicy)

- [Удаленное управление с помощью PowerShell](room-systems-v2-operations.md#RemotePS) и [Настройка элемента файла](https://technet.microsoft.com/library/cc772536%28v=ws.11%29.aspx)

Вы можете использовать любой из этих способов при условии, что он позволяет передавать файлы и перезапускать устройство консоли. Файл должен быть доступен для чтения, доступен для записи и может быть удален с помощью учетной записи локального пользователя (предпочтительнее, владельцем и обладающим всеми полномочиями, предоставленными этому пользователю). Если не заданы нужные разрешения на доступ к этому файлу, возможны ошибки с применением параметров или удалением файла после успешной обработки и, в конечном итоге, сбои программного обеспечения.
  
## <a name="custom-theme-images"></a>Изображения настраиваемых тем

<a name="Themes"> </a>

Файл изображения особой темы необходимо поместить в **C:\Users\Skype\AppData\Local\Packages\Microsoft.SkypeRoomSystem_8wekyb3d8bbwe\LocalState**, а затем ввести имя файла и расширение в переменной \<кустомсемеимажеурл.\>
  
Файл изображения должен располагаться в точности 3840X1080 пикселей и иметь один из следующих форматов файлов: JPG, JPEG, PNG и BMP. Если в вашей организации требуется настраиваемое изображение, в конструкторе графики можно использовать [шаблон Photoshop с пользовательскими темами](https://go.microsoft.com/fwlink/?linkid=870441). В нем содержится дополнительная информация о том, где следует размещать различные элементы в изображении темы и какие области появляются на консолях и экранах.
  
Изображение темы будет распознаваться только после того, как XML-файл конфигурации обновится при запуске устройства. После обработки и удаления нового XML-файла графический файл темы удаляется из каталога.
  
## <a name="locate-the-content-camera-usb-instance-path"></a>Найдите путь к экземпляру USB на камере содержимого

Чтобы найти путь к экземпляру, выполните указанные ниже действия.

1. Перейдите в раздел Параметры Windows на консоли комнаты Microsoft Teams.
2. Введите пароль администратора.
3. В командной строке введите `devmgmt.msc` "чтобы открыть диспетчер устройств".
4. В **диспетчере устройств**просмотрите узел **устройства обработки изображений** и найдите камеру.
5. Щелкните камеру правой кнопкой мыши и выберите пункт **Свойства**.
6. Откройте вкладку **сведения** и в раскрывающемся списке найдите свойство **путь к экземпляру устройства** .
7. Показанное значение — путь к экземпляру устройства, который необходимо установить в XML-файле конфигурации. При указании пути в XML замените амперсанд (&) на `&amp;`.

## <a name="see-also"></a>См. также

[Камеры содержимого](content-camera.md)

[Управление приложением "Комнаты Microsoft Teams"](skype-room-systems-v2.md)

[Настройка элемента файла](https://technet.microsoft.com/library/cc772536%28v=ws.11%29.aspx)
