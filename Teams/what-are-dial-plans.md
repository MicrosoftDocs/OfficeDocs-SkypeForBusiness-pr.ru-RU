---
title: Что такое абонентские группы?
author: CarolynRowe
ms.author: crowe
manager: serdars
ms.reviewer: mikedav, roykuntz
ms.topic: article
ms.tgt.pltfrm: cloud
ms.service: msteams
search.appverid: MET150
ms.collection:
- M365-voice
- m365initiative-voice
audience: Admin
appliesto:
- Skype for Business
- Microsoft Teams
localization_priority: Normal
f1.keywords:
- CSH
ms.custom:
- ms.teamsadmincenter.voice.dialplans.overview
- Calling Plans
description: 'Узнайте, какие типы телефонных звонков (планы звонков по ЗВОНКОВ) доступны в Teams и как выбрать один из них для вашей организации.  '
ms.openlocfilehash: 010065c32135d893b15bcc692e84a1b59269650d
ms.sourcegitcommit: 127f9fdf05b93ee3af4244224e1c32a45d73d3ee
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/21/2021
ms.locfileid: "53046226"
---
# <a name="what-are-dial-plans"></a><span data-ttu-id="f6420-103">Что такое абонентские группы?</span><span class="sxs-lookup"><span data-stu-id="f6420-103">What are dial plans?</span></span>

<span data-ttu-id="f6420-104">[] Абонентская группа  это именованный набор правил нормализации, который преобразует номера телефонов отдельных пользователей в альтернативный формат (обычно E.164) для авторизации и маршрутизации звонков.</span><span class="sxs-lookup"><span data-stu-id="f6420-104">A dial plan is a named set of normalization rules that translate dialed phone numbers by an individual user into an alternate format (typically E.164) for purposes of call authorization and call routing.</span></span>

<span data-ttu-id="f6420-105">Телефонная группа состоит из одного или нескольких правил нормализации, которые определяют, как номера телефонов, выраженные в различных форматах, преобразуются в альтернативный формат.</span><span class="sxs-lookup"><span data-stu-id="f6420-105">A dial plan consists of one or more normalization rules that define how phone numbers expressed in various formats are translated to an alternate format.</span></span> <span data-ttu-id="f6420-106">Та же строка набора может быть интерпретируется и переводиться по-разному в разных наборах, поэтому в зависимости от того, какая из них назначена определенному пользователю, один и тот же номер может быть переведен и перенаводиться по-разному.</span><span class="sxs-lookup"><span data-stu-id="f6420-106">The same dial string may be interpreted and translated differently in different dial plans, so depending on which dial plan is assigned to a given user, the same dialed number may be translated and routed differently.</span></span> <span data-ttu-id="f6420-107">Может быть не более 1000 телефонных планов клиента.</span><span class="sxs-lookup"><span data-stu-id="f6420-107">There can be a maximum of 1,000 tenant dial plans.</span></span>

<span data-ttu-id="f6420-108">См. [создание телефонных планов клиента](create-and-manage-dial-plans.md) и управление ими.</span><span class="sxs-lookup"><span data-stu-id="f6420-108">See [Create and manage dial plans](create-and-manage-dial-plans.md) to create and manage tenant dial plans.</span></span>

## <a name="tenant-dial-plan-scope"></a><span data-ttu-id="f6420-109">Область действия абонентской группы для клиента</span><span class="sxs-lookup"><span data-stu-id="f6420-109">Tenant dial plan scope</span></span>

<span data-ttu-id="f6420-110">Область действия абонентской группы определяет уровень иерархии, на котором возможно применение данной абонентской группы.</span><span class="sxs-lookup"><span data-stu-id="f6420-110">A dial plan's scope determines the hierarchical level at which the dial plan can be applied.</span></span> <span data-ttu-id="f6420-111">Клиенты получают соответствующую телефонную шкалу с помощью параметров настройки, которые автоматически предоставляются при входе пользователей в Teams.</span><span class="sxs-lookup"><span data-stu-id="f6420-111">Clients get the appropriate dial plan through provisioning settings that are automatically provided when users sign in to Teams.</span></span> <span data-ttu-id="f6420-112">Как администратор вы можете управлять и назначать уровни области действия телефонной группы с помощью Microsoft Teams центра администрирования или Удаленной powerShell.</span><span class="sxs-lookup"><span data-stu-id="f6420-112">As an admin, you can manage and assign dial plan scope levels by using the Microsoft Teams admin center or Remote PowerShell.</span></span>

<span data-ttu-id="f6420-113">В Teams есть два типа телефонных планов: для области обслуживания и для клиента (для вашей организации).</span><span class="sxs-lookup"><span data-stu-id="f6420-113">In Teams, there are two types of dial plans: service-scoped and tenant-scoped (which is for your organization).</span></span> <span data-ttu-id="f6420-114">Для каждой страны или региона, в которых доступна телефонная система, определена плановая телефонная телефонная система обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f6420-114">A service-scoped dial plan is defined for every country or region where Phone System is available.</span></span> <span data-ttu-id="f6420-115">Каждому пользователю автоматически назначена телефонная система страны обслуживания, которая соответствует расположению для использования, назначенной пользователю.</span><span class="sxs-lookup"><span data-stu-id="f6420-115">Each user is automatically assigned the service country dial plan that matches the usage location assigned to the user.</span></span> <span data-ttu-id="f6420-116">Вы не можете изменить телефонную план страны обслуживания, но можете создать наборные планы на масштабе клиента, что увеличивает объем телефонной программы страны обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f6420-116">You can't change the service country dial plan, but you can create tenant scoped dial plans, which augment the service country dial plan.</span></span> <span data-ttu-id="f6420-117">По мере подготовка клиентов они получают "эффективную телефонную план", которая является сочетанием страны обслуживания и соответствующей объемной телефонной программы клиента.</span><span class="sxs-lookup"><span data-stu-id="f6420-117">As clients are provisioned, they obtain an "effective dial plan," which is a combination of the service country dial plan and the appropriately scoped tenant dial plan.</span></span> <span data-ttu-id="f6420-118">Поэтому не обязательно определять все правила нормализации в наборах клиентов, так как они могут уже существовать в этой стране обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f6420-118">Therefore, it's not necessary to define all normalization rules in tenant dial plans as they might already exist in the service country dial plan.</span></span>

<span data-ttu-id="f6420-119">Кроме того, можно разбить клиентский набор на две области: область действия клиента или область действия пользователя.</span><span class="sxs-lookup"><span data-stu-id="f6420-119">Tenant dial plans can be further broken into two scopes - tenant-scope or user-scope.</span></span> <span data-ttu-id="f6420-120">Если клиент определит и назначит пользовательской телефонной сети, этому пользователю будет назначена эффективная телефонная плана для страны обслуживания и назначенной пользовательской телефонной программы.</span><span class="sxs-lookup"><span data-stu-id="f6420-120">If a tenant defines and assigns a user-scoped dial plan, that user will be provisioned with an effective dial plan of the user's service country dial plan and the assigned user dial plan.</span></span> <span data-ttu-id="f6420-121">Если клиент определяет план набора на определенный клиент, но не назначает план для пользовательского набора, этому пользователю будет назначаться эффективная телефонная плана для страны обслуживания и клиентской телефонной сети.</span><span class="sxs-lookup"><span data-stu-id="f6420-121">If a tenant defines a tenant-scoped dial plan but doesn't assign a user-scoped dial plan, then that user will be provisioned with an effective dial plan of the user's service country dial plan and the tenant dial plan.</span></span>

<span data-ttu-id="f6420-122">Ниже приводится модель наследования телефонных планов в Teams.</span><span class="sxs-lookup"><span data-stu-id="f6420-122">The following is the inheritance model of dial plans in Teams.</span></span>

![Наследуются ли в Teams](media/b2744f33-ebbd-4c23-bfba-1747312ab178.png)

<span data-ttu-id="f6420-124">Ниже перечислены возможные эффективные абонентские группы.</span><span class="sxs-lookup"><span data-stu-id="f6420-124">The following are the possible effective dial plans:</span></span>

 <span data-ttu-id="f6420-125">**Страна обслуживания** Если ни одна из клиентской телефонной программы не определена и пользователь не назначен пользователю, назначенную пользователю, пользователь получит эффективную телефонную карту, связанную с областью обслуживания, связанной с местом использования.</span><span class="sxs-lookup"><span data-stu-id="f6420-125">**Service Country** If no tenant scoped dial plan is defined and no tenant user scoped dial plan is assigned to the provisioned user, the user will receive an effective dial plan mapped to the service country associated with their usage location.</span></span>

 <span data-ttu-id="f6420-126">**Глобальный клиент — страна обслуживания** Если наборная группа пользователя клиента определена, но не назначена пользователю, предварительно задающий пользователь получит эффективную телефонную группу, состоящую из объединенной клиентской телефонной группы и телефонной группы страны обслуживания, связанной с местом использования.</span><span class="sxs-lookup"><span data-stu-id="f6420-126">**Tenant Global - Service Country** If a tenant user dial plan is defined but not assigned to a user, the provisioned user will receive an effective dial plan consisting of a merged tenant dial plan and the service country dial plan associated with their usage location.</span></span>

 <span data-ttu-id="f6420-127">**Пользователь клиента — страна обслуживания** Если для пользователя определена и назначена телефонная группа пользователя клиента, он получит эффективную телефонную группу, состоящую из объединенной клиентской телефонной группы пользователя и телефонной группы страны обслуживания, связанной с местом использования.</span><span class="sxs-lookup"><span data-stu-id="f6420-127">**Tenant User - Service Country** If a tenant user dial plan is defined and assigned to a user, the provisioned user will receive an effective dial plan consisting of the merged tenant user dial plan and the service country dial plan associated with their usage location.</span></span>

<span data-ttu-id="f6420-128">См. [создание наборных](create-and-manage-dial-plans.md) планов клиента и управление ими.</span><span class="sxs-lookup"><span data-stu-id="f6420-128">See [Create and manage dial plans](create-and-manage-dial-plans.md) to create your tenant dial plans.</span></span>

> [!NOTE]
> <span data-ttu-id="f6420-129">В сценарии, в котором к набраному номеру не применяются никакие правила нормализации телефонной сети, строка набора по-прежнему будет нормализована до предварительного "+CC", где "CC" — это код страны использования пользователя, набрав номер.</span><span class="sxs-lookup"><span data-stu-id="f6420-129">In the scenario where no dial plan normalization rules apply to a dialed number, the dialed string is still normalized to prepend "+CC" where CC is the country code of the dialing user's usage location.</span></span> <span data-ttu-id="f6420-130">Это относится к планам звонков, прямой маршрутике и конференции по ЗВОНКОВ через ПСС.</span><span class="sxs-lookup"><span data-stu-id="f6420-130">This applies to Calling Plans, Direct Routing and PSTN Conference dial-out scenarios.</span></span> <span data-ttu-id="f6420-131">Кроме того, если в правиле нормализации клиентской телефонной программы вы округлите число, которое не начинается с "+", служба звонков попытается нормализовать номер, полученный от клиента Teams, на основе телефонной карты клиента и, если он не соответствует, в телефонной плане региона.</span><span class="sxs-lookup"><span data-stu-id="f6420-131">Additionally, if a tenant dial plan normalization rule results in a number that does not start with "+", the calling service will attempt to normalize the number received from the Teams client based on the tenant dial plan, and if not matched, on the region dial plan.</span></span> <span data-ttu-id="f6420-132">Чтобы избежать двойной нормализации, клиентам прямой маршрутизации рекомендуется включить +, а затем удалить правила перевода с помощью линии связи.</span><span class="sxs-lookup"><span data-stu-id="f6420-132">To avoid double normalization, it's recommended that Direct Routing customers normalize numbers to include a + and then remove the + using Trunk Translation rules.</span></span> 

## <a name="planning-for-tenant-dial-plans"></a><span data-ttu-id="f6420-133">Планирование абонентских групп клиента</span><span class="sxs-lookup"><span data-stu-id="f6420-133">Planning for tenant dial plans</span></span>

<span data-ttu-id="f6420-134">Для планирования настраиваемых абонентских групп выполните следующие шаги.</span><span class="sxs-lookup"><span data-stu-id="f6420-134">To plan custom dial plans, follow these steps:</span></span>

- <span data-ttu-id="f6420-135">**Шаг 1** Решите, нужна ли настраиваемая телефонная плана для улучшения качества набора номера.</span><span class="sxs-lookup"><span data-stu-id="f6420-135">**Step 1** Decide whether a custom dial plan is needed to enhance the user dialing experience.</span></span> <span data-ttu-id="f6420-136">Как правило, необходимо поддерживать набор номеров, не влияющих на E.164, например расширения или сокращенное national dialing.</span><span class="sxs-lookup"><span data-stu-id="f6420-136">Typically, the need for one would be to support non-E.164 dialing, such as extensions or abbreviated national dialing.</span></span>

- <span data-ttu-id="f6420-137">**Шаг 2** Определите, нужны ли для клиента глобальные или пользовательские наборные планы.</span><span class="sxs-lookup"><span data-stu-id="f6420-137">**Step 2** Determine whether tenant global or tenant user scoped dial plans are needed, or both.</span></span> <span data-ttu-id="f6420-138">Наборные планы на уровне пользователей необходимы, если у пользователей разные требования к набору.</span><span class="sxs-lookup"><span data-stu-id="f6420-138">User scoped dial plans are needed if users have different local dialing requirements.</span></span>

- <span data-ttu-id="f6420-p108">**Шаг 3.** Определите допустимые шаблоны номеров для каждой из необходимых абонентских групп. Требуются только те шаблоны, которые не заданы в абонентских группах страны обслуживания.</span><span class="sxs-lookup"><span data-stu-id="f6420-p108">**Step 3** Identify valid number patterns for each required dial plan. Only the number patterns that are not defined in the service level country dial plans are required.</span></span>

- <span data-ttu-id="f6420-p109">**Шаг 4.** Разработайте схему именования абонентских групп на уровне организации. Использование стандартной схемы именования обеспечивает согласованность работы, а также упрощает обслуживание и обновление системы.</span><span class="sxs-lookup"><span data-stu-id="f6420-p109">**Step 4** Develop an organization-wide scheme for naming dial plans. Adopting a standard naming scheme assures consistency across an organization and makes maintenance and updates easier.</span></span>


## <a name="creating-your-new-dial-plan"></a><span data-ttu-id="f6420-143">Создание новой телефонной программы</span><span class="sxs-lookup"><span data-stu-id="f6420-143">Creating your new dial plan</span></span>

<span data-ttu-id="f6420-144">При создании абонентской группы следует указать необходимые сведения.</span><span class="sxs-lookup"><span data-stu-id="f6420-144">When you create a new dial plan, you must put in the information that is required.</span></span>

### <a name="name-and-simple-name"></a><span data-ttu-id="f6420-145">Имя и простое имя</span><span class="sxs-lookup"><span data-stu-id="f6420-145">Name and simple name</span></span>

<span data-ttu-id="f6420-146">Для пользовательских наборов телефонных планов следует указать описательное имя, которое определяет пользователей, которым будет назначена эта план.</span><span class="sxs-lookup"><span data-stu-id="f6420-146">For user dial plans, you should specify a descriptive name that identifies the users to which the dial plan will be assigned.</span></span> <span data-ttu-id="f6420-147">Поле Простое имя для абонентской группы предварительно заполнено строкой, производной от имени абонентской группы.</span><span class="sxs-lookup"><span data-stu-id="f6420-147">The dial plan Simple Name is pre-populated with a string that is derived from the dial plan name.</span></span> <span data-ttu-id="f6420-148">Поле "Простое имя" доступно для редактирования, что позволяет создать для абонентских групп информативное соглашение об именовании.</span><span class="sxs-lookup"><span data-stu-id="f6420-148">The Simple Name field is editable, which enables you to create a more descriptive naming convention for your dial plans.</span></span> <span data-ttu-id="f6420-149">Поле Простое имя должно быть заполненным и содержать неповторяющееся значение.</span><span class="sxs-lookup"><span data-stu-id="f6420-149">The Simple Name value cannot be empty and must be unique.</span></span> <span data-ttu-id="f6420-150">Рекомендуется разработать соглашение об именовании для всей организации и последовательно применять его для всех сайтов и пользователей.</span><span class="sxs-lookup"><span data-stu-id="f6420-150">A best practice is to develop a naming convention for your entire organization and then use this convention consistently across all sites and users.</span></span>

### <a name="description"></a><span data-ttu-id="f6420-151">Описание</span><span class="sxs-lookup"><span data-stu-id="f6420-151">Description</span></span>

<span data-ttu-id="f6420-152">Рекомендуется указать общеупотребительное и узнаваемое название географического расположения или группы пользователей, к которому будет применена соответствующая абонентская группа.</span><span class="sxs-lookup"><span data-stu-id="f6420-152">We recommend that you type the common, recognizable name of the geographic location or group of users to which the corresponding dial plan applies.</span></span>

### <a name="external-access-prefix"></a><span data-ttu-id="f6420-153">Префикс для внешнего доступа</span><span class="sxs-lookup"><span data-stu-id="f6420-153">External access prefix</span></span>
<span data-ttu-id="f6420-154"><a name="bkexternalprefix"> </a></span><span class="sxs-lookup"><span data-stu-id="f6420-154"><a name="bkexternalprefix"> </a></span></span>

<span data-ttu-id="f6420-155">Если пользователям нужно набирать одну или несколько начальных цифр (например, цифру 9) для доступа к внешней линии, можно указать префикс для внешнего доступа длиной до четырех символов (допускаются символы #, \* и 0-9).</span><span class="sxs-lookup"><span data-stu-id="f6420-155">You can specify an external access prefix of up to four characters (#, \*, and 0-9) if users need to dial one or more additional leading digits (for example, 9) to get an external line.</span></span>

> [!NOTE]
> <span data-ttu-id="f6420-156">В случае указания префикса создавать дополнительное правило нормализации для него не требуется.</span><span class="sxs-lookup"><span data-stu-id="f6420-156">If you specify an external access prefix, you don't need to create an additional normalization rule to accommodate the prefix.</span></span>

<span data-ttu-id="f6420-157">См. [создание наборных](create-and-manage-dial-plans.md) планов клиента и управление ими.</span><span class="sxs-lookup"><span data-stu-id="f6420-157">See [Create and manage dial plans](create-and-manage-dial-plans.md) to create your tenant dial plans.</span></span>

## <a name="normalization-rules"></a><span data-ttu-id="f6420-158">Правила нормализации</span><span class="sxs-lookup"><span data-stu-id="f6420-158">Normalization rules</span></span>
<span data-ttu-id="f6420-159"><a name="bknormalizationrule"> </a></span><span class="sxs-lookup"><span data-stu-id="f6420-159"><a name="bknormalizationrule"> </a></span></span>

<span data-ttu-id="f6420-p111">Правила нормализации определяют, как преобразуются номера телефонов, указанные в разных форматах. Одна и та же строка номера может быть интерпретирована и преобразована по-разному, в зависимости от языкового стандарта, который применяется к набравшему ее пользователю. Правила нормализации могут потребоваться, если пользователям нужно набирать сокращенные внутренние или внешние номера.</span><span class="sxs-lookup"><span data-stu-id="f6420-p111">Normalization rules define how phone numbers expressed in various formats are to be translated. The same number string may be interpreted and translated differently, depending on the locale from which it is dialed. Normalization rules may be necessary if users need to be able to dial abbreviated internal or external numbers.</span></span>

<span data-ttu-id="f6420-163">Для набора номера должна быть назначена одна или несколько правил нормализации.</span><span class="sxs-lookup"><span data-stu-id="f6420-163">One or more normalization rules must be assigned to the dial plan.</span></span> <span data-ttu-id="f6420-164">Правила нормализации совпадают сверху вниз, поэтому важен порядок их появления в клиентской телефонной плане.</span><span class="sxs-lookup"><span data-stu-id="f6420-164">Normalization rules are matched from top to bottom, so the order in which they appear in a tenant dial plan is important.</span></span> <span data-ttu-id="f6420-165">Например, если в клиентской телефонной плане имеется 10 правил нормализации, будет попробована логика совпадения с номерами, начиная с первого правила нормализации, если совпадения нет, второе и т. д.</span><span class="sxs-lookup"><span data-stu-id="f6420-165">For example, if a tenant dial plan has 10 normalization rules, the dialed number matching logic will be tried starting with the first normalization rule, if there isn't a match then the second, and so forth.</span></span> <span data-ttu-id="f6420-166">Если совпадение установлено, это правило используется и не требуется никаких усилий для того, чтобы соответствовать другим определенным правилам.</span><span class="sxs-lookup"><span data-stu-id="f6420-166">If a match is made, that rule is used and there is no effort to match any other rules that are defined.</span></span> <span data-ttu-id="f6420-167">В заданной клиентской телефонной плане может быть не более 50 правил нормализации.</span><span class="sxs-lookup"><span data-stu-id="f6420-167">There can be a maximum of 50 normalization rules in a given tenant dial plan.</span></span>

### <a name="determining-the-required-normalization-rules"></a><span data-ttu-id="f6420-168">Определение необходимых правил нормализации</span><span class="sxs-lookup"><span data-stu-id="f6420-168">Determining the required normalization rules</span></span>

<span data-ttu-id="f6420-169">Так как любая телефонная плана клиента фактически объединяются с телефонной планом страны обслуживания определенного пользователя, скорее всего, потребуется оценить правила нормализации для страны обслуживания, чтобы определить, какие правила нормализации телефонной сети клиента необходимы.</span><span class="sxs-lookup"><span data-stu-id="f6420-169">Because any tenant dial plan is effectively merged with a given user's service country dial plan, it is likely that the service country dial plan's normalization rules need to be evaluated in order to determine which tenant dial plan normalization rules are needed.</span></span> <span data-ttu-id="f6420-170">Для этого можно воспользоваться командлетом **Get-CsEffectiveTenantDialPlan**.</span><span class="sxs-lookup"><span data-stu-id="f6420-170">The **Get-CsEffectiveTenantDialPlan** cmdlet can be used for this purpose.</span></span> <span data-ttu-id="f6420-171">Командлет использует удостоверение пользователя в качестве входного параметра и возвращает все правила нормализации, которые применяются к этому пользователю.</span><span class="sxs-lookup"><span data-stu-id="f6420-171">The cmdlet takes the user's identity as the input parameter and will return all normalization rules that are applicable to the user.</span></span>

### <a name="creating-normalization-rules"></a><span data-ttu-id="f6420-172">Создание правил нормализации</span><span class="sxs-lookup"><span data-stu-id="f6420-172">Creating normalization rules</span></span>
<span data-ttu-id="f6420-173"><a name="createrule"> </a></span><span class="sxs-lookup"><span data-stu-id="f6420-173"><a name="createrule"> </a></span></span>

<span data-ttu-id="f6420-174">Правила нормализации используют платформа .NET Framework регулярных выражений для указания шаблонов числов, которые используются сервером для перевода строк набора в формат E.164.</span><span class="sxs-lookup"><span data-stu-id="f6420-174">Normalization rules use .NET Framework regular expressions to specify numeric match patterns that the server uses to translate dial strings to E.164 format.</span></span> <span data-ttu-id="f6420-175">Для создания правил нормализации можно указать регулярное выражение для проверки соответствия, и при обнаружении соответствия будет выполнено преобразование.</span><span class="sxs-lookup"><span data-stu-id="f6420-175">Normalization rules can be created by specifying the regular expression for the match and the translation to be done when a match is found.</span></span> <span data-ttu-id="f6420-176">После окончания настройки можно ввести тестовый номер, чтобы проверить работу правил нормализации.</span><span class="sxs-lookup"><span data-stu-id="f6420-176">When you finish, you can enter a test number to verify that the normalization rule works as expected.</span></span>

<span data-ttu-id="f6420-177">Подробные сведения об использовании регулярных платформа .NET Framework выражений см. в платформа .NET Framework [регулярных выражений.](/dotnet/standard/base-types/regular-expressions)</span><span class="sxs-lookup"><span data-stu-id="f6420-177">For details about using .NET Framework regular expressions, see [.NET Framework Regular Expressions](/dotnet/standard/base-types/regular-expressions).</span></span>

<span data-ttu-id="f6420-178">См. [создание и управление наборами телефонных](create-and-manage-dial-plans.md) планов для создания правил нормализации для ваших планов набора клиентов и управления ими.</span><span class="sxs-lookup"><span data-stu-id="f6420-178">See [Create and manage dial plans](create-and-manage-dial-plans.md) to create and manage normalization rules for your tenant dial plans.</span></span>

> [!NOTE]
> <span data-ttu-id="f6420-179">Правила нормализации с первым необязательным маркером в настоящее время не поддерживаются на устройствах с 3pip (например, модели Polycom VVX 601).</span><span class="sxs-lookup"><span data-stu-id="f6420-179">Normalization rules with the first token as optional are currently not supported on 3pip devices (for example, Polycom VVX 601 model).</span></span> <span data-ttu-id="f6420-180">Если вы хотите применить правила нормализации с необязательностью на устройствах с 3pip, вместо одного следует создать два правила нормализации.</span><span class="sxs-lookup"><span data-stu-id="f6420-180">If you want to apply normalization rules with optionality on 3pip devices, you should create two normalization rules instead of one.</span></span> <span data-ttu-id="f6420-181">Например, правило ^0? (999)$ следует заменить двумя правилами: (999)$ (Перевод:$1) и ^0(999)$ (Перевод:$1).</span><span class="sxs-lookup"><span data-stu-id="f6420-181">For example, the rule ^0?(999)$ should be replaced by the following two rules: (999)$ (Translation:$1) and ^0(999)$ (Translation:$1).</span></span>


### <a name="sample-normalization-rules"></a><span data-ttu-id="f6420-182">Примеры правил нормализации</span><span class="sxs-lookup"><span data-stu-id="f6420-182">Sample normalization rules</span></span>

<span data-ttu-id="f6420-p116">В следующей таблице приведены примеры правил нормализации, написанных в виде регулярных выражений .NET Framework. Эти примеры приведены только для справки, поэтому не следует рассматривать их в качестве рекомендаций по созданию правил.</span><span class="sxs-lookup"><span data-stu-id="f6420-p116">The following table shows sample normalization rules that are written as .NET Framework regular expressions. The samples are examples only and are not meant to be a prescriptive reference for creating your own normalization rules.</span></span>

<span data-ttu-id="f6420-185"><a name="regularexpression"> </a> 
 **Правила нормализации с платформа .NET Framework регулярных выражений**</span><span class="sxs-lookup"><span data-stu-id="f6420-185"><a name="regularexpression"> </a>
**Normalization rules using .NET Framework regular expressions**</span></span>

| <span data-ttu-id="f6420-186">Имя правила</span><span class="sxs-lookup"><span data-stu-id="f6420-186">Rule name</span></span><br/> | <span data-ttu-id="f6420-187">Описание</span><span class="sxs-lookup"><span data-stu-id="f6420-187">Description</span></span><br/> | <span data-ttu-id="f6420-188">Шаблон номера</span><span class="sxs-lookup"><span data-stu-id="f6420-188">Number pattern</span></span><br/> | <span data-ttu-id="f6420-189">Преобразование</span><span class="sxs-lookup"><span data-stu-id="f6420-189">Translation</span></span><br/> | <span data-ttu-id="f6420-190">Пример</span><span class="sxs-lookup"><span data-stu-id="f6420-190">Example</span></span><br/> |
|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="f6420-191">4digitExtension</span><span class="sxs-lookup"><span data-stu-id="f6420-191">4digitExtension</span></span>  <br/> |<span data-ttu-id="f6420-192">Преобразует расширения из четырех цифр.</span><span class="sxs-lookup"><span data-stu-id="f6420-192">Translates 4-digit extensions.</span></span>  <br/> |<span data-ttu-id="f6420-193">^(\\d{4})$</span><span class="sxs-lookup"><span data-stu-id="f6420-193">^(\\d{4})$</span></span>  <br/> |<span data-ttu-id="f6420-194">+1425555$1</span><span class="sxs-lookup"><span data-stu-id="f6420-194">+1425555$1</span></span>  <br/> |<span data-ttu-id="f6420-195">0100 преобразуется в +14255550100</span><span class="sxs-lookup"><span data-stu-id="f6420-195">0100 is translated to +14255550100</span></span>  <br/> |
|<span data-ttu-id="f6420-196">5digitExtension</span><span class="sxs-lookup"><span data-stu-id="f6420-196">5digitExtension</span></span>  <br/> |<span data-ttu-id="f6420-197">Преобразует расширения из пяти цифр.</span><span class="sxs-lookup"><span data-stu-id="f6420-197">Translates 5-digit extensions.</span></span>  <br/> |<span data-ttu-id="f6420-198">^5(\\d{4})$</span><span class="sxs-lookup"><span data-stu-id="f6420-198">^5(\\d{4})$</span></span>  <br/> |<span data-ttu-id="f6420-199">+1425555$1</span><span class="sxs-lookup"><span data-stu-id="f6420-199">+1425555$1</span></span>  <br/> |<span data-ttu-id="f6420-200">50100 преобразуется в +14255550100</span><span class="sxs-lookup"><span data-stu-id="f6420-200">50100 is translated to +14255550100</span></span>  <br/> |
|<span data-ttu-id="f6420-201">7digitcallingRedmond</span><span class="sxs-lookup"><span data-stu-id="f6420-201">7digitcallingRedmond</span></span>  <br/> |<span data-ttu-id="f6420-202">Преобразует номера из семи цифр в местные номера Редмонда.</span><span class="sxs-lookup"><span data-stu-id="f6420-202">Translates 7-digit numbers to Redmond local numbers.</span></span>  <br/> |<span data-ttu-id="f6420-203">^(\\d{7})$</span><span class="sxs-lookup"><span data-stu-id="f6420-203">^(\\d{7})$</span></span>  <br/> |<span data-ttu-id="f6420-204">+1425$1</span><span class="sxs-lookup"><span data-stu-id="f6420-204">+1425$1</span></span>  <br/> |<span data-ttu-id="f6420-205">5550100 преобразуется в +14255550100</span><span class="sxs-lookup"><span data-stu-id="f6420-205">5550100 is translated to +14255550100</span></span>  <br/>|
|<span data-ttu-id="f6420-206">RedmondOperator</span><span class="sxs-lookup"><span data-stu-id="f6420-206">RedmondOperator</span></span>  <br/> |<span data-ttu-id="f6420-207">Преобразует 0 в номер оператора Редмонда.</span><span class="sxs-lookup"><span data-stu-id="f6420-207">Translates 0 to Redmond Operator.</span></span>  <br/> |<span data-ttu-id="f6420-208">^0$</span><span class="sxs-lookup"><span data-stu-id="f6420-208">^0$</span></span>  <br/> |<span data-ttu-id="f6420-209">+14255550100</span><span class="sxs-lookup"><span data-stu-id="f6420-209">+14255550100</span></span>  <br/> |<span data-ttu-id="f6420-210">0 преобразуется в +14255550100</span><span class="sxs-lookup"><span data-stu-id="f6420-210">0 is translated to +14255550100</span></span>  <br/> |
|<span data-ttu-id="f6420-211">RedmondSitePrefix</span><span class="sxs-lookup"><span data-stu-id="f6420-211">RedmondSitePrefix</span></span>  <br/> |<span data-ttu-id="f6420-212">Преобразует номера с внутрисетевым префиксом (6) и кодом Редмонда (222).</span><span class="sxs-lookup"><span data-stu-id="f6420-212">Translates numbers with on-net prefix (6) and Redmond site code (222).</span></span>  <br/> |<span data-ttu-id="f6420-213">^6222(\\d{4})$</span><span class="sxs-lookup"><span data-stu-id="f6420-213">^6222(\\d{4})$</span></span>  <br/> |<span data-ttu-id="f6420-214">+1425555$1</span><span class="sxs-lookup"><span data-stu-id="f6420-214">+1425555$1</span></span>  <br/> |<span data-ttu-id="f6420-215">62220100 преобразуется в +14255550100</span><span class="sxs-lookup"><span data-stu-id="f6420-215">62220100 is translated to +14255550100</span></span>  <br/> |
|<span data-ttu-id="f6420-216">5digitRange</span><span class="sxs-lookup"><span data-stu-id="f6420-216">5digitRange</span></span>  <br/> |<span data-ttu-id="f6420-217">Преобразует расширения из пяти цифр, которые начинаются с цифры из диапазона от трех до семи включительно.</span><span class="sxs-lookup"><span data-stu-id="f6420-217">Translates 5-digit extensions starting with the digit range between 3-7 inclusive.</span></span>  <br/> |<span data-ttu-id="f6420-218">^([3-7]\\d{4})$</span><span class="sxs-lookup"><span data-stu-id="f6420-218">^([3-7]\\d{4})$</span></span>  <br/> |<span data-ttu-id="f6420-219">+142555$1</span><span class="sxs-lookup"><span data-stu-id="f6420-219">+142555$1</span></span> <br/> |<span data-ttu-id="f6420-220">54567 преобразуется в +14255554567</span><span class="sxs-lookup"><span data-stu-id="f6420-220">54567 is translated to +14255554567</span></span>  <br/> |
|<span data-ttu-id="f6420-221">ПрефиксAdded</span><span class="sxs-lookup"><span data-stu-id="f6420-221">PrefixAdded</span></span>  <br/> |<span data-ttu-id="f6420-222">Добавляет префикс страны перед номером из девяти цифр с ограничениями для первой и третьей цифр.</span><span class="sxs-lookup"><span data-stu-id="f6420-222">Adds a country prefix in front of a 9 digit number with restrictions on the first and third digits.</span></span>  <br/> |<span data-ttu-id="f6420-223">^([2-9]\\d\\d[2-9]\\d{6})$</span><span class="sxs-lookup"><span data-stu-id="f6420-223">^([2-9]\\d\\d[2-9]\\d{6})$</span></span>  <br/> |<span data-ttu-id="f6420-224">1$1</span><span class="sxs-lookup"><span data-stu-id="f6420-224">1$1</span></span>  <br/> |<span data-ttu-id="f6420-225">4255554567 преобразуется в 14255554567</span><span class="sxs-lookup"><span data-stu-id="f6420-225">4255554567 is translated to 14255554567</span></span>  <br/> |
|<span data-ttu-id="f6420-226">NoTranslation</span><span class="sxs-lookup"><span data-stu-id="f6420-226">NoTranslation</span></span>  <br/> |<span data-ttu-id="f6420-227">Соответствует пяти цифрам, но преобразование не выполняется.</span><span class="sxs-lookup"><span data-stu-id="f6420-227">Match 5 digits but no translation.</span></span>  <br/> |<span data-ttu-id="f6420-228">^(\\d{5})$</span><span class="sxs-lookup"><span data-stu-id="f6420-228">^(\\d{5})$</span></span>  <br/> |<span data-ttu-id="f6420-229">$1</span><span class="sxs-lookup"><span data-stu-id="f6420-229">$1</span></span>  <br/> |<span data-ttu-id="f6420-230">34567 преобразуется в 34567</span><span class="sxs-lookup"><span data-stu-id="f6420-230">34567 is translated to 34567</span></span>  <br/> |

 <span data-ttu-id="f6420-231">**Абонентская группа Редмонда основана на приведенных выше правилах нормализации.**</span><span class="sxs-lookup"><span data-stu-id="f6420-231">**Redmond dial plan based on normalization rules shown above.**</span></span>

 <span data-ttu-id="f6420-232">В следующей таблице показан пример абонентской группы для города Редмонда (штат Вашингтон, США) на основе правил нормализации из предыдущей таблицы.</span><span class="sxs-lookup"><span data-stu-id="f6420-232">The following table illustrates a sample dial plan for Redmond, Washington, United States, based on the normalization rules shown in the previous table.</span></span>

| <span data-ttu-id="f6420-233">Абонентская группа Редмонда</span><span class="sxs-lookup"><span data-stu-id="f6420-233">Redmond dial plan</span></span><br/> |
|:-----------------------|                                                                                                                      
| <span data-ttu-id="f6420-234">5digitExtension</span><span class="sxs-lookup"><span data-stu-id="f6420-234">5digitExtension</span></span> <br/> |                                                                                                                                    
| <span data-ttu-id="f6420-235">7digitcallingRedmond</span><span class="sxs-lookup"><span data-stu-id="f6420-235">7digitcallingRedmond</span></span> <br/> |
| <span data-ttu-id="f6420-236">RedmondSitePrefix</span><span class="sxs-lookup"><span data-stu-id="f6420-236">RedmondSitePrefix</span></span> <br/> |
| <span data-ttu-id="f6420-237">RedmondOperator</span><span class="sxs-lookup"><span data-stu-id="f6420-237">RedmondOperator</span></span> <br/> |

> [!NOTE]
> <span data-ttu-id="f6420-238">Имена правил нормализации, показанные в предыдущей таблице, не содержат пробелов, но это можно сделать на свой выбор.</span><span class="sxs-lookup"><span data-stu-id="f6420-238">The normalization rules names shown in the preceding table don't include spaces, but this is a matter of choice.</span></span> <span data-ttu-id="f6420-239">Например, первое правило в таблице могло называться 5 digit extension или 5-digit Extension (добавочный номер из 5 цифр).</span><span class="sxs-lookup"><span data-stu-id="f6420-239">The first name in the table, for example, could have been written "5 digit extension" or "5-digit Extension" and still be valid.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f6420-240">Статьи по теме</span><span class="sxs-lookup"><span data-stu-id="f6420-240">Related topics</span></span>

[<span data-ttu-id="f6420-241">Создание и использование абонентских групп</span><span class="sxs-lookup"><span data-stu-id="f6420-241">Create and manage dial plans</span></span>](create-and-manage-dial-plans.md)

[<span data-ttu-id="f6420-242">Типы номеров телефонов, используемые в планах звонков</span><span class="sxs-lookup"><span data-stu-id="f6420-242">Different kinds of phone numbers used for Calling Plans</span></span>](different-kinds-of-phone-numbers-used-for-calling-plans.md)

[<span data-ttu-id="f6420-243">Управление номерами телефонов организации</span><span class="sxs-lookup"><span data-stu-id="f6420-243">Manage phone numbers for your organization</span></span>](manage-phone-numbers-for-your-organization/manage-phone-numbers-for-your-organization.md)

[<span data-ttu-id="f6420-244">Условия и положения, распространяющиеся на экстренные вызовы</span><span class="sxs-lookup"><span data-stu-id="f6420-244">Emergency calling terms and conditions</span></span>](emergency-calling-terms-and-conditions.md)

<span data-ttu-id="f6420-245">[Отказ от ответственности для экстренных вызовов](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/emergency-calling/emergency-calling-label-(en-us)-(v.1.0).zip?raw=true)</span><span class="sxs-lookup"><span data-stu-id="f6420-245">[Emergency Calling disclaimer label](https://github.com/MicrosoftDocs/OfficeDocs-SkypeForBusiness/blob/live/Teams/downloads/emergency-calling/emergency-calling-label-(en-us)-(v.1.0).zip?raw=true)</span></span>
