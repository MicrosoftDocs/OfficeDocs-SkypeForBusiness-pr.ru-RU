---
title: Разрешения и рекомендации для приложений Microsoft Teams
author: rmw2890
ms.author: rowille
manager: serdars
ms.date: 10/18/2018
ms.topic: conceptual
ms.service: msteams
MS.collection:
- Teams_ITAdmin_PracticalGuidance
- M365-collaboration
search.appverid: MET150
ms.reviewer: rowille
description: Сведения о том, какие данные и разрешения нужны приложениям от вашей организации.
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: 167e8d8e628927e470422bf9d0a21adb06e48b53
ms.sourcegitcommit: c13bd343c3f3d14c7b8ff710ac5a4fec17ab88b7
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/12/2019
ms.locfileid: "34859738"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a>Разрешения и рекомендации для приложений Microsoft Teams

Приложения Microsoft Teams позволяют агрегировать одну или несколько возможностей в _пакет приложения_, который можно установить, обновить и удалить. К этим возможностям относятся:

-   боты;
-   расширения для обмена сообщениями;
-   Вкладки
-   Соединители

Получение согласия пользователей на приложения и управление этими приложениями ИТ-отделом осуществляется в рамках политики. Однако профиль риска и разрешения для приложения, как правило, определяются разрешениями и профилями риска содержащихся в нем возможностей. Таким образом, основное внимание в этой статье уделяется разрешениям и рекомендациями для уровня возможностей.

Разрешения, указанные ниже прописными буквами, например RECEIVE_MESSAGE и REPLYTO_MESSAGE, не указаны в [документации для разработчиков Microsoft Teams](https://aka.ms/teamsdevdocs) или [разрешениях для Microsoft Graph](https://developer.microsoft.com/graph/docs/concepts/permissions_reference). Это просто описательные условные обозначения, используемые в рамках данной статьи.


|    |     |
|-----------|------------|
| ![Значок, который описывает точку принятия решения](media/audio_conferencing_image7.png) <br/>Точка принятия решений|<ul><li>Воспользуйтесь приведенными ниже таблицами, чтобы узнать, какие разрешения запрашиваются для приложений, которые вы изучаете.</li></ul> |
| ![Значок, отображающий следующий шаг](media/audio_conferencing_image9.png)<br/>Следующий шаг|<ul><li>Изучите свое приложение или службу, чтобы решить, нужно ли разрешить доступ к ней в Организации. Например, ботов отправлять и получать сообщения от пользователей и (за исключением корпоративных бизнес-ботов) они находятся за пределами границы соответствия требованиям. Таким образом, любое приложение, включающее Bot, должно иметь такие разрешения и имеет этот профиль риска как минимум. </li></ul>|

## <a name="global-app-permissions-and-considerations"></a>Глобальные разрешения и рекомендации для приложений

<table>
  <tr>
    <th width="25%">Необходимые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
  <tr>
    <td valign="top">Нет </td>
    <td valign="top">Нет</td>
    <td valign="top">Приложение должно раскрывать используемые данные и данные, для которых они используются, в соответствии с условиями использования и ссылками на правила конфиденциальности.</td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a>Расширения ботов и обмена сообщениями

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%">Необходимые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   РЕЦЕИВЕ_МЕССАЖЕ, РЕПЛИТО_МЕССАЖЕ. Bot может получать сообщения от пользователей и отвечать на них. <sup>1</sup></li><li>ПОСТ_МЕССАЖЕ_УСЕР. После того как пользователь отправил сообщение на Bot, Bot может в любое время отправлять пользователям прямые сообщения (также называемые <em>упреждающими сообщениями</em>).</li><li>ЖЕТ_ЧАННЕЛ_ЛИСТ. Ботов, добавленные в Teams, могут получить список имен и идентификаторов каналов в команде.</li></ul></td>
    <td valign="top"><ul><li>Идентифицирующи. Если&#39;s используется в канале, приложение&#39;s ботов может получать доступ к основным сведениям о членах группы (имя, фамилия, имя участника-пользователя [UPN], адрес электронной почты); Когда&#39;s используется в личном или группом чате, Bot может получить доступ к одной и той же информации для этих пользователей.</li><li> ПОСТ_МЕССАЖЕ_ТЕАМ. Позволяет приложению&#39;s отправлять прямые (проходящие) сообщения любому участнику группы в любое время, даже если пользователь еще не говорил на Bot.</li><li>Следующие разрешения не являются явными, но подразумеваются РЕЦЕИВЕ_МЕССАЖЕ и РЕПЛИТО_МЕССАЖЕ и областями, в которых можно использовать ботов, объявленные в манифесте: <ul><li>РЕЦЕИВЕ_МЕССАЖЕ_ПЕРСОНАЛ, РЕПЛИТО_МЕССАЖЕ_ПЕРСОНАЛ</li><li>РЕЦЕИВЕ_МЕССАЖЕ_ГРАУПЧАТ, РЕПЛИТО_МЕССАЖЕ_ГРАУПЧАТ</li><li>РЕЦЕИВЕ_МЕССАЖЕ_ТЕАМ, РЕПЛИТО_МЕССАЖЕ_ТЕАМ</li></ul><li>СЕНД_ФИЛЕС, РЕЦЕИВЕ_ФИЛЕС. <sup>2</sup> . определяет, может ли Bot отправлять и получать файлы в личном чате (но не поддерживается для группового чата или каналов).</li></ul></td>
    <td valign="top"><ul><li>Ботов имеет доступ только к тем группам, в которых они были добавлены&#39;сохранен, или на пользователей, которые установили их.</li><li>Ботов получать только те сообщения, в которых&#39;они явно упоминаются пользователями. Эти данные оставляют корпоративную сеть.</li><li>    Ботов может отвечать только на беседы, в которых они&#39;повторно.</li><li>После того как пользователь применяет робота Bot, если он хранит идентификатор пользователя&#39;s, он может в любое время отправить ему прямые сообщения. </li><li>Теоретически возможно, что сообщения от начала содержат ссылки на фишинговые и вредоносные сайты, но ботов может быть заблокирована пользователем, администратором клиента или глобально корпорацией Майкрософт. </li><li>Bot может извлекать (и может хранить) очень простые данные идентификации для участников группы, к которым было добавлено приложение, или для отдельных пользователей в личных или групповых чатах. Чтобы получить дополнительные сведения об этих пользователях, для роботов необходимо войти в Azure Active Directory (Azure AD). </li><li>Ботов может извлекать (и может сохранять) список каналов в команде; Эти данные оставляют корпоративную сеть. </li><li>При отправке файла на Bot файл выходит из корпоративной сети. Для отправки и получения файлов требуется утверждение пользователей для каждого файла. </li><li>По умолчанию ботов Дон&#39;t имеет возможность действовать от имени пользователя, но ботов может попросить пользователей выполнить вход. После того как пользователь войдет в систему, у Bot будет маркер доступа, с помощью которого можно делать дополнительные действия. Что эти дополнительные возможности зависят от роботов и от того, где пользователь входит в систему: Bot — это приложение Azure AD, <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> которое зарегистрировано и может иметь собственный набор разрешений.</li><li>Ботов уведомляются каждый раз, когда пользователи добавляются в группу или удаляются из нее.</li><li>Ботов Дон&#39;# видят пользователей&#39; IP-адресами или другими сведениями об источнике ссылки. Все данные поступают от корпорации Майкрософт. (Существует одно исключение: Если в Bot реализован собственный вход, Пользовательский интерфейс входа будет видеть пользователей&#39; IP-адреса и сведения о его источнике.)</li><li>Расширения для обмена сообщениями, с другой стороны, видят пользователи&#39; IP-адреса и сведения о источнике ссылки.</li><li>Руководство по приложениям (и наш процесс проверки Аппсаурце) требует от пользователей публиковать личные сообщения в чате (с помощью разрешения ПОСТ_МЕССАЖЕ_ТЕАМ) для выполнения допустимых задач. В случае нарушения, пользователи могут блокировать Bot, Администраторы клиентов могут блокировать приложение, и при необходимости Майкрософт может блокировать ботов централизованно.</li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><sup>1</sup></td><td colspan="3">Некоторые ботов только отправка сообщений (ПОСТ_МЕССАЖЕ_УСЕР). Они&#39;повторное &quot;обращением только&quot; для уведомлений, но&#39;t ссылаются на то, что может сделать Bot или не разрешено, это означает, что Bot не&#39;хотите показать беседу. Teams использует это поле для отключения функций в пользовательском интерфейсе, которые обычно включены. Программа Bot&#39;t ограничена в том, что&#39;s может сравниваться с ботов, которые предоставляют возможности общения.</td></tr>
<tr><td align="right"><sup>2</sup></td><td colspan="3">Управляется <code>supportsFiles</code> логическим свойством объекта Bot в файле manifest. JSON для приложения.</td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li>Если у робота есть собственный вход, существует вторая — другая — режим согласия при первом входе пользователя.</li><li>В настоящее время разрешения Azure AD, связанные с какими-либо возможностями в приложении Teams (Bot, вкладка, соединитель или расширение для обмена сообщениями), полностью отделены от разрешений Teams, перечисленных здесь.</li></ul>


## <a name="tabs"></a>Вкладки

Вкладка — это веб-сайт, работающий внутри Teams.

<table>
  <tr>
    <th width="25%">Необходимые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
  <tr>
    <td valign="top">СЕНД_АНД_РЕЦЕИВЕ_ВЕБ_ДАТА</td>
    <td valign="top">Нет (сейчас).</td>
    <td valign="top"><ul><li>Профиль риска для вкладки почти идентичен тому же веб-сайту, на котором работает вкладка браузера. </li><li>Вкладка также получает контекст, в котором выполняется&#39;s, в том числе имя для входа и UPN текущего пользователя, идентификатор объекта Azure AD для текущего пользователя, идентификатор группы Office 365, в которой она находится (если это Рабочая группа). , идентификатор клиента и текущий языковой стандарт пользователя. Тем не менее, чтобы сопоставить эти идентификаторы с данными пользователя&#39;s, вкладка должна настроить вход пользователя в Azure AD.</li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a>Плат

Соединитель отправляет сообщения в канал, когда возникают события во внешней системе.

  <table>
  <tr>
    <th width="25%">Необходимые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
  <tr>
    <td valign="top">ПОСТ_МЕССАЖЕ_ЧАННЕЛ</td>
    <td valign="top">РЕПЛИТО_КОННЕКТОР_МЕССАЖЕ. Некоторые соединители поддерживают <em>транзактные сообщения</em>, которые позволяют пользователям отправлять целевые ответы на соединительные сообщения, например, добавив ответ на вопрос GitHub или добавив дату в карточку Trello.</td>
    <td valign="top"><ul><li>Система, на которой размещаются сообщения в соединительных линиях, не&#39;знать, кто&#39;размещается в сообщениях или кто его получает. никакие сведения о получателе не будут закрыты. (Microsoft — это реальный получатель, а не клиент; Корпорация Майкрософт производит фактическое сообщение в канале.)</li><li>Данные не отправляются в корпоративную сеть при размещении в канале сообщений в виде соединителя.</li><li>Соединители, поддерживающие транзактные сообщения (разрешение РЕПЛИТО_КОННЕКТОР_МЕССАЖЕ), также Дон&#39;t просмотрите сведения об IP-адресе и источнике ссылки. Эти данные отправляются в корпорацию Майкрософт, а затем пересылаются в конечные точки HTTP, которые ранее были зарегистрированы в Microsoft на портале соединителей.</li><li>Каждый раз, когда для канала настроена соединительная линия, создается уникальный URL-адрес для этого экземпляра соединителя. Если этот экземпляр соединителя удален, этот URL-адрес больше нельзя использовать.</li><li>Соединительные сообщения могут&#39;содержать вложенные файлы.</li><li>URL-адрес экземпляра соединителя должен рассматриваться как секретный или конфиденциальный: любой пользователь, у которого есть этот URL-адрес, может публиковать его, например адрес электронной почты. Таким образом, у вас&#39;некоторые риски нежелательной почты или ссылок на фишинговые и вредоносные сайты. Если это произошло, владельцы групп могут удалить экземпляр соединителя.</li><li>Если служба, передающая сообщения соединителя, была скомпрометирована и начата отправка нежелательной почты/фишинга/вредоносных программ, администратор клиента может предотвратить создание новых экземпляров соединителя, и корпорация Майкрософт сможет централизованно заблокировать их.</li></ul></td>
  </tr>
</table>

> [!Note]
> В настоящее время невозможно узнать, какие соединители поддерживают транзактные сообщения (разрешение РЕПЛИТО_КОННЕКТОР_МЕССАЖЕ).


## <a name="outgoing-webhooks"></a>Исходящие веб-перехватчики

_Исходящие веб_ -перехватчики создаются на лету владельцами группы или участниками группы, если для клиента включена поддержка опубликованных приложений. Они не являются возможностями приложений Teams; Эта информация включена для полноты.

<table>
  <tr>
    <th width="25%">Необходимые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
    <tr>
    <td valign="top">РЕЦЕИВЕ_МЕССАЖЕ, РЕПЛИТО_МЕССАЖЕ. Может получать сообщения от пользователей и отвечать на них.</td>
    <td valign="top">Нет</td>
    <td valign="top"><ul><li>Исходящие веб-перехватчики похожи на ботов, но имеют меньшие полномочия. Они должны быть явно упомянуты, как ботов.</li><li>При регистрации исходящего веб-перехватчика генерируется <em>секретный код</em> , который позволяет исходящему веб-перехватчику проверить, что отправитель является Microsoft Teams, а не злоумышленником. Этот секрет должен оставаться секретным; любой пользователь, у которого есть доступ к нему, может олицетворять Microsoft Teams. Если секретный код скомпрометирован, исходящий веб-перехватчик можно удалить и создать заново, и будет создан новый секрет.</li><li>Несмотря на то, что&#39;можно создать исходящий веб-перехватчик, который не&#39;проверять секретный код, рекомендуется использовать его.</li><li>Кроме приема сообщений и ответа на них, исходящие веб-перехватчики могут&#39;по-другому: они могут&#39;в активном состоянии отправлять сообщения, они могут&#39;для отправки и получения файлов, но они могут&#39;t выполнять любые другие действия, которые ботов могут выполнять, за исключением приема и ответа на сообщения.</li></ul></td>
  </tr>
</table>
