---
title: Разрешения и рекомендации для приложений Microsoft Teams
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 08/20/2018
ms.topic: article
ms.service: msteams
ms.collection: Teams_ITAdmin_PracticalGuidance
search.appverid: MET150
ms.reviewer: lehewe
description: Сведения о том, какие данные и разрешения нужны приложениям от вашей организации.
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: 960f54f27b7019d15d287c637c7c58f73dfdef0f
ms.sourcegitcommit: 9acf2f80cbd55ba2ff6aab034757cc053287485f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/25/2018
ms.locfileid: "25014189"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a>Разрешения и рекомендации для приложений Microsoft Teams

Приложения группами Майкрософт — это способ объединения одну или несколько возможностей в _пакет приложения_ , который можно установить, обновления и удаления. Следующие возможности:

-   боты;
-   расширения для обмена сообщениями;
-   Вкладки
-   Соединители

Приложения согласие для пользователей, которые управляют ИТ с точки зрения политики. Тем не менее в большинстве случаев разрешения и риска профиля приложения от определены разрешения и профили риска функциональные возможности, которые он содержит. Таким образом эта статья посвящена разрешения и сведения о выполнении на уровне возможности.

В [документации для разработчиков Microsoft группы](https://aka.ms/teamsdevdocs) или [разрешения для Microsoft Graph](https://developer.microsoft.com/graph/docs/concepts/permissions_reference)разрешения, перечисленные ниже в прописных букв, например RECEIVE_MESSAGE и REPLYTO_MESSAGE, не отображаются в любом месте. Они просто описательное краткой в данной статье.


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/>Точка принятия решений|<ul><li>Используйте приведенные ниже таблицы, чтобы понять, какие разрешения нужны рассматриваемым вами приложениям.</li></ul> |
| ![](media/audio_conferencing_image9.png)<br/>Дальнейшее действие|<ul><li>Исследование приложения или службы так, чтобы решить, следует ли разрешить доступ к нему в вашей организации. Например, программы-роботы отправлять и принимать сообщения от пользователей, и — за исключением корпоративных бизнес-роботов — они находятся вне границы соответствия требованиям. Таким образом любое приложение, которое включает в себя робот требует разрешения и этим профилем риска по крайней мере. </li></ul>|

## <a name="global-app-permissions-and-considerations"></a>Глобальные разрешения и рекомендации для приложений

<table>
  <tr>
    <th width="25%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
  <tr>
    <td valign="top">Нет</td>
    <td valign="top">Нет</td>
    <td valign="top">Приложение должно раскрывать, какие данные оно использует и для чего, в ссылках на свои условия использования и политику конфиденциальности.</td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a>Боты и расширения для обмена сообщениями

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   RECEIVE_MESSAGE REPLYTO_MESSAGE. Программа-робот можно получать сообщения от пользователей и отвечать на них. <sup>1</sup></li><li>POST_MESSAGE_USER. После отправки сообщения робот пользователь, робот сообщения можно отправлять пользователя прямого (также называемая _упреждающего сообщений_) в любое время.</li><li>GET_CHANNEL_LIST. Программы-роботы добавлены в группы можно получить список имен и идентификаторов каналов в группе.</li></ul></td>
    <td valign="top"><ul><li>УДОСТОВЕРЕНИЕ. При использовании в канале программы-роботы приложения можно получить доступ к основную информацию о пользователе из участников группы (имя, Фамилия, имя участника-пользователя [имя участника-пользователя], адрес электронной почты); При использовании в личных или группы чата робот можно получить доступ к те же данные для этих пользователей.</li><li> POST_MESSAGE_TEAM. Позволяет приложения от роботов отправлять сообщения прямого (упреждающего) в любой участник группы в любое время, даже если пользователь не имеет говорили для программы-робота перед.</li><li>Ниже приведены не явные разрешения, а подразумеваемые RECEIVE_MESSAGE и REPLYTO_MESSAGE и областями, в которых эти боты могут использоваться, как объявлено в манифесте: <ul><li>RECEIVE_MESSAGE_PERSONAL, REPLYTO_MESSAGE_PERSONAL</li><li>RECEIVE_MESSAGE_GROUPCHAT, REPLYTO_MESSAGE_GROUPCHAT <sup>2</sup> </li><li>RECEIVE_MESSAGE_TEAM, REPLYTO_MESSAGE_TEAM</li></ul><li>SEND_FILES, RECEIVE_FILES <sup>3</sup>. Управляет тем, может ли бот отправлять и принимать файлы в личном чате (пока не поддерживается для группового чата или каналов).</li></ul></td>
    <td valign="top"><ul><li>Боты имеют доступ только к командам, в которые они были добавлены, или к пользователям, которые их установили.</li><li>Программы-роботы только получать сообщения, в которых они в случае явно упомянутые пользователями. Эти данные покидает корпоративной сети.</li><li>    Боты могут отвечать на беседы, в которых были упомянуты.</li><li>Если после того, как пользователь побеседовал с ботом, последний сохраняет идентификатор этого пользователя, он может отправлять ему прямые сообщения в любое время. </li><li>Сообщения ботов теоретически могут содержать ссылки на поддельные или вредоносные сайты, однако боты могут быть заблокированы пользователем, администратором клиента или на глобальном уровне корпорацией Майкрософт. </li><li>Программа-робот можно извлечь (и могут хранить) очень основную информацию о пользователе для членов группы, который приложение было добавлено к или для отдельных пользователей в беседах личных или группы. Чтобы получить более подробные сведения об этих пользователей, робот необходимо требуется выполнять вход на портал Azure Active Directory (Azure AD). </li><li>Боты могут получать (и сохранять) список каналов в команде; эти данные покидают корпоративную сеть. </li><li>Если файл отправляется робот, файл останутся корпоративной сети. Отправка и получение файлов требует утверждения пользователей для каждого файла. </li><li>По умолчанию программы-роботы не имеют возможности действовать от имени пользователя, но программы-роботы можно запрос на вход в систему. как только пользователь входит в, робот будут иметь маркер доступа, с которым он выполнить дополнительные действия. Именно то что эти дополнительные обстоятельства зависит от робот и где входе пользователя в: робот представляет собой приложение Azure AD, зарегистрированные в <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a> и может иметь собственный набор разрешений.</li><li>Боты получают информацию о пользователях, добавляемых в команду и удаляемых из нее.</li><li>Программы-роботы отсутствуют пользователей IP-адреса и другие сведения которого производилось обращение. Все данные, поступающие от корпорации Майкрософт. (Есть одно исключение: Если программа-робот реализует собственный интерфейс входа, пользовательский Интерфейс входа будут видеть пользователей IP-адресов и данные которого производилось обращение.)</li><li>С другой стороны, расширения для обмена сообщениями видят IP-адреса пользователей и сведения об источнике.</li><li>Рекомендации по приложения (и наш процесс просмотра AppSource) требуется усмотрение в posting личного сообщения для пользователей (с помощью разрешений POST_MESSAGE_TEAM) целью проверки надежности. В случае нарушения пользователи могут блокировать робот, администраторы клиента могут блокировать приложения и Microsoft централизованно можно заблокировать программы-роботы, если это необходимо.</li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><sup>1</sup></td><td colspan="3">Некоторые программы-роботы только отправлять сообщения (POST_MESSAGE_USER). Они называются «только для уведомлений» роботов, но термин не ссылается на какие программы-робота разрешенных или не действующими для них, это означает, что робот не требуется предоставить доступ из сети качества. Команды это поле используется для отключения функции в пользовательском Интерфейсе, который обычно должна быть включена; Программа-робот не ограничено в то, что он действующими для них по сравнению с программы-роботы, указываемые естественного качества.</td></tr>
<tr><td align="right"><sup>2</sup></td><td colspan="3">Сейчас находится на этапе предварительной версии Developer Preview.</td></tr>
<tr><td align="right"><sup>3</sup></td><td colspan="3">В настоящее время в предварительной версии для разработчиков. Влияние <code>supportsFiles</code> логическое свойство объекта программа-робот в файле manifest.json для приложения.</td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li>Если бот имеет собственный механизм входа, при первом входе пользователя используется иная процедура получения согласия.</li><li>Сейчас разрешения Azure AD, связанные с любыми возможностями внутри приложения Teams (бот, вкладка, соединитель или расширение для обмена сообщениями), полностью отделены от указанных здесь разрешений Teams.</li></ul>


## <a name="tabs"></a>Вкладки

Вкладка — это веб-сайт, запущенный внутри Teams.

<table>
  <tr>
    <th width="25%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
  <tr>
    <td valign="top">SEND_AND_RECEIVE_WEB_DATA</td>
    <td valign="top">Нет (сейчас).</td>
    <td valign="top"><ul><li>Профиль риска для вкладки почти идентичен тому же веб-сайту, запущенному на вкладке браузера. </li><li>Вкладка также получает контекст, в котором она запущена, включая учетное имя и идентификатор имени участника-пользователя текущего пользователя на объект Azure AD для текущего пользователя, код Office 365 группа (группа), в котором он находится, идентификатор клиента и текущей языковой стандарт пользователя. Тем не менее чтобы сопоставить эти идентификаторы сведений о пользователе, вкладке необходимо сделать пользователя войти в Azure AD.</li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a>Соединители

Соединитель публикует сообщения в канале, когда возникают события во внешней системе.

  <table>
  <tr>
    <th width="25%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
  <tr>
    <td valign="top">POST_MESSAGE_CHANNEL</td>
    <td valign="top">REPLYTO_CONNECTOR_MESSAGE. Некоторые соединители поддерживает _предусматривающей действие сообщения_, обеспечивающие пользователям возможность отправки целевого ответов на сообщения соединитель, например путем добавления ответ на вопрос репозиториев или даты в Trello карточки.</td>
    <td valign="top"><ul><li>Система, которая публикует соединителя сообщения не знает, — это публикация или пользователей, которые получают сообщения: раскрытия не сведения о получателе. (Microsoft — это фактическое получателя не клиента; В корпорации Майкрософт фактический post каналу.)</li><li>При публикации сообщений соединителя в канале никакие данные не покидают корпоративную сеть.</li><li>Соединители, поддерживающие сообщения с действиями (разрешение REPLYTO_CONNECTOR_MESSAGE), также не видят IP-адрес и сведения об источнике. Эта информация отправляет в Майкрософт и затем направляется на конечные точки HTTP, зарегистрированные ранее в Майкрософт на портале соединителей.</li><li>Каждый раз, когда соединитель настроен для канала, создается уникальный URL-адрес для этого экземпляра соединителя. При удалении экземпляра соединителя URL-адрес больше не используется.</li><li>Сообщения соединителя не могут содержать вложенные файлы.</li><li>Экземпляр соединителя, URL-адреса должны рассматриваться как секрет/confidential: любой пользователь, имеющий, что URL-адрес для отправки, такие как адрес электронной почты. Таким образом существует риску Нежелательная почта или ссылки на сайты фишинга или вредоносных программ. Если, происходить, владельцев группы можно удалить экземпляр соединителя.</li><li>Если служба, отправляющая сообщения соединителя, была скомпрометирована и начала отправлять нежелательную почту или ссылки на поддельные или вредоносные сайты, администратор клиента может запретить создание экземпляров соединителя, а Майкрософт может централизованно заблокировать их.</li></ul></td>
  </tr>
</table>

> [!Note]
> Сейчас невозможно узнать, какие соединители поддерживают сообщения с действиями (разрешение REPLYTO_CONNECTOR_MESSAGE).


## <a name="outgoing-webhooks"></a>Исходящие веб-перехватчики

_Webhooks исходящих сообщений_ создаются во время выполнения с владельцев группы и участники группы, если этот параметр включен sideloading для клиента. Они не возможности приложений групп; Эти сведения включен для обеспечения полноты.

<table>
  <tr>
    <th width="25%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
    <tr>
    <td valign="top">RECEIVE_MESSAGE REPLYTO_MESSAGE. Можно получать сообщения от пользователей и отвечать на них.</td>
    <td valign="top">Нет</td>
    <td valign="top"><ul><li>Исходящие webhooks аналогичны программы-роботы, но не более чем привилегии. Они должны быть явно сказано ранее, так же, как программы-роботы.</li><li>При регистрации исходящих webhook создается _секрет_ , что позволяет исходящей webhook для проверки, что отправитель является группами Майкрософт, в отличие от злоумышленник. В этом секрет должны оставаться секрет; Пользователи, имеющие доступ к нему могут олицетворять группами Майкрософт. Если секретный атаке, исходящей webhook можно удалить и создать заново, и создается новый секрет.</li><li>Хотя можно создать исходящий веб-перехватчик, не проверяющий секрет, мы не рекомендуем это делать.</li><li>Кроме получения сообщений и ответа на них, возможности исходящих веб-перехватчиков ограничены: они не могут отправлять упреждающие сообщения, отправлять или принимать файлы, а также делать все то, что могут боты, за исключением получения сообщений и ответа на них.</li></ul></td>
  </tr>
</table>