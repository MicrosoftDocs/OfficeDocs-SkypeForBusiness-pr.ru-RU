---
title: Разрешения и рекомендации для приложений Microsoft Teams
author: Lester-Hewett
ms.author: lehewe
manager: serdars
ms.date: 10/18/2018
ms.topic: article
ms.service: msteams
MS.collection:
- Teams_ITAdmin_PracticalGuidance
- M365-collaboration
search.appverid: MET150
ms.reviewer: lehewe
description: Сведения о том, какие данные и разрешения нужны приложениям от вашей организации.
localization_priority: Normal
appliesto:
- Microsoft Teams
ms.openlocfilehash: 8c7394690cc59ce56e22fcc94076d5a90800c850
ms.sourcegitcommit: 85c34280977fb2c15c8a43874a20e9492bdca57f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/07/2019
ms.locfileid: "30460294"
---
# <a name="microsoft-teams-apps-permissions-and-considerations"></a>Разрешения и рекомендации для приложений Microsoft Teams

Приложения Microsoft Teams позволяют агрегировать одну или несколько возможностей в _пакет приложения_, который можно установить, обновить и удалить. К этим возможностям относятся:

-   боты;
-   расширения для обмена сообщениями;
-   Вкладки
-   Соединители

Получение согласия пользователей на приложения и управление этими приложениями ИТ-отделом осуществляется в рамках политики. Однако профиль риска и разрешения для приложения, как правило, определяются разрешениями и профилями риска содержащихся в нем возможностей. Таким образом, основное внимание в этой статье уделяется разрешениям и рекомендациями для уровня возможностей.

Разрешения, указанные ниже прописными буквами, например RECEIVE_MESSAGE и REPLYTO_MESSAGE, не указаны в [документации для разработчиков Microsoft Teams](https://aka.ms/teamsdevdocs) или [разрешениях для Microsoft Graph](https://developer.microsoft.com/graph/docs/concepts/permissions_reference). Это просто описательные условные обозначения, используемые в рамках данной статьи.


|    |     |
|-----------|------------|
| ![](media/audio_conferencing_image7.png) <br/>Точка принятия решений|<ul><li>Используйте приведенные ниже таблицы, чтобы понять, какие разрешения нужны рассматриваемым вами приложениям.</li></ul> |
| ![](media/audio_conferencing_image9.png)<br/>Дальнейшее действие|<ul><li>Изучите приложение или службу, чтобы решить, хотите ли вы разрешить к ним доступ в своей организации. Например, боты отправляют и принимают сообщения пользователей, и, за исключением корпоративных бизнес-ботов, располагаются за пределами границы соответствия. Таим образом, любое приложение с ботом как минимум нуждается в этих разрешениях и имеет этот профиль риска. </li></ul>|

## <a name="global-app-permissions-and-considerations"></a>Глобальные разрешения и рекомендации для приложений

<table>
  <tr>
    <th width="25%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
  <tr>
    <td valign="top">Нет</td>
    <td valign="top">Нет</td>
    <td valign="top">Приложение должно раскрывать, какие данные оно использует и для чего, в ссылках на свои условия использования и политику конфиденциальности.</td>
  </tr>
</table>

## <a name="bots-and-messaging-extensions"></a>Боты и расширения для обмена сообщениями

<table>
 <thead>
  <tr>
    <th width="0.5%"></th>
    <th width="24.5%">Обязательные разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Рекомендации</th>
  </tr>
</thead>
<tbody>
   <tr>
    <td valign="top" colspan="2"><ul><li>   RECEIVE_MESSAGE, REPLYTO_MESSAGE. Бот может получать сообщения от пользователей и отвечать на них <sup>1</sup>.</li><li>POST_MESSAGE_USER. После того как пользователь отправляет сообщение боту, последний может отправлять пользователю сообщения напрямую (которые также называются <em>упреждающими</em>) в любое время.</li><li>GET_CHANNEL_LIST. Боты, добавленные в команды, могут получить список имен и идентификаторов каналов в команде.</li></ul></td>
    <td valign="top"><ul><li>IDENTITY. При it& #39; s используется в канале app& #39; программы-роботы s можно получить доступ к основную информацию о пользователе из участников группы (имя, Фамилия, имя участника-пользователя [имя участника-пользователя], адрес электронной почты); Когда it& #39; s используется в личного или (en), робот можно обращаться к те же данные для этих пользователей.</li><li> POST_MESSAGE_TEAM. Позволяет app& #39; программы-роботы s для отправки прямого (упреждающего) сообщений в любой участник группы в любое время, даже в том случае, если пользователь не имеет говорили для программы-робота перед.</li><li>Ниже приведены не явные разрешения, а подразумеваемые RECEIVE_MESSAGE и REPLYTO_MESSAGE и областями, в которых эти боты могут использоваться, как объявлено в манифесте: <ul><li>RECEIVE_MESSAGE_PERSONAL, REPLYTO_MESSAGE_PERSONAL</li><li>RECEIVE_MESSAGE_GROUPCHAT, REPLYTO_MESSAGE_GROUPCHAT <sup>2</sup> </li><li>RECEIVE_MESSAGE_TEAM, REPLYTO_MESSAGE_TEAM</li></ul><li>SEND_FILES, RECEIVE_FILES <sup>3</sup>. Управляет тем, может ли бот отправлять и принимать файлы в личном чате (пока не поддерживается для группового чата или каналов).</li></ul></td>
    <td valign="top"><ul><li>Программы-роботы имеют доступ только к группам какие they& #39; ve были добавлены или пользователям, у которых установлены их.</li><li>Программы-роботы только получать сообщения, в котором they& #39; re явно упомянутые пользователями. Эти данные покидают корпоративную сеть.</li><li>    Программы-роботы только можно ответить на бесед в какие they& #39; re упомянутые.</li><li>После пользователь conversed с робот, если робот хранит, user& #39; идентификатор s отправку этого пользователя прямое сообщений в любое время. </li><li>Сообщения ботов теоретически могут содержать ссылки на поддельные или вредоносные сайты, однако боты могут быть заблокированы пользователем, администратором клиента или на глобальном уровне корпорацией Майкрософт. </li><li>Бот может получать (и сохранять) самую базовую идентификационную информацию о членах команды, куда было добавлено приложение, или об отдельных пользователях в личных или групповых чатах. Чтобы получить дополнительные сведения об этих пользователях, боту нужно попросить их войти в Azure Active Directory (Azure AD). </li><li>Боты могут получать (и сохранять) список каналов в команде; эти данные покидают корпоративную сеть. </li><li>При отправке боту файл покидает корпоративную сеть. При отправке и получении файлов пользователю нужно давать свое разрешение для каждого файла. </li><li>По умолчанию, программы-роботы don& #39; t имеют возможность действовать от имени пользователя, но программы-роботы можно запрос на вход в систему. как только пользователь входит в, робот будут иметь маркер доступа, с которым он выполнить дополнительные действия. Какие именно — зависит от самого бота и того, куда вошел пользователь: бот представляет собой приложение Azure AD, зарегистрированное в <a href="https://apps.dev.microsoft.com/">https://apps.dev.microsoft.com/</a>, и может иметь свой собственный набор разрешений.</li><li>Боты получают информацию о пользователях, добавляемых в команду и удаляемых из нее.</li><li>Программы-роботы don& #39; users& см t #39; IP-адреса или другие данные которого производилось обращение. Все информация поступает от Майкрософт. (Есть одно исключение: Если программа-робот реализует собственный интерфейс входа, пользовательский Интерфейс входа будут видеть users& #39; IP-адреса и сведения о которого производилось обращение.)</li><li>Обмен сообщениями расширения, с другой стороны, видите users& #39; IP-адреса и сведения о которого производилось обращение.</li><li>Рекомендации для приложений (и наша процедура анализа AppSource) предусматривают осмотрительность при публикации сообщений личного чата для пользователей (посредством разрешения POST_MESSAGE_TEAM) по допустимым основаниям. При нарушении пользователи могут заблокировать бот, администраторы клиента могут заблокировать приложение, а корпорация Майкрософт может при необходимости блокировать боты централизованно.</li></ul></td>
</tr>
</tbody>
<tfoot>
<tr><td align="right"><sup>1</sup></td><td colspan="3">Некоторые боты только отправляют сообщения (POST_MESSAGE_USER). They& #39; re называемое &quot;только для уведомления&quot; программы-роботы, но doesn& терминов #39; t указывать какие программы-робота разрешенных или не действующими для них, это значит, что программа-робот doesn& #39; t требуется предоставить доступ из сети качества. Команды это поле используется для отключения функции в пользовательском Интерфейсе, который обычно должна быть включена; Программа-робот isn& #39; t, в какой it& #39; s действующими для них по сравнению с программы-роботы, указываемые естественного качества.</td></tr>
<tr><td align="right"><sup>2</sup></td><td colspan="3">Сейчас находится на этапе предварительной версии Developer Preview.</td></tr>
<tr><td align="right"><sup>3</sup></td><td colspan="3">Влияние <code>supportsFiles</code> логическое свойство объекта программа-робот в файле manifest.json для приложения.</td>
</tr>
</tfoot>
</table>

> [!Note]
> <ul><li>Программа-робот имеет свой собственный вход, есть ли секунды — различных — согласия взаимодействия при первом входе пользователя в.</li><li>На данный момент разрешения Azure AD, связанные с какой-либо возможности внутри приложения с группами (программы-робота, вкладка, соединитель или обмена мгновенными сообщениями расширения) полностью отделены от разрешения групп, показанных здесь.</li></ul>


## <a name="tabs"></a>Вкладки

Объект tab является веб-сайта под управлением внутри групп.

<table>
  <tr>
    <th width="25%">Требуемые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
  <tr>
    <td valign="top">SEND_AND_RECEIVE_WEB_DATA</td>
    <td valign="top">Ни одна (в настоящее время).</td>
    <td valign="top"><ul><li>Профиль риска для вкладки почти идентичен этого же веб-сайт в браузере вкладки. </li><li>Вкладка также возвращает контекст, в какой it& #39; s выполняет, включая учетное имя и имя участника-пользователя текущего пользователя объекта Azure AD идентификатор для текущего пользователя, код Office 365 группы, в котором он находится (если это команда) , идентификатор клиента и текущей языковой стандарт пользователя. Тем не менее для сопоставления этих кодов user& #39; s сведения, вкладка может понадобиться внести пользователь войти в Azure AD.</li></ul></td>
  </tr>
  </table>

## <a name="connectors"></a>Соединители

Соединитель отправляет сообщения на канал при возникновении событий в внешней системы.

  <table>
  <tr>
    <th width="25%">Требуемые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
  <tr>
    <td valign="top">POST_MESSAGE_CHANNEL</td>
    <td valign="top">REPLYTO_CONNECTOR_MESSAGE. Некоторые соединители поддерживает <em>предусматривающей действие сообщения</em>, обеспечивающие пользователям возможность отправки целевого ответов на сообщения соединитель, например путем добавления ответ на вопрос репозиториев или даты в Trello карточки.</td>
    <td valign="top"><ul><li>Система, которая публикует соединителя сообщения doesn& #39; t знать, кто it& #39; s, публикация или пользователей, которые получают сообщения: раскрытия не сведения о получателе. (Microsoft — это фактическое получателя не клиента; В корпорации Майкрософт фактический post каналу.)</li><li>Без данных покидает корпоративной сети, когда соединитель помещаются на канал.</li><li>Соединители, которые поддерживают предусматривающей действие сообщения (REPLYTO_CONNECTOR_MESSAGE разрешение) также don& #39; t см сведения IP-адресов и которого производилось обращение; Эти сведения отправляются в корпорацию Майкрософт и затем маршрутизируются на конечные точки HTTP, которые ранее были зарегистрированы с корпорацией Майкрософт на портале соединители.</li><li>Каждый раз, когда соединитель настроен для канала, создается уникальный URL-адрес для этого экземпляра соединителя. При удалении экземпляра соединителя URL-адрес больше не используется.</li><li>Соединитель сообщения can& #39; t содержат файла вложения.</li><li>Экземпляр соединителя, URL-адреса должны рассматриваться как секрет/confidential: любой пользователь, имеющий, что URL-адрес для отправки, такие как адрес электронной почты. Таким образом, there& #39; s риску Нежелательная почта или ссылки на сайты фишинга или вредоносных программ. Если, происходить, владельцев группы можно удалить экземпляр соединителя.</li><li>Если служба, отправляющий соединитель сообщения были скомпрометирован и начать отправку ссылки нежелательной почты и фишинга и вредоносных программ, администратор клиента можно предотвратить новые экземпляры соединителя и Microsoft можно заблокировать их централизованно.</li></ul></td>
  </tr>
</table>

> [!Note]
> Он не поддерживается в настоящее время необходимо знать, какие соединители поддержки функциональной сообщений (REPLYTO_CONNECTOR_MESSAGE разрешений).


## <a name="outgoing-webhooks"></a>Исходящие webhooks

_Webhooks исходящих сообщений_ создаются во время выполнения с владельцев группы и участники группы, если этот параметр включен sideloading для клиента. Они не возможности приложений групп; Эти сведения включен для обеспечения полноты.

<table>
  <tr>
    <th width="25%">Требуемые разрешения</th>
    <th width="25%">Дополнительные разрешения</th>
    <th width="50%">Особенности</th>
  </tr>
    <tr>
    <td valign="top">RECEIVE_MESSAGE REPLYTO_MESSAGE. Можно получать сообщения от пользователей и отвечать на них.</td>
    <td valign="top">Нет</td>
    <td valign="top"><ul><li>Исходящие webhooks аналогичны программы-роботы, но не более чем привилегии. Они должны быть явно сказано ранее, так же, как программы-роботы.</li><li>При регистрации исходящих webhook создается <em>секрет</em> , что позволяет исходящей webhook для проверки, что отправитель является группами Майкрософт, в отличие от злоумышленник. В этом секрет должны оставаться секрет; Пользователи, имеющие доступ к нему могут олицетворять группами Майкрософт. Если секретный атаке, исходящей webhook можно удалить и создать заново, и создается новый секрет.</li><li>Хотя it& #39; s можно создать исходящей webhook, doesn& #39; t проверки секрет, мы не рекомендуем его.</li><li>Кроме получение и ответ на сообщения, исходящие webhooks can& #39; сделать значительная: они can& #39; t проактивное отправлять сообщения, они can& #39; t отправлять и получать файлы, они can& #39; сделать все, что программы-роботы можно, за исключением получения и отвечать на сообщения.</li></ul></td>
  </tr>
</table>
