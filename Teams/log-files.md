---
title: Использование файлов журналов для устранения неполадок в Microsoft Teams
ms.reviewer: tejeshs
author: CarolynRowe
ms.author: crowe
manager: serdars
ms.date: 05/06/2021
audience: admin
ms.topic: troubleshooting
ms.service: msteams
f1.keywords:
- NOCSH
ms.collection:
- M365-collaboration
search.appverid: MET150
description: Узнайте о журналах отладки, мультимедиа и рабочего стола, которые были произведены Microsoft Teams, где их можно найти и как они могут помочь в мониторинге и устранении неполадок.
appliesto:
- Microsoft Teams
ms.openlocfilehash: 100d21338cf77642836793ab9cf69d426d1fd463
ms.sourcegitcommit: 38a4d2f41270633479afb3412c749365922554e5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2021
ms.locfileid: "61410690"
---
# <a name="use-log-files-to-monitor-and-troubleshoot-microsoft-teams"></a>Использование файлов журнала для отслеживания и устранения неполадок Microsoft Teams

Клиент автоматически получает файлы журналов трех типов, которые можно использовать для отслеживания и устранения неполадок Teams.

-   [Журналы отладки](#debug-logs)

-   [Журналы мультимедиа](#media-logs)

-   [Рабочие журналы](#desktop-logs)

В этой статье описаны эти журналы и их использования. Сведения об устранении конкретных проблем см. в Teams [устранении неполадок.](/MicrosoftTeams/troubleshoot/teams) Сведения о том, как обратиться в службу поддержки, см. в [этой теме.](/microsoft-365/business-video/get-help-support) При обращении в службу поддержки нужно предоставить журналы отладки. Наличие журнала отладки перед созданием запроса на поддержку позволит корпорации Майкрософт быстро приступить к устранению проблемы. **Журналы** **мультимедиа и** рабочего стола требуются только при запросе корпорации Майкрософт.

> [!NOTE]
> В этой статье под термином **Журналы отладки** относятся журналы, используемые для устранения неполадок. Однако файлы, созданные для этих журналов, будут содержать **журналы** диагностики терминов в их именах.  

## <a name="collect-and-enable-logging"></a>Сбор и включить ведение журнала

Важно собирать журналы сразу после возникновения проблемы. Журналы можно собрать всего несколькими щелчками мыши.

- Windows: щелкните правой кнопкой мыши значок Teams в области задач и выберите **Сбор файлов поддержки**. 

- Mac: выберите меню Справка и выберите **Сбор файлов поддержки**.

Журналы от deug, Desktop и Media будут собраны в одну папку с именем _MSTeams Diagnostics Log \<local date and time\>_. Эту папку можно сжать и использовать, когда вы открываете запрос в службу поддержки Майкрософт. Папка будет содержать папки "Рабочий стол", "Собрание (мультимедиа") и "Отложенный" (в Интернете). Для сбора файлов можно использовать следующие сочетания клавиш:

- Windows: <kbd>CTRL</kbd> + <kbd>ALT</kbd> + <kbd>SHIFT</kbd> + <kbd>1</kbd>

- Mac: <kbd>OPTION</kbd> + <kbd>COMMAND</kbd> + <kbd>SHIFT</kbd> + <kbd>1</kbd>


По умолчанию ведение журнала мультимедиа отключено. Чтобы включить ведение журнала мультимедиа, пользователи должны включить этот параметр в Teams клиента. Перейдите **Параметры** общий и выберите Включить ведение журнала для диагностики  >   **собраний (требуется перезапуск Teams).** Чтобы начать Teams, необходимо перезапустить клиент Teams (перезапустить его, щелкнув правой кнопкой мыши значок на док-станции (Mac) или панели задач (Windows) и выбрав Выход **.** После выхода просто щелкните значок приложения, чтобы снова открыть его.

Если возникла проблема с определенным собранием или трансляцией, полезно иметь URL-адрес, связанный с собранием. Это позволит определить точное собрание или трансляцию в журналах. Эти сведения могут быть собраны любым участником собрания, а также у организатора или организатора трансляции. Этот URL-адрес может быть запечатлен, наведите курсор на URL-адрес ссылки и введите **Копировать гиперссылки.**

> [!NOTE]
> Если ведение журнала мультимедиа включено, в папку Собрание будут включены дополнительные файлы, необходимые для исследования проблем со звуком и видео. Если ведение журнала мультимедиа не включено, будет доступно ограниченное количество журналов.
  
> [!NOTE]
> Журналы отрезков ранее собирались с помощью ниже сочетания клавиш. Они по-прежнему работают и будут заполнять запись журнала с помощью функции **"Сбор файлов поддержки".**
>
> - Windows: <kbd>CRTL</kbd> + <kbd>ALT</kbd> + <kbd>SHIFT</kbd> + <kbd>1</kbd>
>
> - Mac: <kbd>OPTION</kbd> + <kbd>COMMAND</kbd> + <kbd>SHIFT</kbd> + <kbd>1</kbd>


В таблице ниже описаны различные клиенты и связанные с ними журналы. Расположение файлов журналов зависит от клиента и операционной системы.


|Клиент |Журналы отладки|Рабочие журналы|Журналы мультимедиа|
|---------|---------|---------|---------|
|Веб-клиент    |X         |-         |-         |
|Windows     |X         |X         |X         |
|Mac OSX     |X         |X         |X         |
|Linux     |X         |X         |X         |
|iOS     |-         |-         |-         |
|Android     |-         |-         |-         |

Полный список поддерживаемых операционных систем и браузеров см. в статье [Работа с клиентами для Microsoft Teams](get-clients.md).

## <a name="debug-logs"></a>Журналы отладки

Инструкции _для Windows_ Mac см. в разделе Сбор и Windows ведение журнала. Журналы отлагки выпускаются классическими клиентами Windows и Mac, а также клиентами, основанными на браузерах. Журналы основаны на тексте и читают их снизу вверх. Их можно читать в любом текстовом редакторе, и при входе в клиент создаются новые журналы.

Журналы отладки показывают следующие потоки данных:

-   Вход

-   Запросы на подключение к службам среднего уровня

-   Звонок/беседа

Чтобы собрать журналы для Linux:
- Сочетания клавиш: <kbd>CTRL</kbd>  +  <kbd>ALT</kbd>  +  <kbd>SHIFT</kbd>  +  <kbd>1</kbd>  
- Файлы будут доступны в `~/Downloads`

Чтобы собрать журналы для браузера и Windows:
- Сочетания клавиш: <kbd>CTRL</kbd>  +  <kbd>ALT</kbd>  +  <kbd>SHIFT</kbd>  +  <kbd>1</kbd>  
- Файлы будут доступны в `%userprofile%\Downloads`

## <a name="media-logs"></a>Журналы мультимедиа

Инструкции _для Windows_ Mac см. в разделе Сбор и Windows ведение журнала. Журналы мультимедиа содержат диагностические данные о звуке, видео и совместном использовании экрана Teams собраниях. Они необходимы для случаев поддержки, связанных с вопросами, связанными со звонками.

По умолчанию ведение журнала мультимедиа отключено. Чтобы журнал диагностических данных Teams собраниях, пользователи должны включить параметр в Teams клиента. Перейдите **Параметры** общие , выберите включить ведение журнала для диагностики собрания (требуется перезапуск Teams ), перезапустите Teams и воспроизводите  >  проблему.  

При отправке файлов журнала в службу поддержки Майкрософт проверьте временную рамку файлов журнала, чтобы журналы охватывают период времени при воспроизведении проблемы.

Чтобы собрать журналы для Linux:  
- Файлы будут доступны в следующих местах:
  - `~/.config/Microsoft/Microsoft Teams/media-stack/\*\.blog`
  - `~/.config/Microsoft/Microsoft Teams/skylib/\*\.blog`

Чтобы собрать журналы для Windows:  
- Файлы будут доступны в следующих местах:
  - `%userprofile%\Downloads\MSTeams Diagnostics Log\meeting\media-stack\\\*\.blog`
  - `%userprofile%\Downloads\MSTeams Diagnostics Log\meeting\skylib\\\*\.blog` 

Ниже данная информация содержит список созданных файлов журнала и содержащихся в них данных.

<br/>

|Имя файла журнала  |Описание  |
|---------|---------|
|`Teams.msrtc-0-s1039525249.blog`     | Содержит сведения, относящиеся к стеку мультимедиа. К ним относятся состояние канала, например разрешение, используемая декодаторы и кодировки, а также количество отправленных и полученных кадров, а также состояние сеанса видео- и видеосвязи камеры и видеосвязи.         |
|`rtmcontrol.msrtc-0-2415069487.blog`      |Записи сведений, связанных с действиями удаленного управления, таких как отметка времени при этом и сведения о указателе мыши.          |
|`Teams_MediaStackETW-2-U-xr-U.etl`      |Записи событий трассировки стека мультимедиа.         |
|`Debug-0-s2790420889.blog`    | Содержит сведения, связанные с агентом мультимедиа, включая качество отрисовки.          |
|`tscalling-0-2061129496.blog`   |Записи событий в API ts-calling.       |

## <a name="desktop-logs"></a>Рабочие журналы

Инструкции _для Windows_ Mac см. в разделе Сбор и Windows ведение журнала. Журналы рабочего стола, также известные как журналы загрузок, содержат данные журнала, которые происходят между клиентом для настольных компьютеров и браузером. Как и журналы мультимедиа, эти журналы следует предоставлять только по отдельному запросу Майкрософт. Журналы основаны на тексте и могут быть прочитано в любом текстовом редакторе в формате сверху вниз.

Чтобы собрать журналы для Linux:
- Щелкните значок Microsoft Teams области задач и выберите **Получить журналы**.
- Файлы будут доступны в `~/.config/Microsoft/Microsoft Teams/logs.txt` .
  
Чтобы собрать журналы для Windows:
- Щелкните значок Microsoft Teams в области задач и выберите **Сбор файлов поддержки**.
- Файл `logs.txt` откроется в Блокнот автоматически.

При поиске проблем со входом в Teams может потребоваться вручную собрать журналы рабочего стола. Эти файлы журналов находятся в папке %appdata%\Microsoft\Teams в Windows.

## <a name="browser-trace"></a>Трассировка браузера

Для некоторых категорий ошибок служба поддержки Майкрософт может потребовать сбора трассировки браузера. Эти сведения могут предоставлять важные сведения о состоянии клиента Teams в случае возникновения ошибки.

Перед запуском трассировки браузера убедитесь, что вы уже Teams. Это важно сделать перед началом трассировки, чтобы она не содержала конфиденциальных сведений о входе.

После того как вы выполните вставку, выберите одну из следующих ссылок( при необходимости для браузера) и выполните предоставленные действия. 

-   [Chrome & Edge (Chromium)](/azure/azure-portal/capture-browser-trace#google-chrome-and-microsoft-edge-chromium?preserve-view=true#resolution)

-   [Пограничный сервер](/azure/azure-portal/capture-browser-trace#microsoft-edge-edgehtml?preserve-view=true#resolution)

-   [Сафари](/azure/azure-portal/capture-browser-trace#apple-safari?preserve-view=true#resolution)

-   [Firefox](/azure/azure-portal/capture-browser-trace#firefox?preserve-view=true#resolution)

> [!NOTE]
> В этом шаге замените все ссылки на портал Azure Teams клиента.
  
## <a name="webrtc-logs-in-browsers"></a>Журналы WebRTC в браузерах
Журналы WebRTC могут помочь службе поддержки Майкрософт, предоставив сведения о под соединении для аудио- и видеозвонков. Чтобы получить доступ к журналам WebRTC в Браузере Edge (Chromium) или Chrome, выполните следующие действия: 
  
1.  Откройте новую вкладку и перейдите на один из следующих URL-адресов:
    -   Edge (Chromium):`edge://webrtc-internals/`
    -   Хром: `chrome://webrtc-internals/`
  
2.  Откройте веб Teams приложение и воспроизвести проблему.
  
3.  Снова перейдите на вкладку, которая была доступна на шаге 1, и вы увидите по крайней мере две вкладки:
    -   GetUserMedia Requests
    -   `https://teams.microsoft.com/url`

4.  Выберите вкладку с именем приложения Teams и сохраните содержимое страницы.

## <a name="related-topics"></a>Статьи по теме

[Устранение неполадок Teams](/MicrosoftTeams/troubleshoot/teams)
