---
title: Использование файлов журналов для устранения неполадок в Microsoft Teams
ms.reviewer: tejeshs
author: CarolynRowe
ms.author: crowe
manager: serdars
ms.date: 05/06/2021
audience: admin
ms.topic: troubleshooting
ms.service: msteams
f1.keywords:
- NOCSH
ms.collection:
- M365-collaboration
search.appverid: MET150
description: Узнайте о журналах отладки, мультимедиа и рабочего стола, которые были произведены Microsoft Teams, где их можно найти и как они могут помочь в мониторинге и устранении неполадок.
appliesto:
- Microsoft Teams
ms.openlocfilehash: a18dbef0441055c1202c2b77ce4f8af87040e561
ms.sourcegitcommit: 17e34d2de3d10f1d04929a695e301127db7014bd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/27/2021
ms.locfileid: "52689697"
---
# <a name="use-log-files-to-monitor-and-troubleshoot-microsoft-teams"></a>Использование файлов журнала для отслеживания и устранения неполадок Microsoft Teams

Клиент автоматически получает файлы журналов трех типов, которые можно использовать для отслеживания и устранения неполадок Teams.

-   [Журналы отладки](#debug-logs)

-   [Журналы мультимедиа](#media-logs)

-   [Рабочие журналы](#desktop-logs)

В этой статье описаны эти журналы и их использования. Сведения об устранении конкретных проблем см. в Teams [устранении неполадок.](/MicrosoftTeams/troubleshoot/teams) Сведения о том, как обратиться в службу поддержки, см. в [этой теме.](/microsoft-365/business-video/get-help-support) При обращении в службу поддержки нужно предоставить журналы отладки. Наличие журнала отладки перед созданием запроса на поддержку позволит корпорации Майкрософт быстро приступить к устранению проблемы. **Журналы** **мультимедиа и** рабочего стола требуются только при запросе корпорации Майкрософт.

> [!NOTE]
> В этой статье под термином **Журналы отладки** относятся журналы, используемые для устранения неполадок. Однако в именах файлов, созданных для этих журналов, будут **содержаться** журналы диагностики терминов.  

## <a name="collect-and-enable-logging"></a>Сбор и включить ведение журнала

Важно собирать журналы сразу после возникновения проблемы. Журналы можно собрать всего несколькими щелчками мыши.

Windows: щелкните правой кнопкой мыши значок Teams в области задач и выберите **Сбор файлов поддержки**. 

Mac: выберите меню Справка и выберите **Сбор файлов поддержки**.

Журналы от deug, Desktop и Media будут собраны в одной папке с именем MSTeams Diagnostics Log <local data and time> . Эту папку можно сжать и использовать, когда вы открываете запрос в службу поддержки Майкрософт. Папка будет содержать папки "Рабочий стол", "Собрание (мультимедиа") и "Отложенный" (в Интернете). Для сбора файлов можно использовать следующие сочетания клавиш:

Windows: CRTL +ALT+SHIFT+1

Mac: OPTION+COMMAND+SHIFT+1

По умолчанию ведение журнала мультимедиа отключено. Чтобы включить ведение журнала мультимедиа, пользователи должны включить этот параметр в Teams клиента. Перейдите **Параметры** общие и выберите Включить ведение журнала для диагностики собраний  >   **(требуется перезапуск Teams).** Чтобы Teams, необходимо перезапустить клиент.

> [!NOTE]
> Если ведение журнала мультимедиа включено, в папку Собрание будут включены дополнительные файлы, необходимые для исследования проблем со звуком и видео. Если ведение журнала мультимедиа не включено, будет доступно ограниченное количество журналов.

В следующей таблице описаны различные клиенты и связанные с ними журналы. Расположение файлов журналов зависит от клиента и операционной системы.


|Клиент |Журналы отладки|Рабочие журналы|Журналы мультимедиа|
|---------|---------|---------|---------|
|Веб-клиент    |X         |-         |-         |
|Windows     |X         |X         |X         |
|Mac OSX     |X         |X         |X         |
|Linux     |X         |X         |X         |
|iOS     |-         |-         |-         |
|Android     |-         |-         |-         |

Полный список поддерживаемых операционных систем и браузеров см. в статье [Работа с клиентами для Microsoft Teams](get-clients.md).

## <a name="debug-logs"></a>Журналы отладки

Инструкции _для Windows_ Mac см. в разделе Windows и включить ведение журнала. Журналы отлагки выпускаются классическими клиентами Windows и Mac, а также клиентами, основанными на браузерах. Журналы основаны на тексте и читают их снизу вверх. Их можно читать в любом текстовом редакторе, и при входе в клиент создаются новые журналы.

Журналы отладки показывают следующие потоки данных:

-   Вход

-   Запросы на подключение к службам среднего уровня

-   Звонок/беседа

Сбор журналов для Linux: сочетания клавиш CTRL+ALT+SHIFT+1 Файлы будут доступны в папке ~/Downloads

Сбор журналов для браузера: сочетания клавиш: CRTL +ALT+SHIFT+1 Файлы будут доступны в папке %userprofile%\Downloads

## <a name="media-logs"></a>Журналы мультимедиа

Инструкции _для Windows_ Mac см. в разделе Windows и включить ведение журнала. Журналы мультимедиа содержат диагностические данные о звуке, видео и совместном использовании экрана Teams собраниях. Они необходимы для случаев поддержки, связанных с вопросами, связанными со звонками.

По умолчанию ведение журнала мультимедиа отключено. Чтобы журнал диагностических данных Teams собраниях, пользователи должны включить параметр в Teams клиента. Перейдите **Параметры** общие , выберите включить ведение журнала для диагностики собраний  >   **(требуется** перезапуск Teams ), перезапустите Teams и воспроизводите проблему. 

При отправке файлов журнала в службу поддержки Майкрософт проверьте временную рамку файлов журнала, чтобы журналы охватывают период времени, заданный при воспроизведении проблемы.

Сбор журналов для Linux. Файлы будут доступны в ~/.config/Microsoft/Microsoft Teams/media-stack/ .blog и *~/.config/Microsoft/Microsoft Teams/skylib/*.blog.

Ниже данная информация содержит созданные файлы журналов и содержащиеся в них сведения.

|Имя файла журнала  |Описание  |
|---------|---------|
|Teams.msrtc-0-s1039525249.blog     | Содержит сведения, относящиеся к стеку мультимедиа. К ним относятся состояние канала, например разрешение, используемая декодаторы и кодировки, а также количество отправленных и полученных кадров, а также состояние сеанса видео- и видеосвязи камеры и видеосвязи.         |
|rtmcontrol.msrtc-0-2415069487.blog      |Записи сведений, связанных с действиями удаленного управления, таких как отметка времени при этом и указатель мыши.          |
|Teams_MediaStackETW-2-U-xr-U.etl      |Записи событий трассировки стека мультимедиа.         |
|Debug-0-s2790420889.blog    | Содержит сведения, связанные с агентом мультимедиа, включая качество отрисовки.          |
|tscalling-0-2061129496.blog   |Записи событий в API ts-calling.       |

## <a name="desktop-logs"></a>Рабочие журналы

Инструкции _для Windows_ Mac см. в разделе Windows и включить ведение журнала. Журналы рабочего стола, также известные как журналы загрузок, содержат данные журнала, которые происходят между клиентом для настольных компьютеров и браузером. Как и журналы мультимедиа, эти журналы следует предоставлять только по отдельному запросу Майкрософт. Журналы основаны на тексте и могут быть прочитано в любом текстовом редакторе в формате сверху вниз.

Чтобы собрать журналы для Linux: щелкните значок Microsoft Teams в области задач и выберите **Получить журналы**.
Файлы будут доступны в папке ~/.config/Microsoft/Microsoft Teams/logs.txt.  


## <a name="browser-trace"></a>Трассировка браузера

Для некоторых категорий ошибок служба поддержки Майкрософт может потребовать сбора трассировки браузера. Эти сведения могут предоставлять важные сведения о состоянии клиента Teams в случае возникновения ошибки.

Перед запуском трассировки браузера убедитесь, что вы уже Teams. Это важно сделать перед началом трассировки, чтобы она не содержала конфиденциальных сведений о входе.

После того как вы выполните вставку, выберите одну из следующих ссылок( при необходимости для браузера) и выполните предоставленные действия. 

-   [Chrome & Edge (Chromium)](/azure/azure-portal/capture-browser-trace#google-chrome-and-microsoft-edge-chromium?preserve-view=true#resolution)

-   [Пограничный сервер](/azure/azure-portal/capture-browser-trace#microsoft-edge-edgehtml?preserve-view=true#resolution)

-   [Сафари](/azure/azure-portal/capture-browser-trace#apple-safari?preserve-view=true#resolution)

-   [Firefox](/azure/azure-portal/capture-browser-trace#firefox?preserve-view=true#resolution)

> [!NOTE]
> В этом шаге замените все ссылки на портал Azure Teams клиента. 

## <a name="related-topics"></a>Статьи по теме

[Устранение неполадок Teams](/MicrosoftTeams/troubleshoot/teams)
