---
title: Развертывание команд в большом масштабе для сотрудников без компьютеров в Microsoft Teams
author: LanaChin
ms.author: v-lanachin
ms.reviewer: rahuldey
manager: samanro
ms.topic: article
audience: admin
ms.service: msteams
search.appverid: MET150
description: Узнайте, как развертывать команды в большом масштабе для сотрудников без компьютеров в организации.
ms.localizationpriority: medium
ms.collection:
- M365-collaboration
- Teams_ITAdmin_FLW
appliesto:
- Microsoft Teams
ROBOTS: NOINDEX, NOFOLLOW
ms.openlocfilehash: 561eaf310201b99ada9cce4dde49746d58d77088
ms.sourcegitcommit: 91cfb1a9c527d605300580c3acad63834ee54682
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/13/2022
ms.locfileid: "66046028"
---
# <a name="deploy-teams-at-scale-for-frontline-workers-in-microsoft-teams"></a>Развертывание команд в большом масштабе для сотрудников без компьютеров в Microsoft Teams

> [!NOTE]
> В настоящее время эта функция доступна в закрытой предварительной версии. Если вы хотите принять участие в закрытой предварительной версии, свяжитесь с нами по [адресу dscale@microsoft.com](mailto:dscale@microsoft.com).

## <a name="overview"></a>Обзор
 
В вашей организации может быть много команд, которые вы используете для обмена данными и совместной работы между сотрудниками, которые распределены по разным хранилищам, расположениям и ролям. В настоящее время нет простого решения для развертывания, настройки и управления этими командами и пользователями в большом масштабе.

Мы создадим решение, которое позволит администраторам развертывать команды и управлять ими в большом масштабе.

Ниже приведен обзор возможностей, доступных сегодня для создания большого количества команд и управления ими одновременно, а также о том, что мы планируем в ближайшее время.

||Доступно сегодня |Позже в 2022 г.  |
|---------|---------|---------|
|**Количество команд, которые можно создать для каждого пакета**|До 100 |До 500|
|**Количество пользователей, которые можно добавить на команду**|До 25|До 25|

Развертывание команд в большом масштабе позволяет выполнять следующие действия:

- Создавайте команды с помощью предварительно созданных шаблонов или собственных настраиваемых шаблонов.
- Добавление пользователей в команды в качестве владельцев или участников.
- Управление командами в большом масштабе путем добавления или удаления пользователей из существующих команд.
- Следите за уведомлениями по электронной почте, включая завершение, состояние и ошибки (при наличии). Вы можете уведомить до пяти человек о состоянии каждого пакета развертываемых команд. Владельцы и участники команды автоматически получают уведомления при добавлении в команду.

## <a name="how-to-deploy-teams-at-scale"></a>Развертывание команд в большом масштабе

> [!NOTE]
> Перед развертыванием команд убедитесь, что у всех владельцев команд есть Teams лицензии.

Выполните следующие действия, чтобы развернуть одновременно большое количество команд.

### <a name="step-1-prepare-your-csv-files"></a>Шаг 1. Подготовка CSV-файлов

Вам потребуется создать два CSV-файла для каждого пакета развертываемых команд:

- **CSV-файл, который определяет команды, которые вы создаете**. Этот файл должен содержать следующие обязательные столбцы в следующем порядке, начиная с первого столбца:

    |Имя столбца  |Описание  |
    |---------|---------|
    |**Имя команды**|Имя команды.|
    |**Существующий идентификатор команды**|При добавлении или удалении пользователей из существующей команды укажите ее идентификатор.|
    |**Видимость**|Является ли команда общедоступной (к которой может присоединиться любой пользователь в вашей организации) или закрытой (пользователям требуется утверждение от владельцев команды для присоединения). Параметры являются **общедоступными и** **частными**.|
    |**Идентификатор шаблона группы**|Если вы создаете команду на основе предварительно созданного или пользовательского шаблона, укажите идентификатор шаблона команды. Список [предварительно созданных](get-started-with-teams-templates-in-the-admin-console.md) шаблонов и идентификаторов групп см. в начало работы с шаблонами групп в центре администрирования Teams. Если вы хотите использовать стандартный шаблон команды по умолчанию, оставьте это поле пустым.|

- **CSV-файл, который сопоставляет пользователей, добавляемого в каждую команду**. Этот файл должен содержать следующие обязательные столбцы в следующем порядке, начиная с первого столбца:

    |Имя столбца  |Описание  |
    |---------|---------|
    |**Полное имя пользователя**|Отображаемое имя пользователя.|
    |**Имя участника-пользователя или идентификатор пользователя**|Имя участника-пользователя (UPN) или идентификатор пользователя. Например, averyh@contoso.com.|
    |**Имя команды**|Имя команды.|
    |**ActionType**|Независимо от того, добавляете вы или удаляете пользователя из команды. Параметры **: AddMember** и **RemoveMember**.|
    |**Владелец или член**|Является ли пользователь владельцем команды или членом команды. Параметры: **Owner** и **Member**.|

#### <a name="examples"></a>Примеры

Используйте следующие примеры для создания CSV-файлов. Здесь мы настроим имена файлов, Teams.csv и Users.csv.

**Teams.csv**

|Имя команды|Существующий идентификатор команды|Видимость|Идентификатор шаблона группы|
|---------|---------|---------|---------|
|Магазин Contoso 1||Общественного|com.microsoft.teams.template.retailStore|
|Магазин Contoso 2||Общественного|com.microsoft.teams.template.retailStore|
|Магазин Contoso 3||Общественного|com.microsoft.teams.template.retailStore|
|Магазин Contoso 4||Общественного|com.microsoft.teams.template.retailStore|
|Магазин Contoso 5||Общественного|com.microsoft.teams.template.ManageAProject|
|Магазин Contoso 6||Общественного|com.microsoft.teams.template.ManageAProject|
|Магазин Contoso 7||Общественного||
|Магазин Contoso 8||Частная|com.microsoft.teams.template.OnboardEmployees|
|Магазин Contoso 9||Частная|com.microsoft.teams.template.OnboardEmployees|
|Contoso Store 10||Частная|com.microsoft.teams.template.OnboardEmployees|

**Users.csv**

|Полное имя пользователя |Имя участника-пользователя или идентификатор пользователя|Имя команды|ActionType|Владелец или член|
|---------|---------|---------|---------|---------|
|Авери Муайт (Avery Ва|averyh@contoso.com|Магазин Contoso 1|AddMember|Владелец|
|Casey Jensen|caseyj@contoso.com|Магазин Contoso 2|AddMember|Владелец|
|Jessie Irwin|jessiei@contoso.com|Магазин Contoso 3|AddMember|Владелец|
|Манджет Бхатиа (Manjeet Bhatia)|manjeetb@contoso.com|Магазин Contoso 4|AddMember|Владелец|
|Микаэла Ли (Mikaela Lee)|mikaelal@contoso.com|Магазин Contoso 5|AddMember|Владелец|
|Долли Коннерс (Веб-коннерс)|morganc@contoso.com|Магазин Contoso 6|AddMember|Член|
|Вайо(Сша)|oscarw@contoso.com|Магазин Contoso 7|AddMember|Член|
|Йе Готье (ReneCodeier)|renep@contoso.com|Магазин Contoso 8|AddMember|Член|
|Сидней Маттос (Sydney Mattos)|sydneym@contoso.com|Магазин Contoso 9|AddMember|Член|
|Мартинес (Martinez)|violetm@contoso.com|Contoso Store 10|AddMember|Член|

### <a name="step-2-deploy-your-teams"></a>Шаг 2. Развертывание команд

Теперь, когда вы создали CSV-файлы, вы можете настроить среду и развернуть команды.

Командлет используется ```New-CsBatchTeamsDeployment``` для отправки пакета команд для создания. Для каждого пакета создается идентификатор оркестрации. Затем можно использовать командлет ```Get-CsBatchTeamsDeployment``` для отслеживания хода выполнения и состояния каждого пакета.

1. Установите PowerShell версии 7 или более поздней. Пошаговые инструкции см. в [статье об установке PowerShell Windows](/powershell/scripting/install/installing-powershell-on-windows).
1. Запустите PowerShell в режиме администратора.
1. Выполните следующую команду, чтобы удалить все ранее установленные Teams PowerShell.

    ```powershell
    Uninstall-module -Name MicrosoftTeams -Force -Allversions
    ```

    Если вы получаете сообщение об ошибке, вы уже задано. Перейдите к следующему шагу.
1. Скачайте и установите [последнюю версию модуля Teams PowerShell](https://www.powershellgallery.com/packages/MicrosoftTeams).

1. Выполните следующую команду, чтобы подключиться к Teams.

    ```powershell
    Connect-MicrosoftTeams
    ```

    При появлении запроса войдите в систему, используя учетные данные администратора.

1. Выполните следующую команду, чтобы получить список команд в Teams PowerShell.

    ```powershell
    Get-Command -Module MicrosoftTeams
    ```

    Убедитесь, что ```New-CsBatchTeamsDeployment``` они ```Get-CsBatchTeamsDeployment``` указаны.

1. Выполните следующую команду, чтобы развернуть пакет команд. В этой команде вы укажете путь к CSV-файлам и адресам электронной почты до пяти получателей, чтобы уведомить об этом развертывании.

    ```powershell
    New-CsBatchTeamsDeployment -TeamsFilePath "Your CSV file path" -UsersFilePath "Your CSV file path" -UsersToNotify "Email addresses" 
    ```

    Например:

    ```powershell
    New-CsBatchTeamsDeployment -TeamsFilePath "C:\dscale\Teams.csv" -UsersFilePath "C:\dscale\Users.csv" -UsersToNotify "adminteams@contoso.com,adelev@contoso.com"
    ```

    Получатели получат уведомления по электронной почте о состоянии развертывания. Сообщение электронной почты содержит идентификатор оркестрации для отправленного пакета и все ошибки, которые могли возникнуть.

1. Выполните следующую команду, чтобы проверить состояние отправленного пакета.

    ```powershell
    Get-CsBatchTeamsDeploymentStatus -OrchestrationId "OrchestrationId"
    ```

## <a name="send-us-feedback"></a>Отправьте нам отзыв

Мы будем ставьте свой отзыв. Удобство использования, надежность и производительность&mdash;— мы будем рады!

Отправьте [dscale@microsoft.com](mailto:dscale@microsoft.com) и включите идентификатор оркестрации и файл ошибок, если он у вас есть.

## <a name="related-articles"></a>Статьи по теме

- [Обзор PowerShell в Teams](teams-powershell-overview.md)
