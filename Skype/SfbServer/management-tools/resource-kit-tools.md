---
title: Skype для бизнеса Server 2015 Resource Kit Tools
ms.reviewer: ''
ms.author: serdars
author: SerdarSoysal
manager: serdars
ms.date: 1/20/2017
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
ms.localizationpriority: medium
ms.assetid: b1c341f1-86fa-479d-ba4d-28df5a4c1622
description: В этой статье описываются средства в пакете ресурсов Skype для бизнеса Server 2015, включая назначение каждого средства, а также примеры его использования. Пакет ресурсов Skype для бизнеса Server 2015 упрощает выполнение стандартных задач для ИТ-администраторов, которые развертывают и управляют Skype для бизнеса Server 2015. Например, с помощью средства "Данные веб-конференции" можно легко управлять данными, которые передаются пользователями во время собрания по сети. Средство SEFAUtil можно использовать для настройки переадресации вызовов делегата и ответа для пользователей. Мы рекомендуем ИТ-администраторам использовать эти средства для более эффективного управления Skype для бизнеса Server 2015.
ms.openlocfilehash: 83777dbe16e70030b13c07fced716ffbc4d51f35
ms.sourcegitcommit: 296862e02b548f0212c9c70504e65b467d459cc3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/25/2022
ms.locfileid: "65675501"
---
# <a name="skype-for-business-server-2015-resource-kit-tools-documentation"></a>Skype для бизнеса Server 2015 Resource Kit Tools

В этой статье описываются средства в пакете ресурсов Skype для бизнеса Server 2015, включая назначение каждого средства, а также примеры его использования. Пакет ресурсов Skype для бизнеса Server 2015 упрощает выполнение стандартных задач для ИТ-администраторов, которые развертывают и управляют Skype для бизнеса Server 2015. Например, с помощью средства **"Данные веб-конференции** " можно легко управлять данными, которые передаются пользователями во время собрания по сети. Средство **SEFAUtil** можно использовать для настройки переадресации вызовов делегата и ответа для пользователей. Мы рекомендуем ИТ-администраторам использовать эти средства для более эффективного управления Skype для бизнеса Server 2015.

## <a name="installation-of-the-resource-kit-tools"></a>Установка средств набора ресурсов

Чтобы установить Skype для бизнеса Server 2015, скачайте [OCSReskit.msiиз Центра ](https://www.microsoft.com/download/details.aspx?id=52631) загрузки.

**ВыполнитеOCSResKit.msi**, чтобы выполнить простую установку. В .msi устанавливаются все средства по следующему пути: **%Program Files%\Skype для бизнеса Server 2015\ResKit**. Средства, которые являются автономными исполняемыми файлами, находятся в этой папке. Средства, которые также содержат вспомогательные файлы, находятся в собственных вложенных папках.

## <a name="supported-environments"></a>Поддерживаемые среды

Пакет ресурсов Skype для бизнеса Server 2015 должен быть установлен на сервере, который соответствует спецификациям, необходимым для Skype для бизнеса Server 2015, обычно для запуска Skype для бизнеса Server 2015.

## <a name="resource-kit-tools-overview"></a>Общие сведения о средствах набора ресурсов

Ниже приведен список средств, предоставляемых в пакете ресурсов Skype для бизнеса Server 2015. Описание каждого средства, включая требования и примеры использования, рассматривается в следующих разделах.

- [ABSConfig](resource-kit-tools.md#ABSConfig)

- [Монитор службы политики пропускной способности](resource-kit-tools.md#bpsm)

- [Анализатор использования пропускной способности](resource-kit-tools.md#bua)

- [Вызов parkometer](resource-kit-tools.md#callpark)

- [DBAnalyze](resource-kit-tools.md#dba)

- [Импорт служба хранилища данных службы](resource-kit-tools.md#Issd)

- [LCSSync](resource-kit-tools.md#LCSSync)

- [Консоль пользователя подстановки](resource-kit-tools.md#LUC)

- [MsTurnPing](resource-kit-tools.md#MsTurnPing)

- [Средство просмотра конфигурации сети](resource-kit-tools.md#NCV)

- [Агент группы ответа в реальном времени](resource-kit-tools.md#RGAL)

- [SEFAUtil](resource-kit-tools.md#SEFAUtil)

- [SYSPrep.ps1](resource-kit-tools.md#SYSPrep)

- [Миграция объявлений о неназначенных номерах](resource-kit-tools.md#UNAM)

- [Данные веб-конференции](resource-kit-tools.md#WebConfData)

## <a name="absconfig"></a>ABSConfig
<a name="ABSConfig"> </a>

Средство настройки службы адресной книги (ABSConfig) — это средство администрирования, которое помогает администраторам настраивать конфигурацию службы адресной книги в Skype для бизнеса Server 2015. Это средство также позволяет Skype для бизнеса Server 2015 для восстановления параметров службы адресной книги по умолчанию.

### <a name="description"></a>Описание

ABSConfig — это графическое приложение пользовательского интерфейса, которое позволяет администраторам настраивать доменные службы Active Directory атрибуты, связанные со службой адресной книги.

Ниже приведены основные сценарии для этого средства.

- Чтобы разрешить администраторам сопоставлять атрибуты в доменные службы Active Directory атрибуты для Skype для бизнеса Server 2015.

- Чтобы разрешить администраторам указывать атрибут доменные службы Active Directory, который должен быть включен или исключен в файлы службы адресной книги.

- Чтобы разрешить администраторам восстановление, заданы параметры службы адресной книги по умолчанию.

Средство ABSConfig можно запустить с помощью ABSConfig.exe файла. Средство откроется на **вкладке "Настройка атрибутов**". В этой таблице можно сопоставить атрибуты доменные службы Active Directory с полями атрибутов для Skype для бизнеса Server 2015 года и указать, какие пользователи следует включить или исключить в файлы службы адресной книги на основе определенных фильтров атрибутов. В ней также можно настроить, какое значение номера телефона будет включено в файл адресной книги. Параметр **"Восстановить значения по умолчанию** " позволяет администраторам восстановить параметры службы адресной книги до значений по умолчанию.

> [!NOTE]
> Повторное сопоставление атрибутов AD с разными именами полей OC будет работать только для скачивания файлов адресной книги и не поддерживается веб-запросом адресной книги.

### <a name="output"></a>Выходные данные

ABSConfig хранит конфигурацию службы адресной книги в базе данных.

```console
Path: %ProgramFiles%\Skype for Business Server 2015\Reskit
```

### <a name="purpose"></a>Назначение

ABSConfig предоставляет быстрый и простой способ настройки службы адресной книги Skype для бизнеса Server 2015.

### <a name="requirements"></a>Требования

#### <a name="computer"></a>Компьютер

ABSConfig можно запускать только с присоединенного к домену компьютера, на котором установлен Skype для бизнеса Server 2015. В случае Skype для бизнеса Server 2015 выпуск Enterprise этот инструмент можно запустить на любых серверах Front-End, на которых во время установки включена служба адресной книги.

#### <a name="network"></a>Сеть

Компьютер должен иметь возможность подключаться к Front-End пулу и серверной базе данных.

#### <a name="software"></a>Программное обеспечение

Перед запуском средства ABSConfig необходимо установить следующие программные компоненты:

- Skype для бизнеса Server 2015

#### <a name="users"></a>Пользователи

Администраторы, которые имеют разрешения, необходимые для обновления Skype для бизнеса Server развертывания 2015.

### <a name="examples"></a>Примеры

AbSConfig можно запустить, **введя** ABSConfig.exeв командной строке. Ниже показан пользовательский интерфейс средства ABSConfig.

![Средство ABSConfig.exe.](../media/Reskit_2012_Tools_Documentation_ABSConfig.JPG)

### <a name="summary"></a>Краткое содержание

Средство ABSConfig предоставляет администраторам быстрое и простое в использовании средство для настройки службы адресной книги Skype для бизнеса Server 2015.

## <a name="bandwidth-policy-service-monitor"></a>Монитор службы политики пропускной способности
<a name="bpsm"> </a>

Средство мониторинга службы политики пропускной способности позволяет администраторам просматривать список следующих элементов:

1. Все настроенные службы Skype для бизнеса Server пропускной способности 2015 (проверка подлинности и ядро) в топологии

2. Подключения, которые каждая служба устанавливает к другим службам политики пропускной способности и пограничным серверам

3. Все ссылки, настроенные в документе конфигурации сети и использовании пропускной способности в режиме реального времени, как сообщает каждая из служб политики пропускной способности.

### <a name="description"></a>Описание

Монитор службы политики пропускной способности реализуется как приложение на основе графического пользовательского интерфейса. Администраторы запускают средство, запуская PDPMonUI.exe.

При запуске средство пытается обнаружить список служб политики пропускной способности в топологии. После завершения начального обновления область слева от окна заполняется списком служб, сгруппированных по кластерам, к которых они принадлежат.

Когда администраторы выбирают определенную службу политики пропускной способности, на панели справа отображаются сведения об этой конкретной службе. Эта панель также содержит две основные вкладки, на которых отображаются сведения.

#### <a name="machine-info-tab"></a>Вкладка сведений о компьютере

На **вкладке** "Сведения о компьютере" отображаются сведения о выбранной службе политики пропускной способности, а также список и состояние всех подключений, созданных выбранной службой политики пропускной способности к другим службам.

#### <a name="topology-info-tab"></a>Вкладка "Сведения о топологии"

На **вкладке "Сведения о** топологии" отображается список всех ссылок, настроенных в параметрах конфигурации сети. Для каждой ссылки отображается пропускная способность звука и видео. Кроме того, отображается используемая в настоящее время пропускная способность как в Кбит/с, так и в процентах от емкости. Средство использует цветовую кодировки для выделения ссылок с использованием, близких к емкости. Это позволяет администраторам быстро изолировать такие ссылки.

> [!NOTE]
>  Если при подключении средства мониторинга службы политики пропускной способности происходит сбой при подключении к любой из настроенных служб политики пропускной способности, данные на  вкладке "Сведения о компьютере" и "Сведения о топологии" заполнены не будут. Однако возможно, что средство может подключиться изначально, но впоследствии потерять подключение к службе. В таких случаях администраторы могут видеть устаревшие сведения. На **каждой вкладке** есть метка времени последнего обновления, которая позволяет администраторам видеть время последнего обновления данных для конкретной службы политики пропускной способности.

### <a name="output"></a>Выходные данные

Выходные данные командной строки отсутствуют; Выходные данные программы содержатся в основном графическом пользовательском интерфейсе (GUI).

### <a name="purpose"></a>Назначение

Средство мониторинга службы политики пропускной способности позволяет администраторам отслеживать состояние каждой службы политики пропускной способности, определенной в топологии. Кроме того, администраторы могут просматривать использование пропускной способности в режиме реального времени для всех ссылок, определенных в документе о конфигурации сети.

### <a name="requirements"></a>Требования

Средство мониторинга службы политики пропускной способности должно выполняться на компьютере, который является частью Skype для бизнеса Server топологии.

### <a name="summary"></a>Краткое содержание

Средство мониторинга службы политики пропускной способности может быть ценным ресурсом для администраторов, чтобы они могли проверить состояние всех служб политики пропускной способности в топологии, и, что более важно, они могут получить использование пропускной способности в режиме реального времени для ссылок, определенных в параметрах конфигурации сети.

## <a name="bandwidth-utilization-analyzer"></a>Анализатор использования пропускной способности
<a name="bua"> </a>

Анализатор использования пропускной способности — это средство, которое создает отчеты о различных представлениях потребления пропускной способности конечными точками UC по каналам глобальной сети в корпоративной сети. Эти отчеты можно использовать для понимания текущего шаблона потребления пропускной способности и для помощи в планировании пропускной способности.

### <a name="description"></a>Описание

Анализатор использования пропускной способности реализуется как приложение на основе графического пользовательского интерфейса. Это средство создает отчеты специально для использования звука по сети и помогает с планированием емкости. Он также выполняет итерацию по пропускной способности, назначенной различным ссылкам.

### <a name="output"></a>Выходные данные

Анализатор использования пропускной способности предоставляет графические графики пропускной способности и использования звука для всех каналов глобальной сети, настроенных в системе.

### <a name="purpose"></a>Назначение

В любом развертывании голосовой и видеосвязи важно отслеживать и понимать тенденцию использования пропускной способности трафика мультимедиа в корпоративной сети. Средство анализатора использования пропускной способности позволяет администратору достичь только этого. Это средство выполняет следующие действия:

- Создает конкретные отчеты об использовании звука по сети.

- Помогает более эффективно планировать емкость и выполнять итерацию пропускной способности, назначенной различным ссылкам.

Анализатор использования пропускной способности может создавать графические графики емкости пропускной способности и отчетов об использовании; они будут выглядеть следующим образом:

- Все связи глобальной сети в корпоративной сети

- Фильтрация по выбранным ссылкам глобальной сети, которые были выбраны

- Фильтрация по ссылкам глобальной сети, для которых превышена емкость канала

- Фильтрация по каналам глобальной сети, которые недостаточно используются подготовленной пропускной способностью

- Фильтрация по каналам глобальной сети, которые достигли критических уровней (использование пропускной способности, превышающее 90 % пропускной способности канала глобальной сети)

- Фильтрация по типу ссылки глобальной сети — сетевым ссылкам, межрегионным ссылкам и ссылкам на сайте

- Фильтрация по региону сети

#### <a name="applications"></a>Приложения

Анализатор использования пропускной способности имеет следующие два приложения (средства):

- **WanLinkLogCollector.exe** Это средство позволяет пользователю вводить необходимые сведения.

- **Отчет о программном обеспечении bandwidthUtilizationAnalyzer.xlsm** A Microsoft Excel электронной таблицы автоматически запускается WanLinkLogCollector.exe. Это приложение позволяет пользователю применять фильтры к отчету, как показано далее в этой статье.

#### <a name="phases-of-using-bandwidth-utilization-analyzer"></a>Этапы использования анализатора использования пропускной способности

При использовании анализатора использования пропускной способности существует два этапа:

- Сбор журналов, которые выполняются с помощью WanLinkLogCollector.exe

- Настройка отчетов, выполняемых с помощью BandwidthUtilizationAnalyzer.xlsm

  > [!IMPORTANT]
  > Настоятельно рекомендуется, чтобы конечные пользователи не запускали bandwidthUtilizationAnalyzer.xlsm вручную.

#### <a name="starting-bandwidth-utilization-analyzer"></a>Запуск анализатора использования пропускной способности

Начните WanLinkLogCollector.exe в командной строке или с помощью Windows Explorer.

 **Использование WanLinkLogCollector.exe**

Существует три шага по использованию WanLinkLogCollector.exe.

1. **Запись временной шкалы в журнал** Укажите временную шкалу, для которых должен быть создан отчет.

2. **Указание каталогов файлов** Укажите сведения о расположении файла

3. **Сбор журналов и запуск средства просмотра отчетов** Выполните команду для создания отчета.

#### <a name="step-1---log-the-timeline"></a>Шаг 1. Запись временной шкалы в журнал

Ведение журнала временной шкалы позволяет пользователю средства указать следующее, как показано на рисунке ниже.

1. **Дата начала** Это дата начала временной шкалы, для которого создается отчет. Например, 1 августа 2010 г.

2. **Дата окончания** Это дата окончания временной шкалы, для которого создается отчет. Например, 30 сентября 2010 г.

     ![Даты начала и окончания использования пропускной способности A.](../media/Reskit_2012_Tools_Documentation_Image4.jpg)

#### <a name="step-2---specify-the-file-directories"></a>Шаг 2. Указание каталогов файлов

Указанные ниже каталоги файлов могут быть указаны пользователем, как показано ниже.

- **Расположение файлов журнала сервера** Расположение папки, в которой хранятся журналы сервера политики пропускной способности. Как правило, это<\<fileserver\>\\ fe\>\AppServerFiles\PDP.

- **Расположение временного хранилища файлов** Расположение временного файла, в котором хранятся промежуточные файлы во время создания отчета.

  ![Каталоги файлов в anal использования пропускной способности.](../media/Reskit_2012_Tools_Documentation_Image5.jpg)

  > [!NOTE]
  > Убедитесь, что пользователю средства предоставлен достаточный доступ к журналам сервера и папке временного хранилища файлов.

#### <a name="step-3---collect-the-logs-and-start-the-report-viewer"></a>Шаг 3. Сбор журналов и запуск средства просмотра отчетов

Чтобы собрать журналы и запустить средство просмотра отчетов, нажмите кнопку **"** Выполнить", как показано ниже. Этот шаг собирает необходимые данные.

![Сбор данных в аналитике использования пропускной способности.](../media/Reskit_2012_Tools_Documentation_Image6.jpg)

При успешной проверке входных данных отображается сообщение, показанное ниже.

![Журналы, собранные уведомления в Utili пропускной способности.](../media/Reskit_2012_Tools_Documentation_Image7.jpg)

Нажмите кнопку **ОК**. BandwidthUtilizationAnalyzer.xlsm запускается автоматически. Следуйте инструкциям в окне сообщения. Дополнительные сведения см. в **разделе Using BandwidthUtilizationAnalyzer.xlsm** в следующем разделе.


### <a name="using-bandwidthutilizationanalyzerxlsm"></a>Использование BandwidthUtilizationAnalyzer.xlsm

1. При автоматическом запуске BandwidthUtilizationAnalyzer.xlsm нажмите кнопку **"** Обновить", как показано ниже.

     ![BandwidthUtilizationAnalyzer.xlsm.](../media/Reskit_2012_Tools_Documentation_Image8.jpg)

2. При открытии папки файла выберите consolidated.csv из расположения, указанного в окне сообщения, как показано ниже. Здесь также показано расположение **C:\Temp**.

     ![Открытие папки в BandwidthUtilizationAnalyzer.](../media/Reskit_2012_Tools_Documentation_Image9.jpg)

3. Нажмите кнопку **Импортировать**.

4. Графическая диаграмма создается автоматически. Он доступен, когда рабочий в фоновом режиме указатель исчезает.

     ![Применение фильтров в представлении отчета.](../media/Reskit_2012_Tools_Documentation_Image11.jpg)

#### <a name="applying-filters-to-the-report-view"></a>Применение фильтров к представлению отчета

Фильтры, которые можно применить к представлению отчета, как показано ниже, описаны следующим образом:

![Применение фильтров в представлении отчета.](../media/Reskit_2012_Tools_Documentation_Image11.jpg)

1. **Имя** Фильтрация по ссылкам глобальной сети (фильтр находится в правой части графа). Префикс обозначает следующие типы ссылок. см. вертикальное (синее) поле:

   - **Сайт S** Связь глобальной сети с сетевого сайта на сетевой регион

   - **Is Inter-Site** Связь глобальной сети между двумя сетевыми сайтами

   - **Между регионами R** Связь глобальной сети между двумя регионами сети

2. **Превышено ограничение** Фильтрация по каналам глобальной сети, использование пропускной способности которых превышает пропускную способность

3. **Критические уровни** Фильтрация по каналам глобальной сети, использование пропускной способности которых достигло 90 % или больше пропускной способности

4. **Недостаточное использование** Фильтрация по каналам глобальной сети, использование пропускной способности которых меньше 25 % пропускной способности

5. **Тип ссылки** Фильтрация по следующим типам ссылок глобальной сети:

   - **Тип сетевого** сайта

   - **Тип меж сайта**

   - **Тип связи между регионами**

6. **Регионе** Фильтрация по регионам сети

На следующих рисунках показаны описанные выше фильтры.

Фильтрация по **имени**. Выберите список ссылок, которые должны отображаться на графе.

![Фильтрация по имени в BandwidthUtilizationAnalyzer.](../media/Reskit_2012_Tools_Documentation_Image12.jpg)

Фильтрация по **превышению лимита**. Выберите **"True** ", чтобы применить фильтр.

![Фильтрация по превышению лимита.](../media/Reskit_2012_Tools_Documentation_Image13.jpg)

Фильтрация по **критическим уровням**. Выберите **"True** ", чтобы применить фильтр.

![Фильтрация по критическим уровням.](../media/Reskit_2012_Tools_Documentation_Image14.jpg)

**Отфильтруйте по категории "Используется"**. Выберите **"True** ", чтобы применить фильтр.

![Фильтрация по уровням использования.](../media/Reskit_2012_Tools_Documentation_Image15.jpg)

Фильтрация по **типу ссылки**. Выберите тип или типы, которые должны отображаться.

![Фильтрация по типу ссылки.](../media/Reskit_2012_Tools_Documentation_Image16.jpg)

Фильтрация по **регионам**. Выберите список регионов, ссылки которых необходимо отобразить.

![Фильтрация по регионам.](../media/Reskit_2012_Tools_Documentation_Image17.jpg)

### <a name="requirements"></a>Требования

- Версия платформа .NET Framework 3.5

- Microsoft Excel 2010, русская версия или Excel 2007

### <a name="summary"></a>Краткое содержание

Анализатор использования пропускной способности используется для построения диаграммы использования пропускной способности звука для трафика UC по сети. Это средство также можно использовать для создания отчетов об использовании пропускной способности видео в сети.

## <a name="call-parkometer"></a>Вызов parkometer
<a name="callpark"> </a>

Call Parkometer — это приложение командной строки, которое обеспечивает простой доступ к базе данных орбиты парковки вызовов.

### <a name="description"></a>Описание

Call Parkometer — это средство для отслеживания текущих припаркованных вызовов. Он также собирает статистику об орбитах и использовании сервера парковки вызовов (CPS). Это средство командной строки предоставляет доступ как для чтения, так и для записи к орбите CPS SQL Server с локального или удаленно подключенного компьютера.

Все параметры являются взаимоисключающими. Синтаксис командной строки выглядит следующим образом:

- **Параметр -o** — перечисляет все диапазоны орбит, настроенные для этого пула.

- **Параметр -n** — перечисляет все используемые в данный момент орбиты в этом пуле. Отображаются следующие сведения:

  - Универсальный код ресурса (URI) SIP для припаркованного и припаркованного объекта.

  - Имя узла CPS, на котором приостановлен вызов.

  - Метка времени приостановки вызова.

- **Параметр -f** — перечисляет количество свободных орбит в пуле.

- **-r \<n\>** Параметр  — перечисляет \<n\> последние припаркованные вызовы. Отображаются следующие сведения:

  - URI Parkee SIP.

  - Универсальный код ресурса (URI) SIP для parker.

  - Имя узла CPS, в котором был приостановлен вызов.

  - Метка времени получения или удаления вызова.

- **-t\<n\>** параметр  — проверяет резервирование орбиты в базе данных для отображения случайности назначенных номеров орбиты.

### <a name="output"></a>Выходные данные

В зависимости от входных параметров, указанных в командной строке, при вызове Parkometer отображаются следующие выходные данные:

- Все диапазоны орбит, настроенные для этого пула

- В настоящее время приостановленные вызовы

- Количество свободных (доступных) орбит

- Недавно приостановленные вызовы

- Зарезервированные орбиты для тестирования универсальных и случайных значений орбиты

### <a name="purpose"></a>Назначение

Цель средства CPS — предоставить доступ из командной строки к базе данных CPS. Администратор может просмотреть сведения об использовании CPS и определить количество орбит, назначенных пулу.

### <a name="requirements"></a>Требования

Нет никаких требований, если это средство выполняется на том же компьютере, где запущена CPS. Если это средство выполняется на удаленном компьютере, база SQL Server, используемая Skype для бизнеса Server 2015, должна быть настроена для разрешения удаленного доступа. Для вызова Parkometer необходимо настроить строку подключения SQL Server базы данных для подключения к SQL Server пула. Эта SQL Server базы данных определяется в файле конфигурации **,parkometer.exe.config**. Его необходимо поместить в тот же каталог, в parkometer.exe расположении. Следующий XML-файл является примером parkometer.exe.config. Параметры, которые необходимо настроить, — это имя пользователя (например, mydomain\Administrator), пароль (например, mypassword) и имя узла (например, myserver).

```xml
<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <appSettings>
   <add key="SQL" value="server=myserver\RTC;
database=cpsdyn;
User Id=mydomain\Administrator;
Password=mypassword.;
Integrated Security=false;"/>
  </appSettings>
</configuration>
```

### <a name="examples"></a>Примеры

Развернутые диапазоны орбит: параметр -o перечисляет все диапазоны орбит, настроенные для этого пула, как показано ниже.

![Диапазоны орбит в call Parkometer.](../media/Reskit_2012_Tools_Documentation_Image18.jpg)

В настоящее время припаркованные вызовы: параметр -n перечисляет все используемые в данный момент орбиты в этом пуле, как показано ниже.

![В настоящее время приостановленные вызовы в call Parkometer.](../media/Reskit_2012_Tools_Documentation_Image19.jpg)

Количество свободных орбит: параметр -f выводит количество свободных орбит в пуле, как показано ниже.

![Бесплатные орбиты в call Parkometer.](../media/Reskit_2012_Tools_Documentation_Image20.jpg)

Недавно приостановленные вызовы: параметр -r \<n\> выводит список последних \<n\> припаркованных вызовов, как показано ниже.

![Недавно припаркованные вызовы в call Parkometer.](../media/Reskit_2012_Tools_Documentation_Image21.jpg)

Тестирование резервирования орбиты: параметр -t \<n\> проверяет резервирование орбиты в базе данных, как показано ниже.

![Тестирование резервирований орбит в call Parkometer.](../media/Reskit_2012_Tools_Documentation_Image22.jpg)

### <a name="summary"></a>Краткое содержание

Call Parkometer — это средство командной строки, которое предоставляет подробные сведения о сервере парковки вызовов.

## <a name="dbanalyze"></a>DBAnalyze
<a name="dba"> </a>

### <a name="description"></a>Описание

DBAnalyze — это средство командной строки, которое помогает администраторам собирать аналитические отчеты о базах данных Skype для бизнеса Server 2015. DBAnalyze имеет следующие режимы: диагностика, данные пользователя, конференция, mcu и фрагментация диска:

- **Режим диагностики** Создает отчет, содержащий сведения о таблицах (количество записей, фрагментация, размер данных и размер индекса), размерах файлов данных и журналов, времени последнего резервного копирования, распределении контактов между серверами, на которых работает сервер Microsoft Office Communications Server, среднее количество разрешений, контактов, контейнеров, подписок, публикаций, конечных точек на пользователя, всех неправильно домашних пользователей, пользователей, которые не могут быть перенаправлены,  среднее количество конференций, организованных для каждого пользователя, запланированных конференций, активных конференций и версии базы данных.

    > [!NOTE]
    > Запуск режима диагностики может повлиять на производительность сервера.

- **Пользовательский режим данных** Сообщает контактные данные контактов, контейнеров, подписок, публикаций, разрешений и групп контактов для указанного пользователя или пользователей, имеющих этого пользователя в списках контактов и разрешений. Этот режим также предоставляет сводные данные для конференций, на которые пользователь организует или на которые приглашен.

- **Режим конференции** Предоставляет подробные данные для конкретной конференции, включая все сведения о расписании конференции, список приглашенных, список типов носителей, разрешенных для конференции, активные mcU (единицы управления несколькими точками), список активных участников и состояние сигналов каждого участника.

- **Декодирование идентификатора собрания** Декодирует идентификатор собрания телефонной сети общего пользования (ТСОП), указанный параметром **/pstnid** , но не подключающийся к серверной части для получения подробных сведений.

- **Разрешение конференции** Декодирует идентификатор собрания ТСОП, указанный параметром **/pstnid** , и отображает сведения о конференции, указанной идентификатором.

- **Режим MCUs** Сообщает идентификатор, тип носителя, URL-адрес, состояние пульса, загрузку конференции и загрузку участника для каждого MCU в пуле.

- **Режим фрагментации диска** Отображает состояние фрагментации всех дисков.

Это средство можно использовать для диагностики различных проблем или для помощи администраторам в планировании емкости. Например, если большинство пользователей, которые размещены на сервере A, выбирают пользователей, которые размещены на сервере B, администратор может переместить пользователей на сервер A на сервер Б, чтобы сократить трафик между серверами.

### <a name="output"></a>Выходные данные

Это средство выводит предопределенные отчеты о базе Skype для бизнеса Server 2015. **Путь**: %ProgramFiles%\Skype для бизнеса Server 2015\Reskit

### <a name="purpose"></a>Назначение

Чтобы установить Dbanalyze.exe, скопируйте его в локальную папку и запустите средство. Чтобы использовать средство, выполните следующую команду из командной строки. `dbanalyze.exe [/v] [/report:value] [/sqlserver:value] [/user:user@domain.com] [/conf:value][/pstnid:Value] [/maxcontacts:value]` Ниже приведены описания параметров командной строки.

![Параметры командной строки для Dbanalyze.exe.](../media/Reskit_2012_Tools_Documentation_Image35.JPG)

### <a name="requirements"></a>Требования

 **Компьютере** DBAnalyze можно запускать только с присоединенного к домену компьютера, на котором установлен Skype для бизнеса Server 2015.

 **Сети** Компьютер должен иметь возможность подключаться к серверной базе данных.

 **Перед** запуском DBAnalyze необходимо установить программные компоненты Skype для бизнеса Server 2015.

 **Пользователей** В таблице ниже показаны администраторы, которые имеют необходимые разрешения для доступа к Skype для бизнеса Server 2015.

![Таблица разрешений для Dbanalyze.exe.](../media/Reskit_2012_Tools_Documentation_Image36.JPG)

> [!NOTE]
> Для режима **/report:disk требуется учетная запись локального администратора** .

### <a name="examples"></a>Примеры

Ниже приведены примеры допустимых Dbanalyze.exe команд.

```console
dbanalyze.exe /report:diag
dbanalyze.exe /report:user /user:usera@domainb.com
dbanalyze.exe /report:conf /user:bob@example.com /conf:1W9J71SKSX2X
dbanalyze.exe /report:resolve /pstnid:12345
dbanalyze.exe /report:mcus
dbanalyze.exe /report:disk
```

### <a name="summary"></a>Краткое содержание

DBAnalyzer предоставляет администраторам быстрый и простой для анализа Skype для бизнеса Server 2015.

## <a name="import-storage-service-data"></a>Импорт служба хранилища данных службы
<a name="Issd"> </a>

Средство набора ресурсов ImportStorageServiceData позволяет повторно импортировать данные очереди и конечной точки, которые были удалены из службы служба хранилища (LYSS) обратно в службу служба хранилища.

### <a name="description"></a>Описание

Данные, извлеченные из служба хранилища службы, могли быть автоматически (периодически) в зависимости от состояния элемента очереди или размера базы данных. Это могло произойти из-за ручного вызова командлета отработки отказа пула или командлета StorageServiceFullFlush (который вызывает командлет отработки отказа пула). Обратите внимание, что в идеале данные не должны повторно импортироваться, если любой из размеров базы данных службы служба хранилища (LYSS) на внешних интерфейсах превышает обычный уровень, так как это, скорее всего, приведет к простому экспорту дополнительных данных. Кроме того, сначала следует устранить все проблемы, которые могли привести к ошибкам, которые привели к тому, что очередь службы служба хранилища растет (например, ошибки конечной точки Exchange сетевые проблемы или другие проблемы).

 **Сценарий 1.** Во время отработки отказа пула файлы могут быть удалены из службы хранилища для каждого внешнего интерфейса. После завершения отработки отказа средство должно быть выполнено для повторной записи данных.

 **Сценарий 2.** Данные сбрасываются автоматически каждый день или в ответ на служба хранилища Базы данных службы, превышают определенные пороговые значения размера (например, 60 %, 80 %, 90 % заполнено). Администратор должен регулярно повторно записывать эти данные. В приведенной выше ситуации, если пакет SCOM для мониторинга не развернут, существуют события для службы Skype для бизнеса Server служба хранилища, связанные с очисткой данных из служба хранилища Service. Идентификаторы событий 32075 (запущена полная операция очистки), 32076 (полная очистка завершена), 32082 (запущена очистка на уровне обслуживания), 32083 (очистка на уровне обслуживания завершена), 32089 (очистка произошла из-за заполнения базы данных). Обратите внимание, что эти идентификаторы событий соответствуют выпуску RTM. Когда администратор видит эти события, это означает, что существуют файлы, которые были удалены. Эти данные следует регулярно импортировать обратно с помощью этого средства, например один раз в неделю.

В выпуске веб-службы при развертывании пакета SCOM для мониторинга работоспособности для Skype для бизнеса Server могут появиться новые оповещения, которые запрашивают у администратора повторное перезаписи сохраненных данных в служба хранилища Service. В журнале событий на Front-End, который активирует оповещение, будет соответствующее событие. Это событие предоставит описание родительского пути, по которому находятся файлы данных с очисткой, и количество файлов, соответствующих критериям генерации оповещений. Условие оповещения — наличие X или нескольких файлов по определенному родительскому пути, которые находятся не менее Y дней назад (где X и Y предварительно заданы в Службе хранилища, но могут быть переопределены путем изменения файла APPCONFIG).) Ниже показаны два примера событий, которые могут активировать оповещение о работоспособности, с разницей в их родительском пути. Один из вариантов — в общей папке веб-службы, а другой — локальный каталог данных приложения для каждого внешнего интерфейса. (например, c:\ProgramData\Microsoft\Skype для бизнеса Server 2015\StorageService). Затем администратор запустит это средство reskit.

Это средство увеличит загрузку ЦП и операций ввода-вывода во внешнем интерфейсе, на котором оно выполняется, и на других внешних интерфейсах в ситуации, когда данные не принадлежат внешнему интерфейсу, в котором выполняется средство. Мы рекомендуем запускать это средство, если внешние интерфейсы не находятся под интенсивной загрузкой ЦП и операций ввода-вывода, например в нерабочее время. Во-вторую, это средство может импортировать один файл данных в течение 2–3 минут. Помните об этом при оценке того, как долго будет выполняться средство. Подробный файл журнала, созданный средством, по умолчанию будет отображаться в хранилище файлов. Удалите его при отсутствии сообщений об ошибках, так как размер файла журнала может быть не более десятков МБ.

![Пример служба хранилища событий журнала событий сервера.](../media/Reskit_2012_Tools_Documentation_Image1.jpg)

### <a name="requirements"></a>Требования

Установите Skype для бизнеса Server 2015 Resource Kit. Средство выполняется на компьютерах, присоединенных к домену, Skype для бизнеса Server и Skype для бизнеса Server management Shell. Средство использует командлет из оболочки управления для идентификации всех Front-End серверов в пуле. Во-вторую, средство должно выполняться с компьютера в пуле, на котором установлена база **данных RtcLocal** . Эта база данных используется средством для получения расположения общей папки WEBSERVICE для пула. Кроме того, перед использованием средства каждый сервер Front-End должен сначала включить удаленное взаимодействие Windows PowerShell с помощью **Enable-PSRemoting** на каждом сервере Front-End и компьютере, с которого выполняется средство. В противном случае Windows PowerShell команды удаленного доступа из этого средства завершались сбоем. Windows PowerShell удаленное взаимодействие можно отключить на всех Front-End серверов в пуле после его завершения. Наконец, учетная запись или учетные данные, которые вызывает средство, должны иметь разрешение на чтение и запись в общую папку веб-службы для пула, в котором они выполняют это средство. В противном случае средство завершится ошибкой разрешения ввода-вывода.

> [!NOTE]
> В Windows Server 2012 Windows PowerShell удаленное взаимодействие включено по умолчанию, но не в операционной системе Windows Server 2008.

### <a name="examples"></a>Примеры

```console
>  C:\StorageService>ImportStorageServiceData.exe
Description:
This tool will re-import Storage Service (LYSS) flushed queue data back in.  For a pool: you are required to run this tool on a machine inside the pool which has the Lync Server Management Shell installed.  Additionally, all front end machines need to have Windows Powershell Remoting enabled before executing this tool by executing Enable-PSRemoting.  Also, please ensure that all Storage Service instance DB Size are at the 'Normal' level (verify this by viewing Eventlog events). Otherwise re-importing may cause data to be flushed out again if any Storage Service instance DB size level goes above 'Normal'.
Usage: Default behavior is to Import data from web service file share as well as any files on all Front End machines in pool.
Additional Options:
-Verbose                    : Turn verbose output on.

-StorageServiceHostName     : Host Name of Storage Service WCF endpoint.  ( Default=localhost netnamedpipe binding. )

-FileSharePath              : Import only all data from just under the UNC path specified.

ActivityID: cc3b62ff-bb66-4e61-a6e2-96cb3626315c. <-- Use this to correlate with StorageService trace logs if troubleshooting.
Type Server name (TCP binding) or press <enter> for localhost (NamePipe binding):
Using NetNamedPipeBinding...
OnTopologyChanged Event received
Web Service File Share: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService

Front Ends:
server.vdomain.com
server2.vdomain.com
server1.vdomain.com
server3.vdomain.com
Looking under directory: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService for exported data.
# Files found: 8
Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\2
0120910\SERVER.vdomain.com\944f5724c65c5f93900dc1c8c898b102__0.xml
Items deserialized: 20

All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER.vdomain.com\944f5724c65c5f93900dc1c8c898b102__0.xml

All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER.vdomain.com\944f5724c65c5f93900dc1c8c898b102__0.xml

Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER.vdomain.com\944f5724c65c5f93900dc1c8c898b102__0.xml: succeeded: 20, failed: 0

Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER1.vdomain.com\17d5435ae40259f7bbdf1866776386e4__0.xml
Items deserialized: 20

[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server1.vdomain.com, queueItems=20

All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER1.vdomain.com\17d5435ae40259f7bbdf1866776386e4__0.xml

All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER1.vdomain.com\17d5435ae40259f7bbdf1866776386e4__0.xml

Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER1.vdomain.com\17d5435ae40259f7bbdf1866776386e4__0.xml: succeeded: 20, failed: 0

Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER1.vdomain.com\904f6c9b8ac951ae8b3c86684d3832e4__0.xml

Items deserialized: 20
[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server1.vdomain.com, queueItems=20

All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore
\co1-WebServices-1\StorageService\DataExport\20120910\SERVER1.vdomain.com\904f6c9b8ac951ae8b3c86684d
3832e4__0.xml

All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFil
eStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER1.vdomain.com\904f6c9b8ac951ae8b3c
86684d3832e4__0.xml

Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER1.vdomain.com\904f6c9b8ac951ae8b3c86684d3832e4__0.xml: succeeded: 20, failed: 0

Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\2
0120910\SERVER2.vdomain.com\69844a271e6c5633a1f2b46a42287dd6__0.xml

Items deserialized: 20

[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server2.vdom
ain.com, queueItems=20

All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore
\co1-WebServices-1\StorageService\DataExport\20120910\SERVER2.vdomain.com\69844a271e6c5633a1f2b46a42
287dd6__0.xml

All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFil
eStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER2.vdomain.com\69844a271e6c5633a1f2
b46a42287dd6__0.xml

Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER2.vdomain.com\69844a271e6c5633a1f2b46a42287dd6__0.xml: succeeded: 20, failed: 0

Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\2
0120910\SERVER3.vdomain.com\3313935458e35b9b9759e08a15d251e6__0.xml

Items deserialized: 20

[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server3.vdom
ain.com, queueItems=1

All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore
\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\3313935458e35b9b9759e08a15
d251e6__0.xml

All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFil
eStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\3313935458e35b9b9759
e08a15d251e6__0.xml

Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER3.vdomain.com\3313935458e35b9b9759e08a15d251e6__0.xml: succeeded: 20, failed: 0

Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\2
0120910\SERVER3.vdomain.com\4501e04eae4856059346949ff817c220__0.xml
Items deserialized: 20
[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server3.vdom
ain.com, queueItems=1
All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore
\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\4501e04eae4856059346949ff8
17c220__0.xml
All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFil
eStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\4501e04eae4856059346
949ff817c220__0.xml

Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER3.vdomain.com\4501e04eae4856059346949ff817c220__0.xml: succeeded: 20, failed: 0
Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\2
0120910\SERVER3.vdomain.com\5ad77443ad955a22a876749be66d5317__0.xml

Items deserialized: 20
[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server3.vdom
ain.com, queueItems=20
All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore
\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\5ad77443ad955a22a876749be6
6d5317__0.xml
All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFil
eStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\5ad77443ad955a22a876
749be66d5317__0.xml
Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER3.vdomain.com\5ad77443ad955a22a876749be66d5317__0.xml: succeeded: 20, failed: 0
Starting Import for file:\\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\2
0120910\SERVER3.vdomain.com\a11e27ae439a582288d4657eda86b565__0.xml
Items deserialized: 20
[cc3b62ff-bb66-4e61-a6e2-96cb3626315c] Send EnqueueMessages to redirected, targetServer=server3.vdom
ain.com, queueItems=20
All items in file were enqueued successfully, will try to delete file: \\dc.vdomain.com\OcsFileStore
\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\a11e27ae439a582288d4657eda
86b565__0.xml
All items in file failed to enqueue so file will not be deleted.  File path: \\dc.vdomain.com\OcsFil
eStore\co1-WebServices-1\StorageService\DataExport\20120910\SERVER3.vdomain.com\a11e27ae439a582288d4
657eda86b565__0.xml
Summary for file \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\DataExport\20120910\
SERVER3.vdomain.com\a11e27ae439a582288d4657eda86b565__0.xml: succeeded: 20, failed: 0
All files have been imported into Storage Service for path: \\dc.vdomain.com\OcsFileStore\co1-WebSer
vices-1\StorageService
Importing files for: server.vdomain.com
No files founds.
Importing files for: server2.vdomain.com
No files founds.
Importing files for: server1.vdomain.com
No files founds.
Importing files for: server3.vdomain.com
No files founds.
Writing log: \\dc.vdomain.com\OcsFileStore\co1-WebServices-1\StorageService\ImportStorageServiceData
Log20120910_1609SS
Tool has finished execution.
>  C:\StorageService>
```

## <a name="lcssync"></a>LCSSync
<a name="LCSSync"> </a>

Средство LCSSync помогает развернуть Skype для бизнеса Server связи 2015 в среде с несколькими лесами. Это средство используется для синхронизации пользователей и групп из разных лесов пользователей в качестве объекта доменные службы Active Directory контактов с центральным лесом, в котором Skype для бизнеса Server 2015.

### <a name="description"></a>Описание

 LCSSync использует синхронизированные объекты доменные службы Active Directory контактов в центральном лесу, чтобы пользователи могли Skype для бизнеса Server. Чтобы обеспечить единый вход, основная учетная запись пользователя должна быть сопоставлена с объектом контактного доменные службы Active Directory в центральном лесу для Skype для бизнеса Server 2015 года. Это средство помогает выполнить сопоставление. Это средство предоставляет шаблоны для создания агентов управления на сервере интеграции удостоверений Майкрософт.

### <a name="summary"></a>Краткое содержание

Средство LCSSync помогает развернуть Skype для бизнеса Server 2015 в среде с несколькими лесами.

## <a name="lookup-user-console"></a>Консоль пользователя подстановки
<a name="LUC"> </a>

Средство LookupUserConsole отображает сведения Skype для бизнеса Server маршрутизации для определенных пользователей. Эти сведения могут быть полезны для личной поддержки Майкрософт при диагностике проблем с развертыванием и маршрутизацией.

### <a name="description"></a>Описание

 При выполнении LookupUserConsole.exe откроется командная строка, которая принимает адреса SIP и пытается отобразить внутренние Skype для бизнеса Server маршрутизации, связанные с ними. **Введите выход**, чтобы выйти из средства LookupUserConsole.

### <a name="requirements"></a>Требования

Установите Skype для бизнеса Server 2015. Средство выполняется на компьютерах, присоединенных к домену, Skype для бизнеса Server установлены.

### <a name="examples"></a>Примеры

C:\Program Files\Skype для бизнеса Server 2015\ResKit\>LookupUserConsole.exe

```console
> sip:john.doe@vdomain.com

  Execution time (ms):                            171.094
  Exeuction result:                               Success
  SIP URI:                                        sip:john.doe@vdomain.com
  User info:
    SID:                                          S-1-5-21-2831376166-29632525...    Display name:                                     John Doe
    Grouping ID:                                  00000000-0000-0000-0000-...
    Line URI:                                     <null>
    Policy assignment:                            TenantId={00000000--0000-000....
    SIP enabled:                                  True
    UC enabled:                                   False
    Tenant ID:                                    00000000-0000-0000-0000-...  Cluster info:
    Active cluster:                               pool0.vdomain.com
    Backup registrar cluster:                     <null>
    Deployment location:                          <null>
    Home Front-End FQDN:                          SERVER.vdomain.com
    Primary Registrar cluster:                    pool0.vdomain.com
    Remote Director external SIP FQDN:            <null>
    Remote Director internal SIP FQDN:            <null>
    Remote Director Web FQDN:                     <null>
    Routing group ID:                             4501e04e-ae48-5605-9346...
    Service tag ID:                               1266953005
    User Front-End resolved:                      True
    User in local forest:                         True
    User in remote forest:                        False
    User in split domain:                         False
    User-Services cluster:                        pool0.vdomain.com

> sip:nouser@vdomain.com

  Execution time (ms):                            948.7574
  Exeuction result:                               UserDoesNotExist

> exit
```

## <a name="msturnping"></a>MsTurnPing
<a name="MsTurnPing"> </a>

Средство MSTurnPing позволяет администратору программного обеспечения для связи Skype для бизнеса Server 2015 проверять состояние серверов, на которых выполняются службы проверки подлинности аудио-, видео- и видеоданных, а также серверов, на которых работают службы политики пропускной способности в топологии.

### <a name="description"></a>Описание

Средство MSTurnPing позволяет администратору программного обеспечения для связи Skype для бизнеса Server 2015 проверять состояние серверов, на которых выполняются службы проверки подлинности аудио-, видео- и видеоданных, а также серверов, на которых работают службы политики пропускной способности в топологии.

Это средство позволяет администратору выполнять следующие тесты:

1. Проверка пограничного сервера A/V. Средство выполняет тесты для всех пограничных серверов A/V в топологии, выполнив следующие действия:

   - Проверка того, что служба Skype для бизнеса Server проверки подлинности аудио- и видеоданных запущена и может введите правильные учетные данные.

   - Проверка того, что Skype для бизнеса Server аудио- и видео пограничной службы запущена и может успешно выделить ресурсы на внешнем пограничном устройстве.

2. Проверка службы политики пропускной способности. Средство выполняет тесты для всех серверов, на которых выполняются службы политики пропускной способности в топологии, выполнив следующие действия:

   - Проверка того, что служба Skype для бизнеса Server пропускной способности (проверка подлинности) запущена и может выданы правильные учетные данные.

   - Проверка того, что служба Skype для бизнеса Server пропускной способности (Core) запущена и может успешно выполнить проверку пропускной способности.

Это средство должно запускаться с компьютера, который входит в топологию и на котором установлено локальное хранилище.

### <a name="output"></a>Выходные данные

Средство выводит результаты каждой операции.

- Если **выполняется тест AudioVideoEdgeServer** , средство выводит следующие данные:

  - Результаты тестирования компьютеров, предоставляющих службу проверки подлинности Skype для бизнеса Server 2015 г. в топологии

  - Результаты тестирования компьютеров, предоставляющих службу Skype для бизнеса Server 2015 Audio/Video Edge в топологии

- Если **выполняется тест BandwidthPolicyServer** , средство выводит следующие данные:

  - Результаты тестирования компьютеров, предоставляющих службу политики пропускной способности Skype для бизнеса Server 2015 г. (проверка подлинности) в топологии

  - Результаты тестирования компьютеров, предоставляющих службу Skype для бизнеса Server пропускной способности 2015 (Core) в топологии.

### <a name="requirements"></a>Требования

- Это средство должно запускаться с компьютера, который находится в топологии и имеет локальное хранилище.

- Средство должно запускаться от имени администратора, который имеет доступ к локальному хранилищу.

### <a name="examples"></a>Примеры

Ниже приведен пример входных данных средства.

```console
MsTurnPing -ServerRole AudioVideoEdgeServer

MsTurnPing -ServerRole BandwidthPolicyServer
```

### <a name="summary"></a>Краткое содержание

Это средство может быть ценным ресурсом для администраторов 2015 Skype для бизнеса Server, которые хотят проверить состояние серверов, на которых работают службы политики аудио- и видеосвязи и пропускной способности.

## <a name="network-configuration-viewer"></a>Средство просмотра конфигурации сети
<a name="NCV"> </a>

Средство просмотра конфигурации сети может использоваться администраторами программного обеспечения связи Skype для бизнеса Server 2015 для просмотра топологии сети контроля допуска звонков (CAC) для предприятия, подготовленного для разрешения сеансов связи в режиме реального времени, таких как голосовые или видеозвонки на основе указанной пропускной способности. Skype для бизнеса Server 2015 определяет политики CAC, которые применяются службами политики пропускной способности, установленными с Skype для бизнеса Server 2015.

### <a name="description"></a>Описание

Средство просмотра конфигурации сети (NetworkConfigurationViewer.exe) позволяет администраторам выполнять следующие задачи:

- Загрузите и просмотрите сетевую топологию CAC из Skype для бизнеса Server 2015 в графическом формате.

- Загрузите и просмотрите сетевую топологию CAC из файла журнала сервера политики пропускной способности в графическом формате.

- Сохраните и сохраните сетевую топологию CAC в формате XML на диске.

- Сохраните и сохраните схему топологии сети CAC в формате JPG или BMP.

- Просмотр данных конфигурации топологии сети CAC.

- Просмотр топологии сети CAC в стиле представления в виде дерева.

- Определите настраиваемые соединители для каналов топологии сети CAC (например, "сеть — регион", "регион — регион" и "сеть — сеть").

- Просмотр сведений о сайте топологии сети CAC, сведений о регионе, политик подготовленной пропускной способности и сетевых ссылок.

### <a name="purpose"></a>Назначение

Просмотр ссылок на сетевую топологию cac предприятия в графическом интерфейсе.

### <a name="examples"></a>Примеры

 Загрузка и просмотр топологии сети CAC из развертывания **Skype для бизнеса Server 2015** в графическом формате: администраторы Skype для бизнеса Server 2015 могут загружать и просматривать конфигурацию топологии сети CAC на любом компьютере Skype для бизнеса Server 2015 **с помощью Скачайте параметр "** Конфигурация сети", как показано на рисунке ниже. Средство не сможет скачать или просмотреть такую конфигурацию при развертывании на компьютере, который не подключен к 2015 Skype для бизнеса Server 2015.

![Скачивание конфигурации сети.](../media/Reskit_2012_Tools_Documentation_Image23.jpg)

 Загрузка и просмотр сетевой топологии CAC из файла журнала сервера политики пропускной способности в графическом формате: серверы политики пропускной способности Skype для бизнеса Server 2015 сохраняет топологию сети **CAC** в рамках механизма ведения журнала в расположении общей папки Skype для бизнеса Server 2015. Skype для бизнеса Server 2015 администраторы могут просматривать такой файл в графическом формате с помощью параметра **"** Открыть конфигурацию сети", как показано ниже.

![Открытие файла журнала сервера политики пропускной способности.](../media/Reskit_2012_Tools_Documentation_Image24.jpg)

Сохраните и сохраните сетевую топологию CAC в формате XML на диске. Администраторы Skype для бизнеса Server 2015 могут сохранить файл конфигурации сетевой топологии CAC в формате XML  с помощью параметра "Сохранить копию конфигурации сети", как показано ниже. Сохраненный файл конфигурации можно использовать в автономном режиме в целях графического просмотра.

![Сохранение конфигурации сети в виде XML-файла.](../media/Reskit_2012_Tools_Documentation_Image25.jpg)

Сохранение схемы топологии сети CAC в формате JPG или BMP. Администраторы Skype для бизнеса Server 2015 могут сохранить конфигурацию топологии сети CAC в графическом формате (форматы ФАЙЛОВ JPG и BMP) с помощью схемы сохранения конфигурации сети в качестве параметра рисунка, как показано ниже.

![Сохранение конфигурации сети в виде рисунка.](../media/Reskit_2012_Tools_Documentation_Image26.jpg)

 Просмотр данных конфигурации сетевой топологии CAC<strong>:</strong>Skype для бизнеса Server 2015 администраторы могут просматривать связанные данные конфигурации сети, такие как сетевые регионы, сетевые сайты, профили пропускной способности и IP-адреса подсети сайта в текстовом формате с помощью параметра просмотра данных конфигурации сети, как показано ниже.

![Просмотр данных конфигурации сети.](../media/Reskit_2012_Tools_Documentation_Image27.jpg)

 Просмотр сетевой топологии CAC в стиле представления в виде дерева **:** Skype для бизнеса Server 2015 администраторы могут просматривать связанные данные конфигурации сети в стиле представления графического дерева с помощью панели управления в левой части окна инструментов, как показано ниже.

![Просмотр данных конфигурации сети в представлении в виде дерева.](../media/Reskit_2012_Tools_Documentation_Image28.jpg)

 Определите настраиваемые соединители для ссылок топологии сети **CAC (например,** "сеть — регион", "регион — регион" и "сеть — сеть"). Администраторы Skype для бизнеса Server 2015 могут определять пользовательские графические соединители для сетевых каналов конфигурации сети CAC с помощью параметра Параметры, как показано ниже. Это помогает различать различные типы сетевых каналов, подготовленных в конфигурации сети.

![Инструменты.](../media/Reskit_2012_Tools_Documentation_Image29.jpg)

 Просмотр сведений о сайте топологии сети **CAC,** сведений о регионе и подготовленных политик пропускной способности. Администраторы Skype для бизнеса Server 2015 года могут просматривать сведения о связанном регионе сети CAC, сведения о сайте и сведения о подготовке пропускной способности CAC с помощью параметров, показанных ниже. (Например, щелкните **"Сведения"** в сетевом регионе или объекте сетевого сайта.)

![Определение пользовательских соединителей для сети.](../media/Reskit_2012_Tools_Documentation_Image30.jpg)

### <a name="summary"></a>Краткое содержание

Это средство может быть ценным ресурсом для администраторов Skype для бизнеса Server 2015, которые хотели бы просмотреть топологию сети CAC для своего развертывания в графическом формате.

## <a name="response-group-agent-live"></a>Агент группы ответа в реальном времени
<a name="RGAL"> </a>

Приложение группы ответа предоставляет агентам возможность получать доступ к полезной информации в режиме реального времени с помощью встроенной веб-службы. К сожалению, за пределами приложения графическое представление этих данных недоступно. Средство live Resource Kit агента группы ответов решает эту проблему, предоставляя простой и графический способ доступа к этой информации, который в реальном времени Skype для бизнеса информационной информацией, такой как наличие других агентов.

### <a name="description"></a>Описание

Агент группы ответа Live — это Windows, которое предоставляет функции входа и входа, а также некоторые сведения в режиме реального времени (например, членство в группе и текущее количество вызовов) агентам группы ответа. Это должна быть расширенная версия страницы "Группы агентов" (доступная из Skype для бизнеса.

### <a name="purpose"></a>Назначение

Приложение группы ответа ставит в очередь входящие вызовы, а затем направляет их в группы агентов. Чтобы принимать обоснованные решения о том, какие вызовы к службе, агенты могут получать доступ к сведениям о группах агентов в режиме реального времени, таким как доступные агенты и количество вызовов, ожидающих в каждой очереди. Эти сведения, изначально доступные только через службу группы ответа, доступны интуитивно понятным образом агентом группы ответа Live.

#### <a name="features"></a>Возможности

Средство Live агента группы ответа создано на основе службы группы ответа и пакета SDK Skype для бизнеса Server 2015. Он предоставляет агентам группы ответа сведения и возможности, доступные в службе группы ответа (например, членство в группе, присутствие других агентов и количество ожидающих звонков).

На рисунке ниже показан основной интерфейс агента группы ответа Live.

![Средство Live агента группы ответа.](../media/Reskit_2012_Tools_Documentation_Image37.JPG)

Для агентов в агенте группы ответа в реальном времени доступны следующие три основные функции:

- **Вход и выход:** В отличие от страницы "Группы агентов" (доступной из Skype для бизнеса Server 2015 г.), агент группы ответа Live позволяет только агентам одновременно входить во все группы агентов или выйти из них. Это приложение предоставляет три быстрых способа входа в систему и выход агентов:

  - Нажмите кнопку входа и выход (зеленый и красный) в приложении.

  - Щелкните правой кнопкой мыши значок панели уведомлений и выберите вход или выход.

  - Использование настраиваемых сочетаний клавиш.

- **Членство в группах:** Если выбрана группа агентов, агент группы ответа Live отображает список агентов в этой группе в правой области. Если Skype для бизнеса Server 2015 работает на том же компьютере, что и это приложение, сведения о присутствии и карточка контакта отображаются в активном агенте группы ответа. Агенты могут отправлять мгновенные сообщения или вызывать других агентов непосредственно из нее.

- **Статистика в режиме реального времени:** Агент группы ответа Live предоставляет статистику в режиме реального времени для всех групп агентов. Частота обновления — одна минута. Когда группа ответа отвечает на вызов, рядом с именем группы добавляется визуальный индикатор с текущим количеством вызовов в очереди. Приостановка указателя на группу также отображает самое длительное время ожидания.

### <a name="requirements"></a>Требования

Для агента группы ответа Live требуется платформа .NET Framework 4.0. Кроме того, чтобы воспользоваться преимуществами функций присутствия и карточки контакта, необходимо установить Skype для бизнеса локально (и запустить).

#### <a name="configuration"></a>Конфигурация

Live агента группы ответа можно настроить для отдельных параметров с помощью диалогового окна "Параметры" в приложении. Кроме того, администратор может определить адрес узла по умолчанию, непосредственно изменяя свойство defaultHostAddress RGAgentLive.exe.config файла.

На рисунке ниже показано диалоговое окно "Параметры", которое агенты могут использовать для настройки адреса узла и сочетаний клавиш. Доступ к этому диалогу можно получить, нажав кнопку "Параметры" в правом верхнем углу основного интерфейса.

![Диалоговое окно "Параметры трансляции агента группы ответа".](../media/Reskit_2012_Tools_Documentation_Image38.JPG)

В динамической конфигурации агента группы ответа можно настроить следующие три различных параметра:

- Адрес узла: обычно это полное доменное имя веб-пула, принадлежащее домашнему пулу агента. Точный адрес службы группы ответа автоматически создается в фоновом режиме на основе этой информации (путем добавления правильного пути после узла).

- Ярлыки: можно настроить точные сочетания клавиш для входа и выходов. Единственным ограничением является то, что оба сочетания клавиш должны содержать клавишу Windows Logo (в дополнение по крайней мере к другому ключу).

- Начните Windows: приложение можно настроить для автоматического запуска с Windows.

### <a name="examples"></a>Примеры

На рисунке ниже показано, как позвонить или отправить мгновенное сообщение другому агенту, щелкнув правой кнопкой мыши контакт в правой области.

![Выполнение звонка или отправка мгновенного сообщения.](../media/Reskit_2012_Tools_Documentation_Image39.JPG)

На рисунке ниже показано, как агент группы ответа Live отображает текущее количество вызовов в очереди и самое длительное время ожидания среди всех этих входящих вызовов.

![Просмотр сведений о очереди.](../media/Reskit_2012_Tools_Documentation_Image40.JPG)

### <a name="summary"></a>Краткое содержание

Быстрый вход и выход, членство в группах и базовая статистика в режиме реального времени — это интересные функции агента группы ответа, доступные только за пределами приложения из службы группы ответа. С помощью средства Live Resource Kit агента группы ответа администраторы Skype для бизнеса Server 2015 могут предоставить своим агентам приложение Windows, которое позволяет им выполнять задачи более быстрым и графическим способом.

## <a name="sefautil"></a>SEFAUtil
<a name="SEFAUtil"> </a>

SEFAUtil (активация дополнительных функций расширения) — это программа командной строки, которая позволяет администраторам программного обеспечения для связи Skype для бизнеса Server 2015 и агентам службы технической поддержки настраивать вызовы делегатов, переадресацию параметров зова, одновременные звонки, параметры группового вызова и групповой выбор зова от имени пользователя Skype для бизнеса Server 2015. Это средство также позволяет администраторам запрашивать параметры маршрутизации вызовов, опубликованные для конкретного пользователя. Средство SEFAUtil позволяет администратору включить, отключить или изменить переадресацию вызовов или одновременный звонок от имени пользователя. Администратор может указать целевой объект (в виде URI SIP) или использовать целевой объект, который уже опубликован пользователем. Это средство также позволяет администраторам добавлять или удалять делегатов или участников группы звонков от имени пользователя. Это средство создано на основе Microsoft Unified Communications Managed API (UCMA) 3.0 и требует, чтобы администраторы создали доверенное приложение в центральном хранилище управления для SEFAUtil.

SEFAUtil (активация функции дополнительного расширения) позволяет администраторам Skype для бизнеса Server 2015 и агентам службы технической поддержки настраивать вызовы делегатов, переадресацию параметров зова, одновременные звонки, параметры группового вызова и групповой вызов от имени пользователя Skype для бизнеса Server 2015. Это средство также позволяет администраторам запрашивать параметры маршрутизации вызовов, опубликованные для конкретного пользователя.

### <a name="description"></a>Описание

Текущая версия SEFAUtil — это только средство командной строки. отсутствует вспомогательный графический пользовательский интерфейс. Это средство основано на microsoft Unified Communications Managed API (UCMA) 3.0. Функции этого средства позволяют администраторам и агентам службы технической поддержки выполнять следующие действия:

- Просмотр всех параметров маршрутизации  вызовов для пользователя (включая переадресацию зова, делегирование, одновременный звонок, групповой звонок и групповой звонок).

- Включение, отключение и изменение параметра переадресации параметров переадресации вызовов (включает в себя таймер назначения и без ответа)

- Включение, отключение и изменение конфигураций немедленной переадресации вызовов

- Включение, отключение и изменение параметров делегирования

- Включение, отключение и изменение параметров группы группового вызова

    > [!NOTE]
    > Новые возможности Skype для бизнеса Server SEFAUtil 2015

- Включение, отключение и изменение одновременных параметров звонка (включая назначение)

    > [!NOTE]
    > Новые возможности Skype для бизнеса Server SEFAUtil 2015

- Включение, отключение и изменение параметров группового вызова

    > [!CAUTION]
    > Новые возможности Skype для бизнеса Server SEFAUtil 2015

Это средство имеет следующие ограничения:

- Поддерживается только для пользователей, которые размещены в Skype для бизнеса Server пуле.

- Массовое изменение параметров маршрутизации вызовов для нескольких пользователей не поддерживается

### <a name="output"></a>Выходные данные

Текущая версия этого средства предоставляет выходные данные только в окне командной строки. Дополнительные сведения см. в разделе "Примеры" далее в этом документе.

### <a name="purpose"></a>Назначение

Ниже приведены некоторые ключевые сценарии, в которых можно использовать это средство.

- Боб является руководителем и был перемещен в Skype для бизнеса Server телефонии. У него есть делегирование в существующей системе УАТС. В рамках перехода на Skype для бизнеса Server 2015 администратор может настроить маршрутизацию Боба в соответствии с конфигурацией существующего делегирования.

- Алиса отправляется в поездку и понимает, что ожидает важного звонка от одного из своих клиентов. Однако она находится в гостинице и не имеет доступа к компьютеру. Она вызывает службу технической поддержки и запрашивает переадресацию на ее мобильный номер всех звонков, сделанных на ее рабочий номер. Сотрудники службы технической поддержки могут выполнить настройку от ее имени.

- Звонки На рабочий номер Йома будут перенаправляемы на мобильную голосовую почту, когда он находится на работе; однако в большинстве других расположений все работает правильно. Технический специалист службы технической поддержки может просмотреть конфигурацию маршрутизации Joe и обнаруживает, что на мобильном телефоне у Вас настроен одновременный звонок. Технический специалист запрашивает у Пользователя сведения о покрытии мобильных устройств в офисе и может определить, что правило одновременных вызовов является причиной того, что звонки будут поступать на мобильную голосовую почту Joe, когда его сетевое покрытие плохое.

- Майк — новый сотрудник компании Contoso, который присоединяется к новой команде, в которой все участники настроены для группового вызова. При включении функции Skype для бизнеса Server 2015 администратор может настроить параметры группы присоединения к группе вызовов, включив в нее всех новых участников группы. Кроме того, администратор добавляет Майка в качестве участника группы присоединения к группе для каждого члена своей команды.

- Служба обслуживания клиентов в отделе кадров компании Contoso предназначена для предоставления личных услуг всем вызывающим абонентам с момента первого вызова. Учитывая, что все сотрудники отдела находятся очень близко друг к другу, одновременный звонок по всем телефонам с помощью командного звонка нарушает работу команды. Чтобы обеспечить оптимальную службу, не нарушая работу участников группы, администратор Skype для бизнеса Server 2015 использует функцию группового ответа на вызовы. Администратор добавляет всех участников отдела в группу выбора и сообщает отделу номер группы выбора. Когда Samantha is absent from her desk, Joe notices her phone ringing and he proceeds to answer the call from his desk.

### <a name="requirements"></a>Требования

Средство SEFAUtil можно запускать только на компьютере, который является частью пула доверенных приложений. На этом компьютере должна быть установлена UCMA 3.0. Чтобы запустить средство, в этом пуле должно быть создано новое доверенное приложение с идентификатором приложения SEFAUtil.

### <a name="creating-a-new-trusted-application-for-the-sefautil-tool"></a>Создание доверенного приложения для средства SEFAUtil

1. Средство SEFAUTil можно запускать только на компьютере, который является частью доверенного пула приложений. При необходимости добавление пула в качестве нового пула доверенных приложений можно выполнить с помощью командлета Skype для бизнеса Server Management Shell:

   ```powershell
   New-CsTrustedApplicationPool -id <Pool FQDN> -Registrar <Pool Registrar FQDN> -site Site:<Pool Site>
   ```

    > [!NOTE]
    > UCMA 3.0 должен быть установлен на любом компьютере, который будет использоваться для запуска средства SEFAUtil.

2. Доверенное приложение должно быть определено в топологии для средства SEFAUtil. Чтобы определить SEFAUtil как новое доверенное приложение, используйте Skype для бизнеса Server Management Shell и выполните следующий командлет:

   ```powershell
   New-CsTrustedApplication -ApplicationId sefautil -TrustedApplicationPoolFqdn <Pool FQDN> -Port 7489
   ```

    > [!NOTE]
    > При необходимости можно использовать другой порт.
    
    > [!NOTE]
    > Полное доменное имя пула: полное доменное имя сервера или пула, на котором будет размещено приложение SEFAUtil (обычно это Skype для бизнеса сервер переднего плана > или пул).
    > Полное доменное имя регистратора пула: полное доменное имя Skype для бизнеса сервера или пула, связанного с этим пулом приложений.
    > Сайт пула: идентификатор сайта, на котором размещен этот пул.

3. Необходимо включить изменения топологии. Включение изменений топологии можно выполнить с помощью Skype для бизнеса Server Management Shell, выполнив следующий командлет:

   ```powershell
   Enable-CsToplogy
   ```

4. При необходимости установите Skype для бизнеса Server 2015 Resource Kit Tools на сервере, который будет использоваться для запуска средства SEFAUtil (сервер должен быть частью доверенного пула приложений).

5. Убедитесь, что SEFAUtil работает правильно. Для этого запустите средство из командной строки Windows с правами администратора, чтобы отобразить параметры переадресации  вызовов пользователя в развертывании. По умолчанию средство будет находиться в папке ...\Program Files\Skype для бизнеса Server 2015\Reskit. Чтобы отобразить параметры переадресации  вызовов пользователя, используйте следующую команду:

   ```console
   SEFAUtil.exe <user SIP address> /server:<Skype for Business Server/Pool FQDN>
   ```

    Должны быть отображены параметры переадресации  вызовов пользователя.

#### <a name="group-call-pickup"></a>Групповой прием звонков

Для полного включения функции группового вызова в Skype для бизнеса Server 2015 требуется дополнительная настройка. Прежде чем назначать группы ответа пользователям, ознакомьтесь с документацией по продукту группового вызова для планирования и развертывания этой возможности.

### <a name="examples"></a>Примеры

#### <a name="display-current-call-handling-settings"></a>Отображение текущего Параметры

Приведенная ниже команда отображает обработку вызовов для пользователя.  `SEFAUtil.exe /server:SfBS2015server.contoso.com katarina@contoso.com`

> [!NOTE]
> В этом примере **параметр /server** используется для указания Skype для бизнеса Server подключения.

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
User Ring time: 00:00:20
Call Forward No Answer to: voicemail
```

#### <a name="set-the-call-forwardno-answer-destination"></a>Задание назначения "Переадресация зова"/"Нет ответа"

В этом примере задается назначение переадресации или без ответа и задержка звонка. Здесь параметр /server не указан; SEFAUtil пытается автообнаружение Skype для бизнеса Server 2015.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /enablefwdnoanswer /callanswerwaittime:30 /setfwddestination:+14255550126@contoso.com;user=phone
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
User Ring time: 00:00:30
Call Forward No Answer to: sip:+14255550126@contoso.com;user=phone
```

#### <a name="enable-call-forwarding-immediately"></a>Немедленное включение переадресации  вызовов

В этом примере немедленно включается переадресация вызовов другому пользователю.

```console
SEFAUtil.exe sip:katarina@contoso.com /enablefwdimmediate /setfwddestination:anders@contoso.com
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
Forward immediate to: sip:anders@contoso.com
```

#### <a name="disable-call-forwarding-immediately"></a>Немедленное отключение переадресации  вызовов

Этот пример немедленно отключает переадресацию вызовов.

```console
SEFAUtil.exe /server:SfBserver.contoso.com katarina@contoso.com /disablefwdimmediate
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
User Ring time: 00:00:30
Call Forward No Answer to: voicemail
```

#### <a name="add-a-user-as-a-delegate-and-set-up-simultaneous-ringing-of-delegates"></a>Добавление пользователя в качестве делегата и настройка одновременных вызовов делегатов

В этом примере пользователь добавляется в качестве делегата и настраивает одновременный звонок делегатов.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /adddelegate:joe@contoso.com /simulringdelegates
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simultaneously Ringing Delegates: sip:joe@contoso.com
```

#### <a name="change-simultaneous-ringing-rule-of-delegates"></a>Изменение правила одновременных вызовов делегатов

В этом примере правило одновременных вызовов, заданное в предыдущем примере, изменяется на правило отложенного звонка.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /delayringdelegates:10
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
Delay Ringing Delegates (delay:10 seconds): sip:joe@contoso.com
```

#### <a name="remove-the-delegate"></a>Удаление делегата

В этом примере делегат удаляется.

> [!NOTE]
> При удалении последнего делегата звонок делегата автоматически отключается.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /removedelegate:joe@contoso.com
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
User Ring time: 00:00:30
Call Forward No Answer to: voicemail
```

#### <a name="add-a-delegate-and-set-up-the-call-forward-to-delegates-rule"></a>Добавление делегата и настройка Call-Forward для правила делегатов

В этом примере добавляется делегат и настраивает правило переадресации вызовов в правило делегатов.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /adddelegate:anders@contoso.com /fwdtodelegates
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Forwarding calls to Delegates: sip:anders@contoso.com
```

#### <a name="enable-simultaneous-ringing-and-set-a-destination-number"></a>Включение одновременных вызовов и установка целевого номера

В этом примере включается одновременный звонок и устанавливается одновременный номер назначения звонка.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /setsimulringdestination:+14255550126 /enablesimulring
```

> [!NOTE]
> Чтобы изменить одновременный номер назначения звонка пользователя, у которого уже включен одновременный звонок, сохраните команду с параметром /enablesimulring, иначе номер назначения не будет изменен.

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: True
Simul_Ringing to: sip:+14255550126@contoso.com;user=phone
```

#### <a name="disable-simultaneous-ringing"></a>Отключение одновременных вызовов

В этом примере отключен одновременный звонок.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /disablesimulring
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Simulring enabled: False
User Ring time: 00:00:30
Call Forward No Answer to: voicemail
```

#### <a name="add-a-team-member-for-team-call-and-set-up-simultaneous-ringing-to-the-team-call-members-group"></a>Добавление участника группы для Team-Call и настройка одновременных вызовов в группу Team-Call участников

В этом примере участник команды добавляется в группу группового вызова пользователя и включает одновременный звонок в группу группового вызова.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /addteammember:anders@contoso.com /simulringteam
```

> [!NOTE]
> При добавлении участника в группу группового вызова пользователя автоматически переключаются одновременные звонки пользователей на одновременный звонок в группу вызова группы.

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Team ringing enabled. Team: sip:anders@contoso.com
```

#### <a name="remove-a-member-from-the-team-call-group"></a>Удаление участника из Team-Call группы

В этом примере удаляется член группы, вызываемой группой пользователя.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /removeteammember:anders@contoso.com
```

> [!NOTE]
> Если удаляемый член является единственным участником группы группового вызова, одновременный звонок в группу вызовов группы будет автоматически отключен.

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
User Ring time: 00:00:30
Call Forward No Answer to: voicemail
```

#### <a name="set-the-delayed-ring-to-the-team-call-group"></a>Задайте для отложенного кольца Team-Call группу

В этом примере отложенный звонок изменяется на параметр времени группы группового вызова.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /delayringteam:5
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Delay Ringing Team (delay:5 seconds). Team: sip:anders@contoso.com
```

#### <a name="enable-team-call"></a>Включение Team-Call

В этом примере включается командный вызов для заданного пользователя.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /simulringteam
```

> [!NOTE]
> Если группа группового вызова пользователя не содержит участников, командный звонок не будет включен.

 **Вывести**

#### <a name="disable-team-call"></a>Отключение Team-Call

В этом примере отключает командный вызов для заданного пользователя.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /disableteamcall
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
User Ring time: 00:00:30
Call Forward No Answer to: voicemail
```

#### <a name="enable-group-call-pickup-and-assign-a-pickup-group-to-a-user"></a>Включение группового ответа на звонок и назначение группы ответа пользователю

В этом примере пользователю назначается группа ответа и включается групповой вызов.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /enablegrouppickup:199
```

 **Вывести**

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
Group Pickup Orbit: sip:199;phone-context=user-default@contoso.com;user=phone
```

#### <a name="disable-group-call-pickup"></a>Отключение группового вызова

В этом примере функция группового вызова отключена для заданного пользователя.

```console
SEFAUtil.exe /server:SfBserver.contoso.com sip:katarina@contoso.com /disablegrouppickup
```

> [!NOTE]
> При отключении группового ответа на звонок для пользователя номер группы, назначенный пользователю, не сохраняется. Если впоследствии вы хотите повторно включить групповой вызов для этого пользователя, необходимо снова назначить номер группы с помощью параметра /enablegrouppickup.

```console
User Aor: sip:katarina@contoso.com
Display Name: Katarina Larsson
UM Enabled: True
```

## <a name="sysprepps1"></a>SYSPrep.ps1
<a name="SYSPrep"> </a>

### <a name="description"></a>Описание

SYSPrep.ps1 — это Windows PowerShell, который установит следующие предварительные требования Skype для бизнеса Server 2015 на компьютере операционной системы Windows Server 2008.

- Microsoft .NET Framework 4.5

- Microsoft SQL Server Express

- Windows PowerShell версии 3.0

- Распространяемый компонент Visual C++ 2010

- Обновления сервера Internet Information Server

- Windows Identity Foundation

- Skype для бизнеса Server 2015 Core

  Хотя имя скрипта аналогично средству подготовки системы для операционных систем Windows Майкрософт, они отличаются. Этот скрипт установит только необходимые компоненты для Skype для бизнеса Server 2015. После установки этих необходимых компонентов можно использовать Windows SYSPrep для создания образа сервера.

### <a name="requirements"></a>Требования

Перед запуском скрипта SYSPrep.ps1 необходимо скопировать необходимые файлы в локальную папку на компьютере операционной системы Windows Server 2008 (например **, D:\Setup).** Эта папка также должна содержать копию файлов Skype для бизнеса Server 2015, в частностиSetup.exe **.** Необходимые файлы можно скачать из следующих расположений:


| **Предварительное условие**                                | **Location**                                                            |
|:------------------------------------------------|:------------------------------------------------------------------------|
| Microsoft .NET Framework 4.5  <br/>             | <https://go.microsoft.com/?linkid=9816306>  <br/>                       |
| Microsoft SQL Server Express 2008 R2  <br/>     | <https://www.microsoft.com/download/details.aspx?id=23650>  <br/> |
| Windows PowerShell версии 3.0  <br/>           | <https://www.microsoft.com/download/details.aspx?id=34595>  <br/> |
| Распространяемый компонент Visual C++ 2010  <br/>          | <https://support.microsoft.com/en-us/topic/the-latest-supported-visual-c-downloads-2647da03-1eea-4433-9aff-95f26a218cc0>  <br/>  |
| Обновления сервера Internet Information Server  <br/>      | <https://www.microsoft.com/download/details.aspx?id=34869>  <br/> |
| Windows Identity Foundation  <br/>              | <https://www.microsoft.com/download/details.aspx?id=17331>  <br/> |
| Skype для бизнеса Server 2015 Setup.exe  <br/> | Копирование с Skype для бизнеса Server 2015  <br/>                   |

### <a name="parameter"></a>Параметр

Параметр **-SetupFolder** принимает в качестве аргумента расположение каталога необходимых файлов

### <a name="examples"></a>Примеры

Чтобы запустить скрипт SYSPrep.ps1 и установить необходимые компоненты Skype для бизнеса Server 2015, выполните следующую команду из командной строки с повышенными привилегиями:

```console
./SysPrep.PS1 -SetupFolder D:\Setup
```

## <a name="unassigned-number-announcements-migration"></a>Миграция объявлений о неназначенных номерах
<a name="UNAM"> </a>

Средство переноса неназначенных объявлений о номерах позволяет администратору Skype для бизнеса Server 2015 переместить конфигурацию неназначенных номеров, которая выполняется приложением объявления, из исходного Skype для бизнеса Server или пула в место назначения. Skype для бизнеса Server пула.

### <a name="description"></a>Описание

Средство переноса неназначенных объявлений о номерах — это Windows PowerShell, который перемещает конфигурацию неназначенных номеров, которая выполняется приложением объявления исходного сервера или пула, на другой сервер или пул.

При выполнении скрипт переноса неназначенных объявлений о номерах выполнит следующие операции:

1. Переместите все звуковые файлы, используемые объявлениями о неназначенных номерах приложения объявления, размещенного на исходном сервере или пуле, в хранилище файлов целевого сервера или пула.

    > [!NOTE]
    > Звуковые файлы удаляются из исходного пула после их копирования в пул назначения.

2. Переместите все объявления о неназначенных номерах, настроенные для приложения объявления, размещенного на исходном сервере или пуле, на целевой сервер или пул.

3. Переназначьте все диапазоны неназначенных номеров, которые используются приложением объявления, размещенным на исходном сервере или пуле, целевому серверу или пулу.

После успешного выполнения скрипта все диапазоны неназначенных номеров, которые были обработаны приложением объявления, размещенным на исходном сервере или пуле, теперь будут службы с той же конфигурацией целевым сервером или пулом.

### <a name="output"></a>Выходные данные

Скрипт **Move-CsAnnouncementConfiguration** указывает в окне Skype для бизнеса Server Management Shell, из которого выполнена операция миграции.

Если выполнение операции прерывается из-за какой-либо ошибки, диапазоны неназначенных номеров, которые были успешно перемещены в место назначения, останутся в месте назначения в рабочей форме, а остальные диапазоны неназначенных номеров, которые необходимо перенести, останутся в источнике и в операционной форме. Чтобы полностью перенести остальную часть конфигурации, повторно запустите скрипт после устранения ошибки.

### <a name="purpose"></a>Назначение

Сценарий переноса неназначенных объявлений о номерах можно использовать в следующих трех сценариях:

- Перенос параметров конфигурации в новую версию **Skype для бизнеса Server.** Contoso находится в процессе миграции на Skype для бизнеса Server 2015 и в процессе миграции Skype для бизнеса Server  администратору нужно переместить конфигурацию неназначенных номеров, которая используется приложением объявления, из развертывания Lync Server 2013 в новое развертывание Skype для бизнеса Server 2015. Чтобы переместить параметры конфигурации, администратор Skype для бизнеса Server использует средство переноса неназначенных объявлений о номерах.

- Откат развертывания **с Skype для бизнеса Server 2015 до Lync Server 2013.** Из-за непредвиденных факторов компании Contoso необходимо откатить миграцию на новое развертывание Skype для бизнеса Server 2015. Чтобы свести к минимуму перебои в работе службы, администратор Skype для бизнеса Server использует средство переноса неназначенных объявлений о номерах для отката конфигурации с развертывания Skype для бизнеса Server 2015 до развертывания Lync Server 2013.

- **Перемещение данных между развертываниями:** Компания Contoso выполняет замену всех серверов одного пула новыми серверами. Их стратегия заключается в развертывании нового Skype для бизнеса Server 2015, перемещении всех данных из старого в новый пул, а затем прекращении поддержки старого пула. После развертывания нового пула средство переноса неназначенных объявлений о номерах используется для перемещения конфигурации из старого пула в новый.

#### <a name="requirements"></a>Требования

Ниже приведены основные требования, необходимые для успешного запуска средства.

1. Скрипт должен выполняться с компьютера, на котором установлена Skype для бизнеса Server Management Shell.

2. Приложение объявления должно быть успешно развернуто в исходном и целевом Skype для бизнеса серверах или пулах.

#### <a name="move-csannouncementconfiguration-script"></a>Move-CsAnnouncementConfiguration скрипта

Скрипт Move-CsAnnouncementConfiguration требует два параметра, описанных в таблице ниже.

![Move-CsAnnouncementConfiguration параметров.](../media/Reskit_2012_Tools_Documentation_Image41.JPG)

### <a name="examples"></a>Примеры

#### <a name="moving-the-unassigned-number-announcements-configuration-from-a-lync-server-2013-pool-to-a-skype-for-business-server-2015-pool"></a>Перемещение конфигурации объявлений о неназначенных номерах из пула Lync Server 2013 в пул Skype для бизнеса Server 2015

В этом примере объявления о неназначенных номерах перемещаются из исходного пула (Lync Server 2013) в пул назначения (Skype для бизнеса Server 2015).

```powershell
Move-CsAnnouncementConfiguration.ps1 -Source LS2013Pool.contoso.com -Destination SfBS2015Pool.contoso.com
```

#### <a name="moving-the-unassigned-number-announcements-configuration-from-a-skype-for-business-server-2015-pool-to-a-lync-server-2013-pool"></a>Перемещение конфигурации объявлений о неназначенных номерах из пула Skype для бизнеса Server 2015 в пул Lync Server 2013

В этом примере объявления о неназначенных номерах перемещаются из исходного пула (Skype для бизнеса Server 2015) в целевой пул (Lync Server 2013).

```powershell
Move-CsAnnouncementConfiguration.ps1 -Source SfBS2015Pool.contoso.com -Destination LS2013Pool.contoso.com
```

## <a name="web-conf-data"></a>Данные веб-конференции
<a name="WebConfData"> </a>

Средство обработки данных веб-конференций позволяет администратору программного обеспечения для Skype для бизнеса Server 2015 иметь более полный контроль над данными, связанными с веб-конференциями организатора. Сценарии включают возможность удаления данных собрания конкретного пользователя на основе критериев метки времени.

### <a name="description"></a>Описание

Это средство позволяет администратору выполнять следующие операции:

1. Поиск всех данных веб-конференций, связанных с одним пользователем.

2. Удалите все данные веб-конференций, связанные с одним пользователем.

3. Удалите все данные веб-конференций, связанные с одним пользователем, который старше определенной даты.

4. Перемещение всех данных веб-конференций, связанных с одним пользователем, при перемещении этого пользователя из одного пула в другой.

  > [!NOTE]
  > Средства набора ресурсов для Lync Server 2010 поддерживали перемещение всех данных веб-конференций, связанных с одним пользователем, при перемещении этого пользователя из одного пула в другой. Эта функция теперь не рекомендуется для этого средства в пользу **параметра MoveConferenceData** . Дополнительные сведения об этом параметре см. в [командлете Move-CsUser](/powershell/module/skype/move-csuser?) .

Средство удаляет данные собраний только для неактивных собраний. Активные собрания (или собрания в сеансах) нельзя удалить.

Это средство должно выполняться с компьютера, который находится в том же пуле, что и целевой пользователь. Пользователь, данные содержимого собрания которого управляются этим средством, должен находиться в одном пуле пользователей.

### <a name="output"></a>Выходные данные

Это средство выводит результаты каждой операции:

- При выполнении запроса средство выводит список всех неактивных папок данных собрания, в которых этот пользователь является организатором.

- При удалении средство выводит список всех папок данных собрания, данные которых будут удалены.

### <a name="requirements"></a>Требования

Средство должно выполняться в том же пуле, где в настоящее время размещен организатор.

Средство должно запускаться с правами администратора с доступом к хранилищу файлов содержимого.

### <a name="examples"></a>Примеры

В следующей таблице описаны параметры, некоторые из которых используются в примерах.

![Параметры средства обработки данных веб-конфигурации.](../media/Reskit_2012_Tools_Documentation_Image51.JPG)

```console
WebConfDataTool.exe /User:user0@contoso.com /Action:query ""/ExpirationDate:08/09/2010 12:00:00""
```

В предыдущем примере показано, как будет работать команда запроса. Выходные данные такой команды будут отображаться в списке всех папок содержимого собрания, на которые повлияет это средство.

```console
WebConfDataTool.exe /User:user0@contoso.com /Action:delete
```

Приведенный выше пример команды delete. Команда delete удалит из этого пользователя все неактивные папки собраний.

### <a name="summary"></a>Краткое содержание

Это средство может быть ценным ресурсом для администраторов, которым требуется более точный контроль над данными конференций.
