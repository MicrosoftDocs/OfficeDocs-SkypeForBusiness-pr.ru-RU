---
title: CLS Logger для Skype для бизнеса Server 2015
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
ms.date: 2/25/2017
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 1eaf8cdf-3dcd-4d6e-ae68-b6f6f9431ad8
description: 'Сводка: сведения об использовании средства ведения централизованной службы ведения журналов (CLS) в Skype для бизнеса Server 2015.'
ms.openlocfilehash: 496f30bdcedeb491bd5bfa211f08c04853b49bf8
ms.sourcegitcommit: ab47ff88f51a96aaf8bc99a6303e114d41ca5c2f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2019
ms.locfileid: "34274466"
---
# <a name="cls-logger-for-skype-for-business-server-2015"></a><span data-ttu-id="675eb-103">CLS Logger для Skype для бизнеса Server 2015</span><span class="sxs-lookup"><span data-stu-id="675eb-103">CLS Logger for Skype for Business Server 2015</span></span>
 
<span data-ttu-id="675eb-104">**Сводка:** Сведения о том, как использовать средство ведения журнала службы централизованного ведения журналов (CLS) в Skype для бизнеса Server 2015.</span><span class="sxs-lookup"><span data-stu-id="675eb-104">**Summary:** Learn how to use the Centralized Logging Service (CLS) Logger in Skype for Business Server 2015.</span></span>
  
<span data-ttu-id="675eb-105">Инструмент CLS Logger помогает управлять журналами, создаваемыми централизованной службой ведения журналов.</span><span class="sxs-lookup"><span data-stu-id="675eb-105">The CLS Logger is a tool that helps you manage logs generated by the Centralized Logging Service.</span></span>
  
## <a name="prerequisites"></a><span data-ttu-id="675eb-106">Необходимые компоненты</span><span class="sxs-lookup"><span data-stu-id="675eb-106">Prerequisites</span></span>

<span data-ttu-id="675eb-107">Для эффективного использования CLS Logger убедитесь, что выполняются описанные ниже условия.</span><span class="sxs-lookup"><span data-stu-id="675eb-107">To successfully use the CLS Logger, you'll need to make sure that the following are true:</span></span>
  
- <span data-ttu-id="675eb-p101">Инструмент используется на компьютере, входящем в домен, на котором запущена централизованная служба ведения журналов. В настоящее время инструмент не поддерживается в сеансах Remote PowerShell.</span><span class="sxs-lookup"><span data-stu-id="675eb-p101">You are using the tool on a computer that is a member of the domain where the Centralized Logging Service (CLS) is running. The tool is not currently supported in Remote PowerShell sessions.</span></span>
    
- <span data-ttu-id="675eb-110">Необходимо скопировать файл Default.tmx из папки трассировки (папка, в которую записываются данные трассировки из CLS) и Snooper в папку, где установлен инструмент CLS Logger.</span><span class="sxs-lookup"><span data-stu-id="675eb-110">The Default.tmx file from the tracing folder (the folder where tracing data is captured for the CLS) and Snooper must be copied in to the same folder where the CLS Logger tool is installed.</span></span>
    
## <a name="check-the-logging-status-of-a-set-of-poolscomputers"></a><span data-ttu-id="675eb-111">Проверка статуса ведения журнала для набора пулов/компьютеров</span><span class="sxs-lookup"><span data-stu-id="675eb-111">Check the Logging Status of a set of Pools/Computers</span></span>

<span data-ttu-id="675eb-112">Для проверки статуса ведения журнала используйте следующие команды:</span><span class="sxs-lookup"><span data-stu-id="675eb-112">Use following commands to check logging status:</span></span>
  
1. <span data-ttu-id="675eb-113">На вкладке "сценарии запуска/остановки" выберите группу пулов и (или) компьютеров в представлении дерева топологии.</span><span class="sxs-lookup"><span data-stu-id="675eb-113">In the "Start/Stop Scenarios" tab, select a grouping of Pools and/or Computers in the Topology tree view.</span></span>
    
2. <span data-ttu-id="675eb-114">Нажмите кнопку Logging Status (Статус ведения журнала).</span><span class="sxs-lookup"><span data-stu-id="675eb-114">Click the Logging Status button.</span></span>
    
3. <span data-ttu-id="675eb-115">Посмотрите выходные данные команды в области вывода команд PowerShell для получения специальных сведений о статусе ведения журнала выбранных пулов и/или компьютеров.</span><span class="sxs-lookup"><span data-stu-id="675eb-115">View the command output in the PowerShell Command Output area for specifics about the logging status of the selected Pools and/or Computers.</span></span>
    
## <a name="start-an-existing-scenario"></a><span data-ttu-id="675eb-116">Запуск существующего сценария</span><span class="sxs-lookup"><span data-stu-id="675eb-116">Start an existing scenario</span></span>

<span data-ttu-id="675eb-117">Чтобы запустить существующий сценарий, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="675eb-117">To start an existing scenario:</span></span>
  
1. <span data-ttu-id="675eb-118">На вкладке "сценарии запуска/остановки" выберите существующий сценарий из раскрывающегося меню "сценарии".</span><span class="sxs-lookup"><span data-stu-id="675eb-118">In the "Start/Stop Scenarios" tab, select an existing Scenario from the Scenarios drop down menu.</span></span>
    
2. <span data-ttu-id="675eb-119">Выберите группировку пулов и/или компьютеров в древовидном представлении Topology (Топология).</span><span class="sxs-lookup"><span data-stu-id="675eb-119">Select a grouping of Pools and/or Computers in the Topology tree view.</span></span>
    
3. <span data-ttu-id="675eb-p102">Нажмите кнопку Start Scenario (Запуск сценария). Пользовательский интерфейс будет отключен на время выполнения операции, что может замедлить работу с крупными развертываниями.</span><span class="sxs-lookup"><span data-stu-id="675eb-p102">Click on the Start Scenario button. The user interface will get disabled until the operation completes. This may be slow on large deployments.</span></span>
    
4. <span data-ttu-id="675eb-123">Пользовательский интерфейс будет включен сразу после успешного запуска сценария. Сведения о выполненном действии будут показаны в области вывода команд PowerShell.</span><span class="sxs-lookup"><span data-stu-id="675eb-123">The user interface will be enabled again once the Scenario has been successfully started, the details of the action will also be shown in the PowerShell Command Output area.</span></span>
    
5. <span data-ttu-id="675eb-124">Задача может занять некоторое время, прежде чем CLS начнет поддерживать ведение журнала и получать новые данные из сценария.</span><span class="sxs-lookup"><span data-stu-id="675eb-124">The task may take some time before for the logging to be picked up by CLS before any new data from this scenario.</span></span>
    
## <a name="stop-an-existing-scenario"></a><span data-ttu-id="675eb-125">Остановка существующего сценария</span><span class="sxs-lookup"><span data-stu-id="675eb-125">Stop an existing scenario</span></span>

<span data-ttu-id="675eb-126">Чтобы остановить существующий сценарий, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="675eb-126">To stop an existing scenario:</span></span>
  
1. <span data-ttu-id="675eb-127">На вкладке "сценарии запуска/остановки" выберите существующий сценарий из раскрывающегося меню "сценарии".</span><span class="sxs-lookup"><span data-stu-id="675eb-127">In the "Start/Stop Scenarios" tab, select an existing Scenario from the Scenarios drop down menu.</span></span>
    
2. <span data-ttu-id="675eb-128">Выберите группировку пулов и/или компьютеров в древовидном представлении Topology (Топология).</span><span class="sxs-lookup"><span data-stu-id="675eb-128">Select a grouping of Pools and/or Computers in the Topology tree view.</span></span>
    
3. <span data-ttu-id="675eb-p103">Нажмите кнопку Stop Scenario (Остановка сценария). Пользовательский интерфейс будет отключен на время выполнения операции, что может замедлить работу с крупными развертываниями.</span><span class="sxs-lookup"><span data-stu-id="675eb-p103">Click on the Stop Scenario button. The user interface will get disabled until the operation completes. This may be slow on large deployments.</span></span>
    
4. <span data-ttu-id="675eb-132">Пользовательский интерфейс будет включен сразу после успешной остановки сценария, сведения о выполненном действии будут показаны в области вывода команд PowerShell.</span><span class="sxs-lookup"><span data-stu-id="675eb-132">The user interface will be enabled again once the Scenario has stopped, the details of the action will also be shown in the PowerShell Command Output area.</span></span>
    
![Запуск и остановка CLS Logger](../../media/2c4a36c2-b5db-4550-a3b3-41f18e0e2f0c.png)
  
## <a name="search-for-logs"></a><span data-ttu-id="675eb-134">Поиск журналов</span><span class="sxs-lookup"><span data-stu-id="675eb-134">Search for logs</span></span>

<span data-ttu-id="675eb-135">Чтобы найти журналы, выберите вкладку "Поиск в журналах CLS" и нажмите кнопку "Журналы поиска" после заполнения отображаемых полей, как описано ниже.</span><span class="sxs-lookup"><span data-stu-id="675eb-135">In order to search for logs, select the "Search CLS Logs" tab and click the "Search Logs" button after filling in the displayed fields as described below:</span></span>
  
> <span data-ttu-id="675eb-p104">**Папка файлов журнала** Папка для сохранения результатов поиска журналов. (Обязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p104">**Log File Folder** The folder to save the results of the log search. (Required)</span></span>
> 
> <span data-ttu-id="675eb-p105">**Уровень журнала** Это поле определяет самый низкий уровень сообщений, отображаемых в результатах. Например, при выборе Warning (предупреждение) будут отображаться Warning, Error (ошибка) и Fatal (неустранимо). По умолчанию используется значение Debug (отладка).</span><span class="sxs-lookup"><span data-stu-id="675eb-p105">**Log Level** This determines the lowest level that will show up in the results. For example if Warning is selected, only Warning, Error, and Fatal will be shown. Defaults to Debug.</span></span>
> 
> <span data-ttu-id="675eb-p106">**Пулы** Пулы компьютеров, в которых выполняется поиск журналов. Это родительские узлы в древовидном представлении. (Обязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p106">**Pools** Computer pools to perform the log search against, these are the parent nodes the tree view. (Required)</span></span>
> 
> <span data-ttu-id="675eb-p107">**Компьютеры** Отдельные компьютеры, в которых выполняется поиск журналов. Это дочерние узлы в древовидном представлении. (Обязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p107">**Computers** Individual computers to perform the log search against, these are all the child nodes in the tree view. (Required)</span></span>
> 
> <span data-ttu-id="675eb-p108">**Время начала** Период времени, за который CLS запрашивает журналы. (Обязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p108">**Start Time** The time period where CLS will query the logs from. (Required)</span></span>
> 
> <span data-ttu-id="675eb-p109">**Время окончания** Период времени, за который CLS перестает запрашивать журналы. (Обязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p109">**End Time** The time period where CLS will stop querying the logs from. (Required)</span></span>
> 
> <span data-ttu-id="675eb-p110">**Компоненты** Используется для выбора компонентов, добавляемых в запрос. (Обязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p110">**Components** Used to select which components to add to the query. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p111">**Идентификатор звонка** Идентификатор звонка, по которому необходимо отфильтровать диалоги SIP. Обратите внимание, что это поле использует точные совпадения. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p111">**Call ID** The Call ID of any SIP dialogs to be filtered by. Note, this field uses exact matching. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p112">**Идентификатор конференции** Идентификатор конференции, по которому необходимо отфильтровать конференции. Обратите внимание, что это поле использует точные совпадения. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p112">**Conference ID** The conference ID of any conferences to be filter by. Note, this field uses exact matching. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p113">**IP-адрес** IP-адрес, по которому необходимо выполнить фильтрацию. Обратите внимание, что это поле использует точные совпадения. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p113">**IP Address** The IP address that to be filtered by. Note, this field uses exact matching. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p114">**Идентификаторы корреляции** Операторы трассировки, логически связанные по этому идентификатору. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p114">**Correlation IDs** Trace statements that are logically linked together by this ID. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p115">**Номер телефона** Фильтрация по номеру телефона. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p115">**Phone Number** Filter by phone number. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p116">**SIP URI** Фильтрация по SIP URI. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p116">**SIP URI** Filter by SIP URI. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p117">**Содержимое сообщения SIP** Фильтрация по содержимому сообщения SIP, разбивает поиск на подстроки в пределах этого поля. (Необязательно)</span><span class="sxs-lookup"><span data-stu-id="675eb-p117">**SIP Message Content Contains** Filter by SIP message contents, this will substring search within this field. (Optional)</span></span>
> 
> <span data-ttu-id="675eb-p118">**Любое совпадение** Если установлен этот флажок, поиск выполняется с помощью логического оператора ИЛИ. По умолчанию используется значение "Точное соответствие всем параметрам".</span><span class="sxs-lookup"><span data-stu-id="675eb-p118">**Match Any** Searches using a logical OR if checked. Defaults to Exact match of all parameters.</span></span>
> 
> <span data-ttu-id="675eb-170">**Пропустить сетевые журналы** Если установлен этот флажок, при поиске пропускаются все сетевые журналы.</span><span class="sxs-lookup"><span data-stu-id="675eb-170">**Skip Network Logs** Skips searching any network logs if checked.</span></span>
    
![Журналы поиска CLS Logger](../../media/5793ea3c-6f5f-40ef-8b53-100da831eedf.png)
  
## <a name="create-a-scenario"></a><span data-ttu-id="675eb-172">Создание сценария</span><span class="sxs-lookup"><span data-stu-id="675eb-172">Create a scenario</span></span>

1. <span data-ttu-id="675eb-173">На вкладке " **изменение сценариев** " нажмите кнопку " **создать сценарий** ".</span><span class="sxs-lookup"><span data-stu-id="675eb-173">In the **Edit Scenarios** tab, click the **Create Scenario** button.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="675eb-p119">При создании нового сценария клонируется конфигурация выбранного на данный момент сценария. Если перед созданием нового сценария щелкнуть **Очистить параметры** сценарий запускается без компонентов и выбранных признаков.</span><span class="sxs-lookup"><span data-stu-id="675eb-p119">Creating a new scenario will clone the configuration of the scenario that is currently selected. If you click **Clear Settings** before creating a new scenario it will start with no components and Flags selected.</span></span>
  
2. <span data-ttu-id="675eb-176">Введите имя создаваемого сценария и нажмите клавишу Enter или кнопку "ОК".</span><span class="sxs-lookup"><span data-stu-id="675eb-176">Enter the name of the scenario you which to create and press Enter key or click the Ok button.</span></span>
    
3. <span data-ttu-id="675eb-p120">Создается новый сценарий. После успешного создания будет выбран раскрывающийся список сценариев с только что созданным сценарием.</span><span class="sxs-lookup"><span data-stu-id="675eb-p120">The new scenario will now be created. Upon successful creation the Scenarios drop-down will be selected with the newly created Scenario.</span></span>
    
## <a name="modify-a-scenario"></a><span data-ttu-id="675eb-179">Изменение сценария</span><span class="sxs-lookup"><span data-stu-id="675eb-179">Modify a scenario</span></span>

![Копия экрана журнала CLS в ситуациях редактирования](../../media/abbbcac0-8a2e-48af-a22f-4fee0283a29f.png)
  
1. <span data-ttu-id="675eb-181">На вкладке **изменения сценариев** найдите сценарий, который требуется изменить.</span><span class="sxs-lookup"><span data-stu-id="675eb-181">In the **Edit Scenarios** tab, find the desired scenario to modify.</span></span>
    
2. <span data-ttu-id="675eb-182">Внесите требуемые изменения в компоненты, уровни и признаки.</span><span class="sxs-lookup"><span data-stu-id="675eb-182">Make the desired changes to the components, levels, and flags.</span></span>
    
3. <span data-ttu-id="675eb-183">Нажмите кнопку **Сохранить сценарий**.</span><span class="sxs-lookup"><span data-stu-id="675eb-183">Click the **Save Scenario** button.</span></span>
    
4. <span data-ttu-id="675eb-184">После успешного сохранения сценария обновляется конфигурация на панели сведений о сценариях.</span><span class="sxs-lookup"><span data-stu-id="675eb-184">Upon successfully saving the scenario, it will refresh the scenario information pane with the updated configuration.</span></span>
    
## <a name="delete-a-scenario"></a><span data-ttu-id="675eb-185">Удаление сценария</span><span class="sxs-lookup"><span data-stu-id="675eb-185">Delete a scenario</span></span>

1. <span data-ttu-id="675eb-186">На вкладке **изменения сценариев** выберите существующий сценарий в раскрывающемся меню сценариев.</span><span class="sxs-lookup"><span data-stu-id="675eb-186">In the **Edit Scenarios** tab, select an existing Scenario from the Scenarios drop down menu.</span></span>
    
2. <span data-ttu-id="675eb-187">Щелкните **Удалить сценарий** для удаления сценария.</span><span class="sxs-lookup"><span data-stu-id="675eb-187">Click **Delete Scenario** to delete the scenario.</span></span>
    
3. <span data-ttu-id="675eb-188">После подтверждения операции сценарий удаляется.</span><span class="sxs-lookup"><span data-stu-id="675eb-188">After confirming the action the scenario will be deleted.</span></span>
    

