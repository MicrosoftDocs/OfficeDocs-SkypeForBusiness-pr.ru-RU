---
title: Развертывание панели мониторинга качества звонков для Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 287f64f5-0f8a-455a-8979-7b34bf0217bb
description: 'Сводка: сведения о процессе развертывания для панели мониторинга качества звонков. Панель мониторинга качества звонков — это средство для Skype для бизнеса Server.'
ms.openlocfilehash: ccfb19bf8069bf72d52d7399b012d81af72e4110
ms.sourcegitcommit: e64c50818cac37f3d6f0f96d0d4ff0f4bba24aef
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/06/2020
ms.locfileid: "41816858"
---
# <a name="deploy-call-quality-dashboard-for-skype-for-business-server"></a>Развертывание панели мониторинга качества звонков для Skype для бизнеса Server
 
**Сводка:** Сведения о процессе развертывания для панели мониторинга качества звонков. Панель мониторинга качества звонков — это средство для Skype для бизнеса Server.
  
## <a name="deployment-overview"></a>Общие сведения о развертывании

Панель мониторинга качества звонков (CQD) состоит из трех основных компонентов:
  
- **Архивная база данных**, на которой реплицируются и сохраняются данные качества взаимодействия (QoE).
    
- **Куб**, где данные из архивной базы данных QoE объединяются для оптимизации и быстрого доступа.
    
- **Портал**, где пользователи могут легко запрашивать и визуализировать данные QoE.
    
![Компоненты CQD](../../media/ef3359b1-c98b-4cc5-a549-c84c6e03c011.png)
  
Процесс настройки архивации QoE включает в себя создание архивной базы данных QoE, развертывание хранимой процедуры SQL Server, которая будет перемещать данные из исходной базы данных QoE метрик в QoE архивной базе данных и настройку задания агента SQL Server для выполнения сохраненных процедуры с регулярным интервалом. 
  
Развертывание куба возвращает данные от пользователя, на котором находится архив QoE, развертывает куб и устанавливает регулярное задание агента SQL Server, которое будет обновлять куб через регулярные интервалы.
  
Установка портала создает базу данных репозитория, в которой хранится сопоставление CQD пользователей с отчетами и запросами каждого пользователя. Затем настраивается веб-приложение IIS, представляющее собой панель мониторинга, в которой пользователи могут просматривать предварительно определенный набор отчетов, а также настраивать и создавать собственные запросы для визуализации данных из куба. Установка портала создает два дополнительных веб-приложения, которые предоставляют API для пользователей для программного доступа к хранилищу и Кубу. (Эти API-интерфейсы также используются на панели мониторинга для внутренних целей).
  

|**Этап**|**Шаги**|**Членство в ролях и группе**|**Документация**|
|:-----|:-----|:-----|:-----|
|Установка необходимого оборудования и программного обеспечения.  <br/> |Определите конфигурацию CQD и выберите сервер SQL Server, с которого нужно выполнить установку.  <br/> |Пользователь домена, являющийся членом локальной группы администраторов.  <br/> |Раздел "требования к предварительной установке" в документации по развертыванию.  <br/> |
|Установите CQD.  <br/> |Запустите MSI-файл, следуя документу развертывания.  <br/> |Чтобы выполнить настройку, учетная запись должна быть пользователем домена, который является членом локальной группы администраторов и имел доступ на чтение к базе данных метрик QoE на сервере мониторинга.  <br/> |Разделы "учетные записи и этапы развертывания" в документации по развертыванию.  <br/> |
|Предоставление пользователям доступа.  <br/> |Для управления авторизацией пользователей на портале рекомендуется использовать URL-авторизацию, которая была представлена в IIS 7,0. Дополнительные сведения можно найти в разделе [сведения об авторизации URL-адреса IIS 7,0](https://www.iis.net/learn/manage/configuring-security/understanding-iis-url-authorization).  <br/> |Пользователь домена, являющийся членом локальной группы администраторов.  <br/> |Управление доступом пользователей к разделу портал в документации по развертыванию.  <br/> |
|Необязательно: предоставление сведений о сопоставлении подсети.  <br/> |Заполнение сети и создание таблиц сопоставлений в QoE архивной базе данных.  <br/> |Учетная запись, доступная для записи, в архивную базу данных QoE.  <br/> |Раздел "предоставление сведений о подсети" в пользовательской документации.  <br/> |
   


Развертывание панели мониторинга качества звонков включает в себя настройку инфраструктуры и установку программного обеспечения. Ниже приведена процедура, в которой описан процесс.
  
## <a name="deployment-steps"></a>Действия по развертыванию

1. Скопируйте Каллкуалитидашбоард. msi на компьютер, на котором установлен компонент архивной базы данных CQD (это компьютер, на котором установлен SQL Server). 
    
2. Запустите MSI (Windows выдаст запрос на запуск с правами администратора, сделайте это). 
    
3. Принимайте условия лицензионного соглашения.
    
4. Выберите конечную папку, в которой будут размещены файлы, связанные с компонентами на панели мониторинга качества звонков, или подтвердите расположение по умолчанию.
    
5. Выберите все функции.
    
6. На странице Конфигурация архива QoE введите следующие сведения:
    
   - **QoE метрики SQL Server:** Имя экземпляра сервера SQL Server, на котором находится база данных метрик QoE (это будет источник).
    
   - **Имя архива SQL Server QoE:** Это поле доступно только для чтения и исправлено для полного доменного имени локального компьютера. Архивная база данных может быть установлена только на локальном компьютере.
    
   - **Экземпляр SQL Server QoE Archive:** Имя локального экземпляра сервера SQL Server, на котором нужно создать архивную базу данных. Чтобы использовать экземпляр SQL Server по умолчанию, оставьте это поле пустым. Чтобы использовать именованный экземпляр SQL Server, укажите имя экземпляра (например, имя после знака "\").
    
   - **QoE архивная база данных:** По умолчанию этот параметр имеет значение "создать новую базу данных". Поскольку архивация базы данных не поддерживается, единственным случаем использования параметра "использовать существующую базу данных" может быть случай, если существующая база данных имеет ту же схему, что и сборка, которую нужно установить.
    
   - **Каталог файла базы данных:** Путь к месту размещения файлов баз данных (MDF и LDF) для архивной БД. Это должно быть на диске (HDD2 в рекомендуемой конфигурации оборудования) отдельно от операционной системы. Обратите внимание, что поскольку имена файлов Исправлены в установке, чтобы избежать возможного конфликта, рекомендуется использовать пустой каталог без файлов.
    
   - **Использование нескольких разделов:** Для параметра по умолчанию задано значение "несколько секций", для которого требуется выпуск SQL Server для бизнес-аналитики выпуска или Enterprise Edition. В качестве выпуска Standard Edition выберите параметр "один раздел". Обратите внимание на то, что производительность обработки куба может быть снижена, если используется единственная секция.
    
     > [!NOTE]
     > Выбор параметра "использовать несколько секций" не может быть изменен после завершения установки. Чтобы изменить его, необходимо сначала удалить функцию Куба, а затем повторно установить ее с помощью параметра "Изменить" на панели управления. 
  
   - **Каталог файла раздела:** Путь к разделу, в который нужно поместить разделы из архивной базы данных QoE. Это должно быть на диске (HDD3 в рекомендуемой конфигурации оборудования) отдельно от диска ОС и файлов журнала базы данных SQL. Обратите внимание, что поскольку имена файлов Исправлены в установке, чтобы избежать возможного конфликта, рекомендуется использовать пустой каталог без файлов.
    
   - **Имя &amp; пользователя задания агента SQL Server — пароль:** Имя учетной записи службы домена и пароль (маска), которые будут использоваться для запуска задания "QoE Archive Data" агента SQL Server (который запускает хранимую процедуру для получения данных из QoE метрик данных в архивную базу данных, поэтому эта учетная запись должна иметь доступ на чтение к QoE метрики, как указано в разделе "учетные записи". У этой учетной записи также должно быть имя для входа в экземпляре SQL Server Archive QoE.
    
     > [!NOTE]
     > Учетная запись, в которой выполняется экземпляр SQL Server, например NT СЕРВИЦЕ\МССКЛСЕРВЕР, должна иметь доступ к каталогам, указанным выше, для успешной установки. Дополнительные сведения можно найти в разделе [Настройка разрешений файловой системы для доступа к ядру СУБД](https://msdn.microsoft.com/en-us/library/jj219062%28v=sql.110%29.aspx)
  
7. После нажатия кнопки "Далее" установщик будет выполнять проверки предварительных требований и сообщать о возникших проблемах. После того как все условия предварительной проверки будут выполнены, установщик перейдет на страницу конфигурации куба. 
    
    > [!NOTE]
    > Если в установщике появляется предупреждение о том, что служба агента SQL Server для QoE архива SQL Server в настоящее время не выполняется, установка может быть продолжена, но после установки должна быть установлена служба агента SQL, а для типа запуска — значение Автоматическое выполнение запланированного задания. 
  
8. На странице Конфигурация куба введите следующие сведения:
    
   - **Имя архива SQL Server QoE:** Это поле доступно только для чтения и исправлено для полного доменного имени локального компьютера. Куб можно установить только с компьютера, на котором QoE архивная база данных (Примечание. Сам куб может быть установлен на удаленном компьютере. См. ниже)
    
   - **Экземпляр SQL Server QoE Archive:** Имя экземпляра SQL Server, на котором расположена архивная база данных QoE. Чтобы указать экземпляр SQL Server по умолчанию, оставьте это поле пустым. Чтобы указать именованный экземпляр SQL Server, введите имя экземпляра (например, имя после знака "\"). Если для установки выбран компонент архивации QoE, это поле будет предварительно заполнено значением, указанным на странице конфигурации архивации QoE.
    
   - **Сервер анализа кубов:** Имя экземпляра службы SQL Server Analysis Service для места создания куба. Это может быть другой компьютер, но пользователь, выполняющий установку, должен быть членом группы администраторов сервера в целевом экземпляре службы SQL Server Analysis Service.
    
     > [!NOTE]
     >  Дополнительные сведения о настройке разрешений администратора сервера служб Analysis Services см. в разделе [предоставление разрешений администратора сервера (службы Analysis Services)](https://msdn.microsoft.com/en-us/library/ms174561.aspx)
  
   - **Использование нескольких разделов:** Для параметра по умолчанию задано значение "несколько секций", для которого требуется выпуск SQL Server для бизнес-аналитики выпуска или Enterprise Edition. В качестве выпуска Standard Edition выберите параметр "один раздел". Обратите внимание на то, что производительность обработки куба может быть снижена, если используется единственная секция.
    
     > [!NOTE]
     >  Выбор параметра "использовать несколько секций" не может быть изменен после завершения установки. Чтобы изменить его, необходимо сначала удалить функцию Куба, а затем повторно установить ее с помощью параметра "Изменить" на панели управления.
  
   - **Пароль пользователя — имя &amp; пользователя:** Имя учетной записи службы домена и пароль (маска), которые будут инициировать обработку куба. Если для установки выбран компонент архивации QoE, это поле будет предварительно заполнено значением, указанным на странице Конфигурация архива для пользователя задания агента SQL, но мы рекомендуем указать другую учетную запись службы домена, чтобы программа установки могла предоставить вам для него минимально необходимый уровень привилегий.
    
9. При нажатии кнопки "Далее" будет выполнена другая круглая проверка, и появится сообщение о каких – либо проблемах. После успешного завершения проверки установщик перейдет на страницу конфигурации портала. 
    
10. На странице Конфигурация портала введите следующие сведения:
    
    - **QoE Архивация сервера SQL Server:** Имя экземпляра сервера SQL Server, на котором расположена база данных архива QoE. Обратите внимание, что в отличие от страницы Конфигурация архивации QoE и страницы Конфигурация куба, имя компьютера не фиксируется и должно быть указано. Если для установки выбран компонент архивации QoE, это поле будет предварительно заполнено значением, указанным на странице конфигурации архивации QoE.
    
    - **Сервер анализа кубов:** Имя экземпляра службы SQL Server Analysis Service, где расположен куб. Если для установки выбран компонент Куба, это поле будет предварительно заполнено значением, указанным на странице конфигурации куба.
    
    - **База данных SQL Server:** Имя экземпляра SQL Server, на котором будет создана база данных репозитория. Если имя экземпляра сервера SQL Server, на котором находится база данных архива QoE, было предоставлено ранее в настройке (в других компонентах), это поле будет предварительно заполнено именем экземпляра SQL Server резервной копии QoE. Это может быть любой экземпляр SQL Server.
    
    - **База данных репозитория:** По умолчанию параметру присвоено значение "создать новую базу данных". Так как обновление базы данных репозитория не поддерживается, единственным случаем использования параметра "использовать существующую базу данных" является тот случай, если существующая БД репозитория имеет ту же схему, что и сборка, которую нужно установить.
    
    - **Пользователь пула приложений IIS — пароль имени &amp; пользователя:** Учетная запись, в которой должен выполняться пул приложений IIS. Поля "имя пользователя" и "пароль" будут недоступны, если выбраны встроенные системные учетные записи. Эти поля будут включены только в том случае, если в раскрывающемся списке выбрано значение "другое", чтобы пользователь мог ввести данные учетной записи службы домена.
    
11. При нажатии кнопки "Далее" для обеспечения доступности экземпляров SQL Server с помощью предоставленных учетных данных и предоставления доступа к службам IIS на компьютере будет выполняться заключительный круглый круг проверки. После успешного завершения проверки Установщик продолжит настройку. 
    
По завершении работы установщика, скорее всего, выполнение задания агента SQL Server будет выполняться при первой загрузке данных QoE и обработке куба. В зависимости от количества данных в QoE портал не сможет получить доступ к данным, пока они не будут доступны для просмотра. Чтобы проверить состояние загрузки данных и обработки куба, перейдите к `http://<machinename>/CQD/#/Health`. 
> [!NOTE]
> Обратите внимание, что URL-адрес для проверки состояния при обработке куба задается с учетом регистра. Если вы ввели "работоспособность", URL-адрес не будет работать. Необходимо ввести "Health" в конце URL-адреса с помощью прописной буквы "р". 
  
Подробные сообщения журнала будут отображаться, если включен режим отладки. Чтобы включить режим отладки, перейдите на **%Системдриве%\програм Филес\скипе для Business 2015 ккд\коедатасервице\веб.конфиг**и обновите следующую строку, чтобы установить значение **Истина**.

```
<add key="QoEDataLib.DebugMode" value="True" /> 
```

Главная страница портала доступна через `http://<machinename>/CQD`. 
## <a name="managing-user-access-for-the-portal"></a>Управление доступом пользователей к порталу

Для управления авторизацией пользователей на портале рекомендуется использовать URL-авторизацию, которая была представлена в IIS 7,0. Дополнительные сведения о безопасности IIS можно найти в разделе [сведения об авторизации URL-адреса iis 7,0](https://www.iis.net/learn/manage/configuring-security/understanding-iis-url-authorization).
  
Любой веб-сайт или веб-приложение наследуют авторизацию URL-адреса по умолчанию, настроенную для всей службы IIS (обычно это разрешено для всех пользователей). Если доступ к порталу должен быть более строгим, администраторы могут предоставить доступ к определенной группе пользователей, изменив "правила авторизации".
  
![Развертывание мониторинга качества вызовов - Правила авторизации в IIS](../../media/0da80c28-58fe-4aca-94b4-db684389468c.png)
  
> [!NOTE]
> Значок "правила авторизации" не следует путать с параметром "авторизация .NET" в разделе ASP.NET, который является другим механизмом проверки подлинности. 
  
Администраторы должны сначала удалить унаследованное правило "разрешить все пользователи". Это предотвратит доступ к порталу для пользователей, не имеющих разрешения.
  
![Развертывание CQD](../../media/fa17ad19-d303-40f8-8324-d13fd67936ab.png)
  
Затем администраторы должны добавить новые правила разрешения и предоставить определенным пользователям разрешение на доступ к порталу. Рекомендуется создать локальную группу с именем "Ккдпорталусерс" для управления пользователями.
  
![Развертывание панели мониторинга качества вызовов](../../media/8cfdc141-ec89-4552-921b-53196f497cbf.png)
  
Сведения о конфигурации хранятся в файле Web. config, расположенном в физическом каталоге портала.
  
```XML
<?xml version="1.0" encoding="UTF-8"?> <configuration> <system.webServer> <security> <authorization> <remove users="*" roles="" verbs="" /> <add accessType="Allow" roles="CQDPortalUsers" /> </authorization> </security> </system.webServer> </configuration> 
```

Следующий этап — настроить информационную панель CQD. После того как пользователи проверяют подлинность IIS, они должны иметь разрешения на доступ к каталогу CQD для доступа к содержимому веб-портала. Списки ACL можно изменить на вкладке "безопасность" в свойствах каталога CQD, чтобы добавить отдельных пользователей или группы; Однако рекомендуемый подход состоит в том, чтобы оставить разрешения на доступ к файлу нетронутыми. Вместо этого измените параметр IIS так, чтобы он использовал рабочий процесс IIS для доступа к каталогу CQD вне зависимости от того, какой пользователь прошел проверку подлинности. 
  
> [!IMPORTANT]
> Важно изменить этот параметр только для приложения CQD, а не для двух приложений API: Коедатасервице и Коерепоситорисервице. 
  
## <a name="configuring-file-access-for-the-cqd-dashboard"></a>Настройка доступа к файлам для CQD (панель мониторинга)

1. Откройте редактор конфигураций для CQD.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/544056eb-3090-434e-bae6-321c984029fa.png)
  
2. В разделе Раздел выберите **System., сервер или серверрунтиме**.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/b0af0e56-21b0-45dd-b610-5381b39319d3.png)
  
3. Измените Аусентикатедусероверриде на **усеворкерпроцессусер**.
    
     ![Развертывание панели мониторинга качества вызовов - Редактор конфигурации](../../media/a7c127f5-9a90-4710-afba-1d1e588efb37.png)
  
4. Нажмите кнопку **Применить** в правой части страницы.
    
## <a name="known-issues"></a>Известные проблемы

### <a name="the-cqd-shows-no-data-after-deployment"></a>В CQD не отображаются данные после развертывания

Может появиться следующее сообщение об ошибке:

*Не удалось выполнить запрос при выполнении этого куба. С помощью редактора запросов измените запрос и устраните все проблемы. Также убедитесь в том, что куб доступен.*

Это означает, что куб должен обрабатываться в службах SQL Server Analysis Services перед использованием в CQD. Вы можете устранить эту проблему, выполнив указанные ниже действия.

1. Откройте центр управления SQL и выберите пункт **службы Analysis Services**.

2. Разверните объект **коекубе** , выберите **QoE метрику**, щелкните правой кнопкой мыши и выберите пункт **Обзор**. 

    Если это возвращает пустой браузер, куб еще не был выполнен.

3. Щелкните правой кнопкой мыши **QoE метрика** ангаин и выберите пункт **процесс**.

4. После завершения обработки щелкните объект правой кнопкой мыши и нажмите кнопку **Обзор** , чтобы убедиться в том, что страница браузера теперь содержит данные. 


### <a name="users-have-trouble-logging-in-because-installer-fails-to-create-the-correct-settings-in-iis"></a>У пользователей возникли проблемы со входом, так как установщик не может создать правильные параметры в службах IIS.

В редких случаях программа установки не может создать правильные параметры в службах IIS. Для того чтобы пользователи могли входить в CQD, необходимо изменить ручной режим. Если пользователям не удается войти в систему, сделайте следующее:
  
1. Откройте диспетчер IIS и перейдите на веб-сайт по умолчанию.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/dc6007aa-870b-4d70-867d-32ffd937063b.png)
  
2. Щелкните "Проверка подлинности". Если "Анонимная проверка подлинности", "олицетворение", "Проверка подлинности формы" и "Проверка подлинности Windows" не соответствуют указанным ниже параметрам, вручную измените их в соответствии с указанными ниже параметрами. Все остальные механизмы проверки подлинности должны быть отключены.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/5d9e38fb-8a50-41a2-a423-3ce983a83d0c.png)
  
3. В разделе "Проверка подлинности Windows" щелкните элемент "Дополнительные параметры" в правой части экрана.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/cad29486-df40-4cc9-82f3-bbdaca52d9ca.png)
  
4. Установите флажок "Расширенная защита" и установите флажок "включить режим проверки подлинности в режиме ядра".
    
     ![Развертывание панели мониторинга качества вызовов](../../media/0ab2dda1-0001-4747-8cfc-072e9368b6cb.png)
  
5. Повторите описанные выше действия для каждой из записей "CQD", "Коедатасервице" и "Коерепоситорисервице" под заголовком "веб-сайт по умолчанию".
    
Для привязок портов HTTP и HTTPS установщик создает привязки портов по умолчанию для номеров портов (порт 80 для HTTP и порт 443 для HTTPS). Если на компьютере, на котором используются эти привязки, есть другой веб-сайт, произойдет конфликт и поведение IIS невозможно предсказать. Лучший способ избежать этой проблемы — убедиться, что другие веб-сайты не сопоставляются с портами 80 и 443 перед установкой CQD. 
  
Чтобы включить SSL/TLS в IIS и принудительно подключить пользователей с помощью протокола HTTPS, а не HTTP, выполните указанные ниже действия.
  
1. Настройка уровня Secure Sockets Layer в службах IIS: [Настройка уровня защищенных сокетов в службах IIS 7](https://technet.microsoft.com/en-us/library/cc771438%28v=ws.10%29.aspx). После этого замените `http` на `https`.
    
2. Инструкции по включению TLS в подключениях SQL Server приведены [в разделе Включение шифрования SSL для экземпляра SQL Server с помощью консоли управления (Майкрософт](https://support.microsoft.com/en-us/kb/316898/)).
    
## <a name="cube-sync-fails"></a>Не удается выполнить синхронизацию Куба

Коеметрикс может содержать некоторые недопустимые записи на основе часов конечных пользователей. Если значение "отклонение по времени" превышает 60 ИРС, импорт Куба завершится сбоем.
  
 Проверьте минимальное и максимальное время начала и окончания с помощью параметров, указанных ниже. Найдите и удалите записи в прошлом и более отдаленных, они могут быть недоступными, и они будут разбивать процессы синхронизации.
  
- Выберите мин (StartTime) из Ккдпартитионедстреамвиев
    
- Выберите "Макс (StartTime)" из Ккдпартитионедстреамвиев
    
- Выберите мин (EndTime) из Ккдпартитионедстреамвиев
    
- Выберите MAX (EndTime) из Ккдпартитионедстреамвиев
    
## <a name="post-install-tasks"></a>Задачи после установки

### <a name="importing-buildings-and-networks"></a>Импорт зданий и сетей

После установки CQD выполните указанные ниже действия по настройке.
  
1. Определение типов зданий (рекомендуется)
    
2. Определение типов владельцев (рекомендуется)
    
3. Определение типов сетей (настоятельно рекомендуется)
    
4. Импорт зданий (рекомендуется)
    
5. Импорт подсетей (рекомендуется)
    
### <a name="define-building-types"></a>Определение типов здания

Типы сборки используются для описания различных определений зданий или типов в Организации. 
  
> [!NOTE]
> Этот шаг является необязательным, но рекомендуется. 
  
Примеры
  
- Headquarters
    
- Удаленный Office
    
- Совместная работа в совместных ресурсах
    
  **Пример синтаксиса SQL**
  
```SQL
INSERT INTO
[dbo].[CqdBuildingType]
([BuildingTypeId],
[BuildingTypeDesc])
VALUES
(1, 
'Headquarters')   
```

Параметры Буилдингтипеид и Буилдингтипедеск являются обязательными.
  
### <a name="define-building-ownership-types"></a>Определение типов владельцев для создания

Типы владения используются для различения владельцев и арендованных активов.
  
> [!NOTE]
> Этот шаг является необязательным, но рекомендуется. 
  
Примеры
  
- Аренда Contoso не использовалась без&amp;повторения
    
- Аренда аренды Contoso (&amp;н)
    
- Владелец contoso
    
- Подразделение на аренду
    
  **Пример синтаксиса SQL**
  
```SQL
INSERT INTO
[dbo].[CqdBuildingOwnershipType]
([OwnershipTypeId],
[OwnershipTypeDesc]
)

VALUES
(1,
'Contoso Owned'
)
```

Параметры Овнершиптипеид и Овнершиптипедеск являются обязательными. 
  
### <a name="define-network-names"></a>Определение сетевых имен

Типы сетей используются для описания различных типов сетей в Организации. Это позволяет отфильтровать (или отфильтровать) определенные типы сетей.
  
> [!NOTE]
> Настоятельно рекомендуется определять сетевые имена, но это не обязательно. Если вы решили не определять сетевые имена, убедитесь, что каждый элемент Ккднетворк имеет Буилдингид 0. 
  
Примеры
  
- VPN;
    
- ЛАБОРАТОРИИ
    
  **Пример синтаксиса SQL**
  
```SQL
INSERT INTO [dbo].[CqdNetworkName] 
( [NetworkName]
,[NetworkType]
 ) 
VALUES
('VPN','VPN') 
```

Параметры Нетворкнамеид и Нетворкнаме являются обязательными, но рекомендуется использовать параметр Нетворктипе.
  
### <a name="import-buildings"></a>Импорт зданий

Импорт зданий позволяет вам создать конкретные аналитические данные (некачественные звонки по зданиям в сетях Wi-Fi и т. д.). 
  
> [!NOTE]
> Этот шаг является необязательным, но рекомендуется. 
  
Перед импортом нового здания вы уже должны иметь предварительно определенную Буилдингкэй. Для этого выбери команду SQL "SELECT MAX (Буилдингкэй) FROM Ккдбуилдинг" для определения текущего значения и добавления 1 к результату.
  
 **Пример синтаксиса SQL**
  
```SQL
INSERT INTO [dbo].[CqdBuilding] 
( [BuildingKey]
,[BuildingName]
,[BuildingShortName]
,[OwnershipTypeId],
[BuildingTypeId]
)
VALUES
(2, 'Ann Arbor', 'AA', 0, 0)
```

Параметры Буилдингкэй, Буилдингнаме, Буилдингшортнаме, Овнершиптипеид и Буилдингтипеид являются обязательными, но другие параметры являются необязательными.
  
### <a name="import-subnets"></a>Импорт подсетей

Импорт зданий позволяет вам создать конкретные аналитические данные (некачественные звонки по зданиям в сетях Wi-Fi и т. д.). 
  
> [!NOTE]
> Этот шаг является необязательным, но рекомендуется. 
  
Импортируйте подсети и сопоставьте их с строениями, импортированными на предыдущем этапе. Если вы решили не заполнять Нетворкнаме, убедитесь, что каждая запись в этой таблице использует Нетворкнамеид 0.
  
 **Пример синтаксиса SQL**
  
```SQL
INSERT INTO [dbo].[CqdNetwork] 
([Network]
,[NetworkNameID]
,[BuildingKey]
,[UpdatedDate]
)

VALUES
 ('172.16.254.0',0,1,'2015-11-11')
```

Параметры Network и Упдатеддате являются обязательными, но другие параметры являются необязательными.
  
### <a name="optional-bssid"></a>Необязательно: BSSID

Заполнение BSSID-информации обеспечивает дополнительную корреляцию потоков WiFi с помощью контроллера или радио. Это дополнение к фильтрации по зданиям или подсетям. 
  
 **Пример синтаксиса SQL**
  
```SQL
INSERT INTO [dbo].[CqdBssid]
([Ap],
[Bss],
[Building],
[ess],
[phy]
)
VALUES
('AP1','00-00-00-00-00-00','Aruba AP 1','Controller1','bgn')
```

**Сведения о Ккдбссидтабле**

|**Как показано в CQD**|**Таблица Ккдбссид**|**Примеры входных данных**|
|:-----|:-----|:-----|
|Ннаме AP  <br/> |ПРОФИЛЯ  <br/> |AP1  <br/> |
|ббссид  <br/> |BSS  <br/> |00-00-00-00-00-00 (необходимо использовать фформат с разделителями)  <br/> |
|Контроллер  <br/> |Building  <br/> |Аруба AP 7  <br/> |
|Device  <br/> |ess  <br/> |Controller1  <br/> |
|Переключатель  <br/> |phy  <br/> |бгн  <br/> |
   
### <a name="processing-the-imported-data"></a>Обработка импортированных данных

По умолчанию после импорта данных из сборки или сети он будет применяться только к записям, созданным после этого момента времени. 
  
Чтобы пометить все предыдущие записи с новыми данными, необходимо выполнить хранимую процедуру Ккдупдатебуилдинг, как показано ниже. 
  
Укажите дату первой записи (с помощью команды SELECT MIN (StartTime) FROM Ккдпартитионедстреамвиев SQL), EndDate завтрашнего дня, а затем NULL для последних двух значений.
  
После того как данные будут связаны с данными потока, куб служб SSIS должен повторно обработать все записи. Это также применимо при массовом добавлении данных BSSID и ISP. Убедитесь, что выбран параметр "процесс полон".
  

