---
title: Развертывание панели мониторинга качества звонков для Скайп для Business Server
ms.author: kenwith
author: kenwith
manager: serdars
ms.audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 287f64f5-0f8a-455a-8979-7b34bf0217bb
description: 'Сводка: Сведения о процессе развертывания для панели мониторинга качества звонков. Панель мониторинга качества звонков — это средство для Скайп для Business Server.'
ms.openlocfilehash: c9d641a8202560e558e33014670b4b1060795477
ms.sourcegitcommit: b680505c5dad435d98fbd0b235e0e7c67b9d8c9c
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2018
ms.locfileid: "26035752"
---
# <a name="deploy-call-quality-dashboard-for-skype-for-business-server"></a>Развертывание панели мониторинга качества звонков для Скайп для Business Server
 
**Сводка:** Сведения о процессе развертывания для панели мониторинга качества звонков. Панель мониторинга качества звонков — это средство для Скайп для Business Server.
  
## <a name="deployment-overview"></a>Общие сведения о развертывании

Панель мониторинга качества звонков (CQD) состоит из трех основных компонентов:
  
- **Архивная база данных**, где репликации и хранятся данные качества взаимодействия (QoE).
    
- **Куб**, где обобщения данных из базы данных архивов качества взаимодействия для обеспечения оптимальной и быстрый доступ.
    
- **Портал**, где пользователи могут создавать запросы и визуализировать данные о качестве взаимодействия.
    
![Компоненты CQD](../../media/ef3359b1-c98b-4cc5-a549-c84c6e03c011.png)
  
Процесс установки для архива качества взаимодействия включает создание качества взаимодействия архивной базы данных, развертывание хранимой процедуры SQL Server, перемещение данных из источника показатели качества взаимодействия базы данных в базу данных о качестве взаимодействия архива и настройке задания агента SQL Server для выполнения хранимую процедура с заданной периодичностью. 
  
Развертывание куба получает сведения от пользователя, на которых архив качества взаимодействия расположен, развертывает куб и выполняет настройку регулярные задания агента SQL Server, который будет обновлять куб с заданной периодичностью.
  
Установка портала создает базы данных репозитория, в которой хранятся сопоставления пользователей CQD для каждого пользователя отчеты и запросы. Затем оно выполняет настройку веб-приложения IIS, который является панели мониторинга, где пользователи могли просматривать предварительно определенный набор отчетов, а также настраивать и создавать собственные запросы для визуализации данных из куба. Установка портала создает два дополнительных веб-приложения, которые предоставляет API-интерфейсы для пользователей для программного доступа к хранилище и куб. (Эти интерфейсы API используются во внутреннем панели мониторинга, а также.)
  

|**Этап**|**Шаги**|**Членство в ролях и группе**|**Документация**|
|:-----|:-----|:-----|:-----|
|Установка необходимого оборудования и программного обеспечения.  <br/> |Принятие решения по конфигурации CQD и выберите команду SQL Server, из которого требуется выполнить установку.  <br/> |Пользователь домена, являющийся членом локальной группы администраторов.  <br/> |«Предварительно требования к установке» в разделе документации по развертыванию.  <br/> |
|Установка CQD.  <br/> |Запустите MSI-файла после его развертывания.  <br/> |Для выполнения программы установки, Установка учетной записи пользователя домена, который является членом группы локальных администраторов и иметь доступ на чтение к базе данных показатели качества взаимодействия на сервере мониторинга.  <br/> |Разделы «Учетные записи и шаги развертывания» в документации по развертыванию.  <br/> |
|Предоставление доступа пользователей.  <br/> |Для управления авторизации пользователя на портале, рекомендуется использовать авторизации URL-адрес, который был введен в IIS 7.0. Для получения дополнительных сведений см [Общее представление о IIS 7.0 URL-адрес](https://www.iis.net/learn/manage/configuring-security/understanding-iis-url-authorization).  <br/> |Пользователь домена, являющийся членом локальной группы администраторов.  <br/> |Управление доступом пользователей для раздела портала в документации по развертыванию.  <br/> |
|Необязательно: Предоставить сведения о сопоставлении подсети.  <br/> |Заполните сети и сопоставление построения таблиц в базе данных архива качества взаимодействия.  <br/> |Учетная запись с доступ на запись к базе данных архива качества взаимодействия.  <br/> |«Предоставление сведений о подсети» в разделе документации для пользователя.  <br/> |
   


Развертывание панели мониторинга качества звонков включает в себя настройку инфраструктуры и установку программного обеспечения. В следующей процедуре показано процесса.
  
## <a name="deployment-steps"></a>Этапы развертывания

1. Скопируйте CallQualityDashboard.msi на компьютере, где должна быть установлена компонент базы данных архива CQD (это компьютера, на котором установлен сервер SQL). 
    
2. Выполнение MSI-файла (Windows выводит запрос на запуск с правами администратора, делать это). 
    
3. Примите условия лицензионного соглашения.
    
4. Выберите папку назначения, где будет находиться файлов, связанных компонентов панели мониторинга качества звонков или примите расположение по умолчанию.
    
5. Выберите все компоненты.
    
6. На странице конфигурации качества взаимодействия архива введите следующие сведения:
    
   - **Показатели качества взаимодействия SQL Server:** Имя экземпляра SQL Server, для которой находится база данных показатели качества взаимодействия (это будет источник данных).
    
   - **Архива QoE имя сервера SQL:** Это поле только для чтения, фиксированной полное доменное имя на локальном компьютере. Архив DB может устанавливаться только на локальном компьютере.
    
   - **Архива QoE экземпляр SQL Server:** Локальный имя экземпляра SQL Server для которой должен быть создан база данных архива. Чтобы использовать экземпляр SQL Server по умолчанию, оставьте это поле пустым. Чтобы использовать именованный экземпляр SQL Server, укажите имя экземпляра (например имя после "\").
    
   - **Качества взаимодействия архивной базы данных:** По умолчанию включен режим «Создать базу данных». Так как база данных архива обновления не поддерживается, единственный случай, в котором можно использовать параметр «Использовать существующую базу данных» — Если существующая база данных архива имеет той же схеме, построения, чтобы установить.
    
   - **Базы данных каталог файлов:** Путь, где должны размещаться файлы базы данных (MDF и LDF) для базы данных архива. Это должен быть на диск (HDD2 в Рекомендуемая конфигурация оборудования) отдельно от операционной системы. Обратите внимание, что с момента фиксированные имена файлов в установку во избежание любой вероятность конфликта рекомендуется использовать пустой каталог с файлами, не.
    
   - **Использовать несколько разделов:** По умолчанию задано значение «Несколько раздел», который требуется выпуск Business Intelligence или Enterprise edition SQL Server. Для Standard edition выберите параметр «Один раздел». Обратите внимание, что если используется один раздел изменится производительность обработки куба.
    
     > [!NOTE]
     > Выбор варианта использования нескольких секций нельзя изменить после завершения установки. Измените его куба, функция должна быть первой удален и затем переустановить с помощью команды «Изменить» в панели управления. 
  
   - **Partition каталог файлов:** Путь, где должны размещаться разделы для качества взаимодействия архивной базы данных. Это должен быть на диск (HDD3 в Рекомендуемая конфигурация оборудования) отдельно от диска операционной системы и диск файлы журнала базы данных SQL. Обратите внимание, что с момента фиксированные имена файлов в установку во избежание любой вероятность конфликта рекомендуется использовать пустой каталог с файлами, не.
    
   - **Пользователя задания агента SQL — имя пользователя &amp; пароль:** Имя учетной записи службы домена и пароль (маской), который будет использоваться для запуска «Данных о качестве взаимодействия архива» шаг задания агента SQL Server (который будет работать хранимую процедуру для получения данных из DB показатели качества взаимодействия в архив базы данных, поэтому учетная запись должна иметь доступ на чтение к DB показатели качества взаимодействия,  как указано в разделе учетные записи. Эта учетная запись также должен иметь имя входа в экземпляр SQL Server QoE архива).
    
     > [!NOTE]
     > Учетная запись, которой работает экземпляр SQL Server, такие как NT SERVICE\MSSQLSERVER должна иметь доступ к папкам, приведенном выше, для успешной установки. Дополнительные сведения см [Настроить разрешения файловой системы для доступа к базе данных модуля](https://msdn.microsoft.com/en-us/library/jj219062%28v=sql.110%29.aspx)
  
7. После нажатия кнопки Далее, программа установки выполнит необходимые предварительные проверки и отчет о найденные проблемы, возникающие. Когда все необходимые предварительные проверки прохода, установщик будут поступать на странице "Конфигурация куба". 
    
    > [!NOTE]
    > Если программа установки отображает предупреждение, которое не в настоящее время работает служба агента SQL Server для экземпляра SQL Server архив качества взаимодействия, можно продолжить установку, но post установки убедитесь в том, что служба агента SQL работает и значение тип запуска Автоматическое, чтобы запускает запланированное задание. 
  
8. На странице Конфигурация куба введите следующие сведения:
    
   - **Архива QoE имя сервера SQL:** Это поле только для чтения, фиксированной полное доменное имя на локальном компьютере. Куб может устанавливаться только с компьютера, на котором имеется база данных архива качества взаимодействия (Примечание. Сам куб может устанавливаться на удаленном компьютере. Ниже приведены)
    
   - **Архива QoE экземпляр SQL Server:** Имя экземпляра SQL Server для где расположена база данных архива качества взаимодействия. Чтобы указать экземпляр SQL Server по умолчанию, оставьте это поле пустым. Чтобы указать именованный экземпляр SQL Server, введите имя экземпляра (например имя после "\"). Если компонент качества взаимодействия архив был выбран для установки, это поле будет предварительно заполненный с значение, заданное на странице Конфигурация архив качества взаимодействия.
    
   - **Куба сервера анализа:** Имя экземпляра службы аналитики SQL Server для которой должен быть создан куб. Это может быть другой компьютер, но установка, пользователь должен быть членом группы администраторов сервера нужного экземпляра службы аналитики SQL Server.
    
     > [!NOTE]
     >  Дополнительные сведения о настройке разрешений администратора сервера служб Analysis можно [Предоставить разрешения администратора сервера (службы Analysis Services)](https://msdn.microsoft.com/en-us/library/ms174561.aspx)
  
   - **Использовать несколько разделов:** По умолчанию задано значение «Несколько раздел», который требуется выпуск Business Intelligence или Enterprise edition SQL Server. Для Standard edition выберите параметр «Один раздел». Обратите внимание, что если используется один раздел изменится производительность обработки куба.
    
     > [!NOTE]
     >  Выбор варианта использования нескольких секций нельзя изменить после завершения установки. Измените его куба, функция должна быть первой удален и затем переустановить с помощью команды «Изменить» в панели управления.
  
   - **Куба пользователя — имя пользователя &amp; пароль:** Имя учетной записи службы домена и пароль (маской), который будет запускать обработки куба. Если компонент качества взаимодействия архив был выбран для установки, это поле будет предварительно заполненный с значение, заданное на странице Конфигурация архива для пользователя задания агента SQL, но рекомендуется указать учетную запись службы другом домене, чтобы программа установки может предоставить Обязательный прав на него.
    
9. После нажатия кнопки Далее, будет выполнена другой round проверки и сообщает проблемы. После успешного завершения проверки установщик перейдите на страницу настройки портала. 
    
10. На странице настройки портала введите следующие сведения:
    
    - **Архива QoE SQL Server:** Имя экземпляра SQL Server для котором расположена база данных архива качества взаимодействия. Обратите внимание, что в отличие от страницы конфигурации качества взаимодействия архива и на странице Конфигурация куба, имя компьютера, имя не устранена и должен быть указан. Если компонент качества взаимодействия архив был выбран для установки, это поле будет предварительно заполненный с значение, заданное на странице Конфигурация архив качества взаимодействия.
    
    - **Куба сервера анализа:** Имя экземпляра службы аналитики SQL Server для где расположена куба. Если компонент куб был выбран для установки, это поле будет предварительно заполненный со значением, содержащимся на странице "Конфигурация куба".
    
    - **Репозитория SQL Server:** Имя экземпляра SQL Server, где должен быть создан базы данных репозитория. Если этот параметр указан имя экземпляра SQL Server, для которой расположена база данных архива качества взаимодействия ранее в программе установки (в других компонентов) в этом поле будет предварительно заполнен QoE архива базы данных имя экземпляра SQL Server. Это может быть любой экземпляр SQL Server.
    
    - **Базы данных репозитория:** По умолчанию параметр имеет значение «Создать базу данных». Так как база данных репозитория обновления не поддерживается, единственный случай, в котором можно использовать параметр «Использовать существующую базу данных» — Если существующая база данных репозитория есть той же схеме, построения, чтобы установить.
    
    - **Пользователь пула приложений IIS - имя пользователя &amp; пароль:** Учетная запись, который должен выполняться пул приложений IIS, в группе. Поля имя пользователя и пароль становится недоступной, если выбрана встроенная системных учетных записей. Эти поля будет доступен только в том случае, если выбран «Прочие» из раскрывающегося списка, пользователь может ввести данные учетной записи службы домена.
    
11. После нажатия кнопки Далее, окончательный round проверки будет выполнено, чтобы убедиться, что экземпляры SQL Server, доступны, используя учетные данные и доступны на компьютере, что службы IIS. После успешного завершения проверки установщик будет продолжить установку. 
    
После завершения установки, вероятнее всего хода выполнения, выполнив начальной загрузки данных о качестве взаимодействия и обработки куба будет задания агента SQL Server. В зависимости от объема данных в качества взаимодействия портала не будут иметь данных, которые доступны для просмотра еще. Чтобы проверить состояние загрузки данных и обработки куба, перейдите к `http://<machinename>/CQD/#/Health`. 
> [!NOTE]
> Обратите внимание, что URL-адрес для проверки состояния обработки куба файл для загрузки с учетом регистра. Если ввести работоспособности URL-адреса не будут работать. Необходимо ввести «Работоспособности» в конце URL-адрес с заглавной буквы з. 
  
Подробный журнал сообщения будут отображаться при включенном режиме отладки. Чтобы включить режим отладки, перейдите к **%SYSTEMDRIVE%\Program Files\Skype для бизнеса 2015 CQD\QoEDataService\web.config**и обновить следующую строку, поэтому значение присвоено **значение True**:

```
<add key="QoEDataLib.DebugMode" value="True" /> 
```

Главной страницы портала доступную через `http://<machinename>/CQD`. 
## <a name="managing-user-access-for-the-portal"></a>Управление доступом пользователей портала

Для управления авторизации пользователя на портале, рекомендуется использовать авторизации URL-адрес, который был введен в IIS 7.0. Дополнительные сведения о безопасности служб IIS [Общие сведения о IIS 7.0 URL-адрес авторизации ](https://www.iis.net/learn/manage/configuring-security/understanding-iis-url-authorization)см.
  
Любой веб-сайта или веб-приложения наследуют по умолчанию авторизации URL-адреса, настроенные для всей службы IIS, которая обычно является «Разрешить все пользователи». Если доступ к порталу должен быть более жесткие, затем администраторов можно предоставить доступ только определенные группы пользователей путем редактирования «Правил авторизации».
  
![Развертывание мониторинга качества вызовов - Правила авторизации в IIS](../../media/0da80c28-58fe-4aca-94b4-db684389468c.png)
  
> [!NOTE]
> Значок правил авторизации, не следует путать с «Authorization .NET» в разделе раздела ASP.NET, который представляет собой механизм различных авторизации. 
  
Администраторам необходимо удалить правило наследуемые «разрешить все пользователи». Это любой неавторизованный пользователям запрещается доступ к порталу.
  
![Развертывание CQD](../../media/fa17ad19-d303-40f8-8324-d13fd67936ab.png)
  
Затем администраторы должны добавить новые правила разрешить и предоставление определенным пользователям разрешения на доступ к порталу. Рекомендуется создать в локальную группу с именем «CQDPortalUsers» Управление пользователями.
  
![Развертывание панели мониторинга качества вызовов](../../media/8cfdc141-ec89-4552-921b-53196f497cbf.png)
  
Сведения о конфигурации хранятся в файле web.config, расположенном по физический каталог портала.
  
```
<?xml version="1.0" encoding="UTF-8"?> <configuration> <system.webServer> <security> <authorization> <remove users="*" roles="" verbs="" /> <add accessType="Allow" roles="CQDPortalUsers" /> </authorization> </security> </system.webServer> </configuration> 
```

Следующим шагом является Настройка панели мониторинга CQD. После проверки подлинности пользователей службами IIS, у них для получения прав файл в каталоге CQD, чтобы получить доступ к веб-портала содержимого. Можно изменить списки управления доступом на вкладке Безопасность свойств каталога CQD Добавление отдельных пользователей и групп; Тем не менее рекомендуется оставить разрешения файла без изменений. Вместо этого измените параметр служб IIS, чтобы использовать рабочий процесс IIS для доступа к каталогу CQD, независимо от того, что проверка подлинности пользователей. 
  
> [!IMPORTANT]
> Важно только изменить этот параметр для приложения CQD, а не для двух приложений API: QoEDataService и QoERepositoryService. 
  
## <a name="configuring-file-access-for-the-cqd-dashboard"></a>Настройка доступа к файлам для CQD (панель мониторинга)

1. Откройте редактор конфигурации для CQD.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/544056eb-3090-434e-bae6-321c984029fa.png)
  
2. В разделе Выбор **system.webServer/serverRuntime**.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/b0af0e56-21b0-45dd-b610-5381b39319d3.png)
  
3. Измените authenticatedUserOverride на **UseWorkerProcessUser**.
    
     ![Развертывание панели мониторинга качества вызовов - Редактор конфигурации](../../media/a7c127f5-9a90-4710-afba-1d1e588efb37.png)
  
4. Нажмите кнопку **Применить** в правой части страницы.
    
## <a name="known-issues"></a>Известные проблемы

### <a name="the-cqd-shows-no-data-after-deployment"></a>CQD не отображает данные после развертывания

Может появиться следующее сообщение об ошибке:

*Мы не удалось выполнить запрос во время выполнения в кубе. В редакторе запросов для изменения запроса и устранения неполадок. Убедитесь, что куб доступен.*

Это означает, что куб должны обрабатываться в службах аналитики SQL Server перед, используемых в CQD. Решить эту проблему, выполнив следующие действия:

1. Откройте центр управления SQL и выберите **Службы аналитики**.

2. Разверните узел **QoECube** объекта, выберите **Показатель качества взаимодействия**, щелкните правой кнопкой мыши и затем нажмите кнопку **Обзор**. 

    Если возвращается пустая браузер, еще не были перейти куба.

3. Щелкните правой кнопкой мыши angain **Показатель качества взаимодействия** и выбрать **процесс**.

4. После завершения обработки, щелкните правой кнопкой мыши объект и нажмите кнопку **Обзор** , чтобы подтвердить, что страница браузера теперь отображается данных. 


### <a name="users-have-trouble-logging-in-because-installer-fails-to-create-the-correct-settings-in-iis"></a>У пользователей есть проблемы, ведение журналов в, так как программа установки не удается создать правильные параметры в службах IIS

В редких случаях установщик не удается создать правильные параметры в службах IIS. Чтобы разрешить пользователям войдите в CQD требуется заданное вручную изменение. Если пользователи удается войти в систему, выполните следующие шаги:
  
1. Откройте настройки диспетчера служб IIS и перейдите по умолчанию веб-сайта.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/dc6007aa-870b-4d70-867d-32ffd937063b.png)
  
2. Щелкните «Проверка подлинности». Если «Анонимный доступ», «ASP.NET олицетворения», «Проверка подлинности форм» и «Проверка подлинности Windows» не соответствуют параметрам, показанного ниже, вручную измените их в соответствии с настройкой. Все другие способы проверки подлинности должны быть отключены.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/5d9e38fb-8a50-41a2-a423-3ce983a83d0c.png)
  
3. «Проверка подлинности Windows» нажмите кнопку Дополнительные параметры в правой части.
    
     ![Развертывание панели мониторинга качества вызовов](../../media/cad29486-df40-4cc9-82f3-bbdaca52d9ca.png)
  
4. Значение «Расширенной защиты» принять и установите флажок «Включить в режиме ядра проверка подлинности».
    
     ![Развертывание панели мониторинга качества вызовов](../../media/0ab2dda1-0001-4747-8cfc-072e9368b6cb.png)
  
5. Повторите описанные действия для каждой записи «CQD», «QoEDataService» и «QoERepositoryService» ниже «по умолчанию веб-сайта».
    
Для привязки портов HTTP и HTTPS установщик создаст привязки портов на номера портов по умолчанию (порт 80 для HTTP) и порт 443 для HTTPS. Если на компьютере, который использует эти привязки другого веб-сайта, будет конфликта и многократном поведение служб IIS. Чтобы избежать этой проблемы рекомендуется убедитесь в том, что нет других веб-сайтах, сопоставляются с порта 80 и 443 перед установкой CQD. 
  
Чтобы включить протокол SSL/TLS в службах IIS и принудительное подключение через безопасный протокол HTTPS вместо HTTP:
  
1. Настроить протокол SSL в службах IIS, см [Настройка протокол SSL в IIS 7](https://technet.microsoft.com/en-us/library/cc771438%28v=ws.10%29.aspx). После замены `http` с `https`.
    
2. Инструкции по включению TLS в подключения к SQL Server Узнайте, [как включить SSL-шифрования для экземпляра SQL Server с помощью консоли управления ](https://support.microsoft.com/en-us/kb/316898/).
    
## <a name="cube-sync-fails"></a>Сбой синхронизации куба

QoEMetrics может содержать несколько недопустимых записей на основании часы конечного пользователя. Если отклонение времени превышает 60 лет, произойдет ошибка импорта куба.
  
 Установите флажок мин и Макс StartTime и EndTime с помощью Выбор ниже. Поиск и удаления записей в будущем дальнем последние и очень удаленных, их можно пренебречь и будет разбить процессов синхронизации.
  
- Выберите MIN(StartTime) из CqdPartitionedStreamView
    
- Выберите MAX(StartTime) из CqdPartitionedStreamView
    
- Выберите MIN(EndTime) из CqdPartitionedStreamView
    
- Выберите MAX(EndTime) из CqdPartitionedStreamView
    
## <a name="post-install-tasks"></a>Задачи после установки

### <a name="importing-buildings-and-networks"></a>Импорт зданий и сетей

После установки CQD необходимо выполните следующие задачи по настройке:
  
1. Определение типов построения (рекомендуется)
    
2. Определение типов построения владельца (рекомендуется)
    
3. Определение типов сети (что рекомендуется)
    
4. Импорт зданий (рекомендуется)
    
5. Импорт подсети (рекомендуется)
    
### <a name="define-building-types"></a>Определение типов построения

Типы построения используются для описания определений разные зданий или типов в вашей организации. 
  
> [!NOTE]
> Этот шаг является обязательным, но рекомендуется. 
  
Примеры
  
- Головной офис
    
- Удаленного офиса
    
- Расположение совместном предприятии
    
  **Примеры синтаксиса SQL**
  
```
INSERT INTO
[dbo].[CqdBuildingType]
([BuildingTypeId],
[BuildingTypeDesc])
VALUES
(1, 
'Headquarters')   
```

Параметры BuildingTypeId и BuildingTypeDesc являются обязательными.
  
### <a name="define-building-ownership-types"></a>Определение типов владельца построения

Типы прав владельца используются для различения собственные vs аренду активов.
  
> [!NOTE]
> Этот шаг является обязательным, но рекомендуется. 
  
Примеры
  
- Contoso аренду не RE&amp;F
    
- Contoso аренду RE&amp;F
    
- Владельцем Contoso
    
- Дочерним подразделением аренду
    
  **Примеры синтаксиса SQL**
  
```
INSERT INTO
[dbo].[CqdBuildingOwnershipType]
([OwnershipTypeId],
[OwnershipTypeDesc],
)

VALUES
(1,
'Contoso Owned',
)
```

Параметры OwnershipTypeId и OwnershipTypeDesc являются обязательными. 
  
### <a name="define-network-names"></a>Определение сетевых имен

Типы сети используются для описания различных типов сетей в рамках организации. Это дает возможность фильтрации (или отфильтровать) определенного типа сети.
  
> [!NOTE]
> Настоятельно рекомендуется для определения имен сети, но он не является обязательным. Если вы решили не определили имена сети, убедитесь, что для каждой записи CqdNetwork равно BuildingId 0. 
  
Примеры
  
- VPN
    
- ЛАБОРАТОРИИ
    
  **Примеры синтаксиса SQL**
  
```
INSERT INTO [dbo].[CqdNetworkName] 
( [NetworkName]
,[NetworkType]
 ) 
VALUES
('VPN','VPN') 
```

Параметры NetworkNameID и NetworkName являются обязательными, параметр NetworkType, но рекомендуется.
  
### <a name="import-buildings"></a>Импорт зданий

Импорт зданий предоставляет возможность получения построение полезные сведения о конкретных (низкого уровня звонков в построение на WiFi/проводной сети, и т.д.). 
  
> [!NOTE]
> Этот шаг является обязательным, но рекомендуется. 
  
Перед импортом новое построение вам необходимо иметь предварительно заданных BuildingKey определяемую. Для этого используйте команду SQL «ВЫБЕРИТЕ MAX(BuildingKey) из CqdBuilding» определение текущее значение и добавление 1 результат.
  
 **Примеры синтаксиса SQL**
  
```
INSERT INTO [dbo].[CqdBuilding] 
( [BuildingKey]
,[BuildingName]
,[BuildingShortName]
,[OwnershipTypeId],
[BuildingTypeId]
)
VALUES
(2, 'Ann Arbor', 'AA', 0, 0)
```

BuildingKey, BuildingName, BuildingShortName, OwnershipTypeId, BuildingTypeId параметры являются обязательными, другие параметры являются необязательными.
  
### <a name="import-subnets"></a>Импорт подсетей

Импорт зданий предоставляет возможность получения построение полезные сведения о конкретных (низкого уровня звонков в построение на WiFi/проводной сети, и т.д.). 
  
> [!NOTE]
> Этот шаг является обязательным, но рекомендуется. 
  
Импорт подсети и сопоставить их зданий, импортирован на предыдущем этапе. Если не следует заполнить NetworkName, убедитесь, что каждой записи в этой таблице использует NetworkNameID 0.
  
 **Примеры синтаксиса SQL**
  
```
INSERT INTO [dbo].[CqdNetwork] 
([Network]
,[NetworkNameID]
,[BuildingKey]
,[UpdatedDate]
)

VALUES
 ('172.16.254.0',0,1,'2015-11-11')
```

Сети и UpdatedDate параметры являются обязательными, другие параметры являются необязательными.
  
### <a name="optional-bssid"></a>Необязательно: BSSID

Заполнение сведения BSSID предоставляет дополнительные корреляции потока WiFi контроллером или радио. Это в дополнение к фильтрация по построению или подсети. 
  
 **Примеры синтаксиса SQL**
  
```
INSERT INTO [dbo].[CqdBssid]
([Ap],
[Bss],
[Building],
[ess],
[phy]
)
VALUES
('AP1','00-00-00-00-00-00','Aruba AP 1','Controller1','bgn')
```

**Сведения о CqdBssidTable**

|**Как показано на CQD**|**В таблице CQDBssid**|**Пример исходные данные**|
|:-----|:-----|:-----|
|AP NName  <br/> |AP  <br/> |AP1  <br/> |
|BBssid  <br/> |BSS  <br/> |00-00-00-00-00-00 (необходимо использовать с разделителями fformat)  <br/> |
|Контроллер  <br/> |Building  <br/> |Аруба AP 7  <br/> |
|Устройства  <br/> |ess  <br/> |Контроллер1  <br/> |
|Радио  <br/> |phy  <br/> |bgn  <br/> |
   
### <a name="processing-the-imported-data"></a>Обработка импортированных данных

По умолчанию после импорта данных построения/сети он применяется только к записей, созданных после этого времени. 
  
Чтобы отметить все предыдущие записи с помощью новых данных, необходимо выполнить процедуру, хранимых CqdUpdateBuilding, как показано ниже: 
  
Задайте для него Дата первой записи (определение, с помощью команды выберите MIN(StartTime) из CqdPartitionedStreamView SQL), EndDate завтрашнему дню, тогда значение NULL для последние два значения.
  
После данных связан с поток данных, SSIS куба необходимо повторно обработать все записи. Это также относится когда Массовое добавление данных BSSID/поставщика услуг Интернета. Убедитесь, что выбран «Процесс Full».
  

