---
title: Правила трансляции в Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
localization_priority: Normal
ms.collection:
- IT_Skype16
- Strat_SB_Admin
ms.custom: ''
ms.assetid: 6e067bd4-4931-4385-81ac-2acae45a16d8
description: Сведения о правилах перевода и нормализации строк звонка в Skype для бизнеса Server Enterprise.
ms.openlocfilehash: 1f435db01b5b15c97ae577565e4ba43f5de554ea
ms.sourcegitcommit: ab47ff88f51a96aaf8bc99a6303e114d41ca5c2f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2019
ms.locfileid: "34297367"
---
# <a name="translation-rules-in-skype-for-business-server"></a><span data-ttu-id="9409c-103">Правила трансляции в Skype для бизнеса Server</span><span class="sxs-lookup"><span data-stu-id="9409c-103">Translation rules in Skype for Business Server</span></span>

<span data-ttu-id="9409c-104">Сведения о правилах перевода и нормализации строк звонка в Skype для бизнеса Server Enterprise.</span><span class="sxs-lookup"><span data-stu-id="9409c-104">Learn about translation rules and dial string normalization in Skype for Business Server Enterprise Voice.</span></span>

 <span data-ttu-id="9409c-105">Корпоративная голосовая связь требует, чтобы все строки набора номера были нормализованы в формат E. 164 для целей обратного просмотра номера (РНЛ).</span><span class="sxs-lookup"><span data-stu-id="9409c-105">Enterprise Voice requires that all dial strings be normalized to E.164 format for the purpose of performing reverse number lookup (RNL).</span></span> <span data-ttu-id="9409c-106">Правила трансляции поддерживаются для обоих названий и телефонных номеров.</span><span class="sxs-lookup"><span data-stu-id="9409c-106">Translation rules are supported for both called numbers and calling numbers.</span></span> <span data-ttu-id="9409c-107">Сетрунк (то есть шлюзом, подключением к частной ветви, УАТС или SIP-магистральом) может потребоваться, чтобы номера были заданы в локальном формате набора номера.</span><span class="sxs-lookup"><span data-stu-id="9409c-107">Thetrunk peer (that is, the associated gateway, private branch exchange (PBX), or SIP trunk) may require that numbers be in a local dialing format.</span></span> <span data-ttu-id="9409c-108">Чтобы преобразовать номера из формата E.164 в формат местного набора, вы можете установить правила преобразования для работы с URI запроса перед его направлением в магистральный узел.</span><span class="sxs-lookup"><span data-stu-id="9409c-108">To translate numbers from E.164 format to a local dialing format, you can define one or more translation rules to manipulate the request URI before you route it to the trunk peer.</span></span> <span data-ttu-id="9409c-109">Например, можно написать правило преобразования, чтобы заменить +44 в начале строки набора на 0144.</span><span class="sxs-lookup"><span data-stu-id="9409c-109">For example, you could write a translation rule to remove +44 from the beginning of a dial string and replace it with 0144.</span></span>

<span data-ttu-id="9409c-110">Выполняя преобразование исходящего маршрута на сервере, вы можете снизить требования конфигурации в каждом отдельном магистральном узле для трансляции телефонных номеров в формат местного набора.</span><span class="sxs-lookup"><span data-stu-id="9409c-110">By performing outbound route translation on the server, you can reduce the configuration requirements on each individual trunk peer in order to translate phone numbers into a local dialing format.</span></span> <span data-ttu-id="9409c-111">При планировании выбора шлюзов и количества шлюзов, связанных с определенным кластером серверов обновлений, может быть полезно сгруппировать одноранговые узлы с использованием одинаковых местных требований для набора номера.</span><span class="sxs-lookup"><span data-stu-id="9409c-111">When you plan which gateways, and how many gateways, to associate with a specific Mediation Server cluster, it may be useful to group trunk peers with similar local dialing requirements.</span></span> <span data-ttu-id="9409c-112">Это позволяет сократить количество необходимых правил преобразования и сэкономить время, затрачиваемое на их создание.</span><span class="sxs-lookup"><span data-stu-id="9409c-112">This can reduce the number of required translation rules and the time it takes to write them.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9409c-113">Связывание одного или нескольких правил трансляции с конфигурацией магистрали корпоративной голосовой связи следует использовать в качестве альтернативы настройке правил перевода на магистральном одноранговом узле.</span><span class="sxs-lookup"><span data-stu-id="9409c-113">Associating one or more translation rules with an Enterprise Voice trunk configuration should be used as an alternative to configuring translation rules on the trunk peer.</span></span> <span data-ttu-id="9409c-114">Не применяйте правила перевода с конфигурацией корпоративной магистрали, если вы настроили правила трансляции для однорангового канала, так как эти правила могут конфликтовать.</span><span class="sxs-lookup"><span data-stu-id="9409c-114">Do not associate translation rules with an Enterprise Voice trunk configuration if you have configured translation rules on the trunk peer, because the two rules might conflict.</span></span>

## <a name="example-translation-rules"></a><span data-ttu-id="9409c-115">Примеры правил преобразования</span><span class="sxs-lookup"><span data-stu-id="9409c-115">Example Translation Rules</span></span>

<span data-ttu-id="9409c-116">Следующие примеры правил преобразования показывают, как можно разрабатывать правила на сервере для преобразования номеров из формата E.164 в местный формат для магистрального узла.</span><span class="sxs-lookup"><span data-stu-id="9409c-116">The following examples of translation rules show how you can develop rules on the server to translate numbers from E.164 format to a local format for the trunk peer.</span></span>

<span data-ttu-id="9409c-117">Более подробно о порядке применения правил преобразования см. в разделе [Defining Translation Rules](https://technet.microsoft.com/library/4f6b975a-77e6-474c-9171-b139d84138c2.aspx) в документации по развертыванию</span><span class="sxs-lookup"><span data-stu-id="9409c-117">For details about how to implement translation rules, see [Defining Translation Rules](https://technet.microsoft.com/library/4f6b975a-77e6-474c-9171-b139d84138c2.aspx) in the Deployment documentation.</span></span>

|<span data-ttu-id="9409c-118">**Описание**</span><span class="sxs-lookup"><span data-stu-id="9409c-118">**Description**</span></span>|<span data-ttu-id="9409c-119">**Цифры в начале**</span><span class="sxs-lookup"><span data-stu-id="9409c-119">**Starting Digits**</span></span>|<span data-ttu-id="9409c-120">**Длина**</span><span class="sxs-lookup"><span data-stu-id="9409c-120">**Length**</span></span>|<span data-ttu-id="9409c-121">**Цифры для удаления**</span><span class="sxs-lookup"><span data-stu-id="9409c-121">**Digits to Remove**</span></span>|<span data-ttu-id="9409c-122">**Цифры для добавления**</span><span class="sxs-lookup"><span data-stu-id="9409c-122">**Digits to Add**</span></span>|<span data-ttu-id="9409c-123">**Шаблон сопоставления**</span><span class="sxs-lookup"><span data-stu-id="9409c-123">**Matching Pattern**</span></span>|<span data-ttu-id="9409c-124">**Преобразование**</span><span class="sxs-lookup"><span data-stu-id="9409c-124">**Translation**</span></span>|<span data-ttu-id="9409c-125">**Пример**</span><span class="sxs-lookup"><span data-stu-id="9409c-125">**Example**</span></span>|
|:-----|:-----|:-----|:-----|:-----|:-----|:-----|:-----|
|<span data-ttu-id="9409c-126">Обычный междугородний звонок в США</span><span class="sxs-lookup"><span data-stu-id="9409c-126">Conventional long-distance dialing in U.S.</span></span>  <br/> <span data-ttu-id="9409c-127">(чередование "+")</span><span class="sxs-lookup"><span data-stu-id="9409c-127">(strip out the '+')</span></span>  <br/> |<span data-ttu-id="9409c-128">+1</span><span class="sxs-lookup"><span data-stu-id="9409c-128">+1</span></span>  <br/> |<span data-ttu-id="9409c-129">Ровно 12</span><span class="sxs-lookup"><span data-stu-id="9409c-129">Exactly 12</span></span>  <br/> |<span data-ttu-id="9409c-130">1</span><span class="sxs-lookup"><span data-stu-id="9409c-130">1</span></span>  <br/> |<span data-ttu-id="9409c-131">до</span><span class="sxs-lookup"><span data-stu-id="9409c-131">0</span></span>  <br/> |<span data-ttu-id="9409c-132">^\+(1 \ d{10}) $</span><span class="sxs-lookup"><span data-stu-id="9409c-132">^\+(1\d{10})$</span></span>  <br/> |<span data-ttu-id="9409c-133">$1</span><span class="sxs-lookup"><span data-stu-id="9409c-133">$1</span></span>  <br/> |<span data-ttu-id="9409c-134">+14255551010 преобразуется в 14255551010</span><span class="sxs-lookup"><span data-stu-id="9409c-134">+14255551010 becomes 14255551010</span></span>  <br/> |
|<span data-ttu-id="9409c-135">Международный звонок из США</span><span class="sxs-lookup"><span data-stu-id="9409c-135">U.S. international long-distance dialing</span></span>  <br/> <span data-ttu-id="9409c-136">(чередование "+" и добавление 011)</span><span class="sxs-lookup"><span data-stu-id="9409c-136">(strip out '+' and add 011)</span></span>  <br/> |+  <br/> |<span data-ttu-id="9409c-137">Не менее 11</span><span class="sxs-lookup"><span data-stu-id="9409c-137">At least 11</span></span>  <br/> |<span data-ttu-id="9409c-138">1</span><span class="sxs-lookup"><span data-stu-id="9409c-138">1</span></span>  <br/> |<span data-ttu-id="9409c-139">011</span><span class="sxs-lookup"><span data-stu-id="9409c-139">011</span></span>  <br/> |<span data-ttu-id="9409c-140">^\+(\d{9}\d +) $</span><span class="sxs-lookup"><span data-stu-id="9409c-140">^\+(\d{9}\d+)$</span></span>  <br/> |<span data-ttu-id="9409c-141">011$1</span><span class="sxs-lookup"><span data-stu-id="9409c-141">011$1</span></span>  <br/> |<span data-ttu-id="9409c-142">+441235551010 преобразуется в 011441235551010</span><span class="sxs-lookup"><span data-stu-id="9409c-142">+441235551010 becomes 011441235551010</span></span>  <br/> |


