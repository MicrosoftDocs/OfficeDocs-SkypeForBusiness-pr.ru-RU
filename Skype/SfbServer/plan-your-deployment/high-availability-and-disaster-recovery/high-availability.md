---
title: Высокая доступность и управление пулом переднего уровня
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: 965041b7-3136-49f2-89c1-8b30417cb8ea
description: Learn about Front End pool management in Skype for Business Server, including managing pools, quorum loss, and special steps for pools with only two Front End Servers.
ms.openlocfilehash: 3f1924b7a8ad26b880f8674ada4f0c99a1bc4596
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/12/2021
ms.locfileid: "49802799"
---
# <a name="front-end-pool-high-availability-and-management"></a><span data-ttu-id="d2441-103">Высокая доступность и управление пулом переднего уровня</span><span class="sxs-lookup"><span data-stu-id="d2441-103">Front End Pool high availability and management</span></span>
 
<span data-ttu-id="d2441-104">Learn about Front End pool management in Skype for Business Server, including managing pools, quorum loss, and special steps for pools with only two Front End Servers.</span><span class="sxs-lookup"><span data-stu-id="d2441-104">Learn about Front End pool management in Skype for Business Server, including managing pools, quorum loss, and special steps for pools with only two Front End Servers.</span></span>
  
<span data-ttu-id="d2441-105">В Skype для бизнеса Server архитектура интерфейсных пулов использует модель распределенных систем, при этом данные каждого пользователя хранятся на до трех серверах переднего интерфейса в пуле.</span><span class="sxs-lookup"><span data-stu-id="d2441-105">In Skype for Business Server, the architecture of Front End pools uses a distributed systems model, with each user's data kept on as many as three Front End Servers in the pool.</span></span> <span data-ttu-id="d2441-106">Рекомендуется, чтобы все пулы переднего сервера Enterprise Edition включали по крайней мере три сервера переднего сервера.</span><span class="sxs-lookup"><span data-stu-id="d2441-106">We recommend that all your Enterprise Edition Front End pools include at least three Front End Servers.</span></span>

> [!NOTE]
> <span data-ttu-id="d2441-107">Skype для бизнеса Server 2019 не поддерживает пулы переднего сервера Enterprise Edition с двумя серверами переднего сервера и не позволит публиковать топологию в этом сценарии.</span><span class="sxs-lookup"><span data-stu-id="d2441-107">Skype for Business Server 2019 does not support Enterprise Edition Front End pools with two Front End Servers, and will not allow the topology to be published in that scenario.</span></span>
  
## <a name="planning-for-the-management-of-front-end-pools"></a><span data-ttu-id="d2441-108">Планирование управления пулами переднего плана</span><span class="sxs-lookup"><span data-stu-id="d2441-108">Planning for the management of Front End pools</span></span>

 <span data-ttu-id="d2441-109">Skype для бизнеса Server использует модель распределенных систем на основе Windows Fabric.</span><span class="sxs-lookup"><span data-stu-id="d2441-109">Skype for Business Server uses a distributed systems model based on Windows Fabric.</span></span> <span data-ttu-id="d2441-110">В этой модели важные данные для каждого пользователя и конференции хранятся на трех серверах переднего интерфейса в интерфейсном пуле.</span><span class="sxs-lookup"><span data-stu-id="d2441-110">In this model, important data for each user and conference is stored on three Front End Servers in a Front End pool.</span></span> <span data-ttu-id="d2441-111">Эти три сервера, на которые хранятся определенные данные, называютсяreplicas.</span><span class="sxs-lookup"><span data-stu-id="d2441-111">These three servers storing a certain set of data are calledreplicas.</span></span>
  
<span data-ttu-id="d2441-112">При распределенной модели для пулов переднего сервера для функционирования пула должно быть запущено определенное количество серверов пула.</span><span class="sxs-lookup"><span data-stu-id="d2441-112">With the distributed model for Front End pools, a certain numbers of a pool's servers must be running for the pool to function.</span></span> <span data-ttu-id="d2441-113">Существует два режима потерь для пула.</span><span class="sxs-lookup"><span data-stu-id="d2441-113">There are two loss modes for a pool.</span></span>
  
- <span data-ttu-id="d2441-114">Потеря кворума на уровне группы маршрутов, вызванная недостаточном количеством серверов реплик для определенной группы маршрутов.</span><span class="sxs-lookup"><span data-stu-id="d2441-114">Routing Group Level quorum loss, caused by not enough replica servers for a particular routing group.</span></span> <span data-ttu-id="d2441-115">Группа маршрутов — это набор пользователей, которые были в пуле.</span><span class="sxs-lookup"><span data-stu-id="d2441-115">A routing group is a set of users homed in the pool.</span></span> <span data-ttu-id="d2441-116">Каждая группа маршрутов имеет три реплики в пуле: одну первичную и две вторичные реплики.</span><span class="sxs-lookup"><span data-stu-id="d2441-116">Each routing group has three replicas in the pool: one primary replica and two secondary replicas.</span></span>
    
- <span data-ttu-id="d2441-117">Потеря кворума на уровне пула, вызванная недостаточной количеством серверов для запуска в пуле.</span><span class="sxs-lookup"><span data-stu-id="d2441-117">Pool Level quorum loss, caused when not enough seed servers are running in the pool.</span></span> 
    
### <a name="routing-group-level-quorum-loss"></a><span data-ttu-id="d2441-118">Потеря кворума на уровне группы маршрутов</span><span class="sxs-lookup"><span data-stu-id="d2441-118">Routing Group Level quorum loss</span></span>

<span data-ttu-id="d2441-119">При первом запуске нового пула переднего сервера важно, чтобы 85% серверов были запущены и запущены, как показано в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="d2441-119">The first time you start a new Front End pool, it is essential that 85% of the servers are up and running, as shown in the following table.</span></span> <span data-ttu-id="d2441-120">Если запущено меньше серверов, службы могут зависнуть в начальном состоянии, а пул может не запуститься.</span><span class="sxs-lookup"><span data-stu-id="d2441-120">If fewer servers are running, the services might be stuck in the starting state and the pool might not start.</span></span>
  
|<span data-ttu-id="d2441-121">Общее количество серверов в пуле</span><span class="sxs-lookup"><span data-stu-id="d2441-121">Total number of servers in the pool</span></span>  <br/> |<span data-ttu-id="d2441-122">Количество серверов, которые должны быть запущены для первого запуска пула</span><span class="sxs-lookup"><span data-stu-id="d2441-122">Number of servers that must be running for the pool to be started the first time</span></span>  <br/> |
|:-----|:-----|
|<span data-ttu-id="d2441-123">2 </span><span class="sxs-lookup"><span data-stu-id="d2441-123">2</span></span>  <br/> |<span data-ttu-id="d2441-124">1 </span><span class="sxs-lookup"><span data-stu-id="d2441-124">1</span></span>  <br/> |
|<span data-ttu-id="d2441-125">3 </span><span class="sxs-lookup"><span data-stu-id="d2441-125">3</span></span>  <br/> |<span data-ttu-id="d2441-126">3 </span><span class="sxs-lookup"><span data-stu-id="d2441-126">3</span></span>  <br/> |
|<span data-ttu-id="d2441-127">4 </span><span class="sxs-lookup"><span data-stu-id="d2441-127">4</span></span>  <br/> |<span data-ttu-id="d2441-128">3 </span><span class="sxs-lookup"><span data-stu-id="d2441-128">3</span></span>  <br/> |
|<span data-ttu-id="d2441-129">5 </span><span class="sxs-lookup"><span data-stu-id="d2441-129">5</span></span>  <br/> |<span data-ttu-id="d2441-130">4 </span><span class="sxs-lookup"><span data-stu-id="d2441-130">4</span></span>  <br/> |
|<span data-ttu-id="d2441-131">6 </span><span class="sxs-lookup"><span data-stu-id="d2441-131">6</span></span>  <br/> |<span data-ttu-id="d2441-132">5 </span><span class="sxs-lookup"><span data-stu-id="d2441-132">5</span></span>  <br/> |
|<span data-ttu-id="d2441-133">7 </span><span class="sxs-lookup"><span data-stu-id="d2441-133">7</span></span>  <br/> |<span data-ttu-id="d2441-134">5 </span><span class="sxs-lookup"><span data-stu-id="d2441-134">5</span></span>  <br/> |
|<span data-ttu-id="d2441-135">8 </span><span class="sxs-lookup"><span data-stu-id="d2441-135">8</span></span>  <br/> |<span data-ttu-id="d2441-136">6 </span><span class="sxs-lookup"><span data-stu-id="d2441-136">6</span></span>  <br/> |
|<span data-ttu-id="d2441-137">9 </span><span class="sxs-lookup"><span data-stu-id="d2441-137">9</span></span>  <br/> |<span data-ttu-id="d2441-138">7 </span><span class="sxs-lookup"><span data-stu-id="d2441-138">7</span></span>  <br/> |
|<span data-ttu-id="d2441-139">10 </span><span class="sxs-lookup"><span data-stu-id="d2441-139">10</span></span>  <br/> |<span data-ttu-id="d2441-140">8 </span><span class="sxs-lookup"><span data-stu-id="d2441-140">8</span></span>  <br/> |
|<span data-ttu-id="d2441-141">11 </span><span class="sxs-lookup"><span data-stu-id="d2441-141">11</span></span>  <br/> |<span data-ttu-id="d2441-142">9 </span><span class="sxs-lookup"><span data-stu-id="d2441-142">9</span></span>  <br/> |
|<span data-ttu-id="d2441-143">12 </span><span class="sxs-lookup"><span data-stu-id="d2441-143">12</span></span>  <br/> |<span data-ttu-id="d2441-144">10 </span><span class="sxs-lookup"><span data-stu-id="d2441-144">10</span></span>  <br/> |
|<span data-ttu-id="d2441-145">16 **Для Skype для бизнеса Server 2019**</span><span class="sxs-lookup"><span data-stu-id="d2441-145">16 **For Skype for Business Server 2019**</span></span> <br/> |<span data-ttu-id="d2441-146">12 </span><span class="sxs-lookup"><span data-stu-id="d2441-146">12</span></span>  <br/> |


   
<span data-ttu-id="d2441-147">При каждом последующем запущении пула должно быть запущено 85 % серверов (как показано в предыдущей таблице).</span><span class="sxs-lookup"><span data-stu-id="d2441-147">Every subsequent time the pool is started, 85% of the servers should be started (as shown in the preceding table).</span></span> <span data-ttu-id="d2441-148">Если это количество серверов не может быть запущено (но достаточно серверов может быть запущено таким образом, чтобы вы не утерили кворум на уровне пула), можно использовать его, чтобы позволить пулу восстановиться после этой потери кворума на уровне группы маршрутинга и добиться хода  `Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery` выполнения.</span><span class="sxs-lookup"><span data-stu-id="d2441-148">If this number of servers cannot be started (but enough servers can be started so that you are not at pool-level quorum loss), you can use the  `Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery` cmdlet to enable the pool to recover from this routing group level quorum loss and make progress.</span></span> <span data-ttu-id="d2441-149">Дополнительные сведения об использовании этого cmdlet см. в [reset-CsPoolRegistrarState.](https://docs.microsoft.com/powershell/module/skype/reset-cspoolregistrarstate?view=skype-ps)</span><span class="sxs-lookup"><span data-stu-id="d2441-149">For more information about how to use this cmdlet, see [Reset-CsPoolRegistrarState](https://docs.microsoft.com/powershell/module/skype/reset-cspoolregistrarstate?view=skype-ps).</span></span> 
  
> [!NOTE]
> <span data-ttu-id="d2441-150">В пулах с ряду серверов Skype для бизнеса Server использует основную SQL в качестве свидетеля.</span><span class="sxs-lookup"><span data-stu-id="d2441-150">In pools with an even number of servers, Skype for Business Server uses the Primary SQL database as Witness.</span></span> <span data-ttu-id="d2441-151">В подобном пуле при завершении работы основной базы данных и переключении на зеркальную копию и выключении достаточного количества серверов переднего сервера, чтобы недостаточно было запущено в соответствии с предыдущей таблицей, весь пул будет отключен.</span><span class="sxs-lookup"><span data-stu-id="d2441-151">In a pool like this, if you shut down the primary database and switch to the Mirror copy, and shut down enough Front End servers so that not enough are running according to the preceding table, the entire pool will go down.</span></span> <span data-ttu-id="d2441-152">Дополнительные сведения см. в [свидетеле зеркального зеркального отражания базы данных.](https://go.microsoft.com/fwlink/?LinkId=393672)</span><span class="sxs-lookup"><span data-stu-id="d2441-152">For more information, see [Database Mirroring Witness](https://go.microsoft.com/fwlink/?LinkId=393672).</span></span> 
  
#### <a name="pool-level-quorum-loss"></a><span data-ttu-id="d2441-153">Потеря кворума на уровне пула</span><span class="sxs-lookup"><span data-stu-id="d2441-153">Pool-level quorum loss</span></span>

<span data-ttu-id="d2441-154">Чтобы пул переднего уровня функционировал вообще, он не может быть в потере кворума на уровне пула.</span><span class="sxs-lookup"><span data-stu-id="d2441-154">For a Front End pool to function at all, it cannot be in pool-level quorum loss.</span></span> <span data-ttu-id="d2441-155">Если число работающих серверов меньше функционального уровня, как показано в следующей таблице, оставшиеся серверы в пуле остановят все службы Skype для бизнеса Server.</span><span class="sxs-lookup"><span data-stu-id="d2441-155">If the number of servers running falls below the functional level as shown in the following table, the remaining servers in the pool will stop all Skype for Business Server services.</span></span> <span data-ttu-id="d2441-156">Обратите внимание, что номера в следующей таблице предполагают, что серверы в пуле запущены.</span><span class="sxs-lookup"><span data-stu-id="d2441-156">Note that the numbers in the following table assume that the Back End Servers in the pool are running.</span></span>
  
|<span data-ttu-id="d2441-157">Общее число серверов переднего плана в пуле</span><span class="sxs-lookup"><span data-stu-id="d2441-157">Total number of Front End Servers in the pool</span></span>  <br/> |<span data-ttu-id="d2441-158">Число работающих серверов, требуемое для правильного функционирования пула</span><span class="sxs-lookup"><span data-stu-id="d2441-158">Number of servers that must be running for pool to be functional</span></span>  <br/> |
|:-----|:-----|
|<span data-ttu-id="d2441-159">2 </span><span class="sxs-lookup"><span data-stu-id="d2441-159">2</span></span>  <br/> |<span data-ttu-id="d2441-160">1 </span><span class="sxs-lookup"><span data-stu-id="d2441-160">1</span></span>  <br/> |
|<span data-ttu-id="d2441-161">3-4</span><span class="sxs-lookup"><span data-stu-id="d2441-161">3-4</span></span>  <br/> |<span data-ttu-id="d2441-162">Любое 2</span><span class="sxs-lookup"><span data-stu-id="d2441-162">Any 2</span></span>  <br/> |
|<span data-ttu-id="d2441-163">5-6</span><span class="sxs-lookup"><span data-stu-id="d2441-163">5-6</span></span>  <br/> |<span data-ttu-id="d2441-164">Любые 3</span><span class="sxs-lookup"><span data-stu-id="d2441-164">Any 3</span></span>  <br/> |
|<span data-ttu-id="d2441-165">7 </span><span class="sxs-lookup"><span data-stu-id="d2441-165">7</span></span>  <br/> |<span data-ttu-id="d2441-166">Любое 4</span><span class="sxs-lookup"><span data-stu-id="d2441-166">Any 4</span></span>  <br/> |
|<span data-ttu-id="d2441-167">8-9</span><span class="sxs-lookup"><span data-stu-id="d2441-167">8-9</span></span>  <br/> |<span data-ttu-id="d2441-168">Все 4 из первых 7 серверов</span><span class="sxs-lookup"><span data-stu-id="d2441-168">Any 4 of the first 7 servers</span></span>  <br/> |
|<span data-ttu-id="d2441-169">10-12</span><span class="sxs-lookup"><span data-stu-id="d2441-169">10-12</span></span>  <br/> |<span data-ttu-id="d2441-170">Все 5 из первых 9 серверов</span><span class="sxs-lookup"><span data-stu-id="d2441-170">Any 5 of the first 9 servers</span></span>  <br/> |
|<span data-ttu-id="d2441-171">12-16  **Для Skype для бизнеса Server 2019**</span><span class="sxs-lookup"><span data-stu-id="d2441-171">12-16  **For Skype for Business Server 2019**</span></span>  <br/> |<span data-ttu-id="d2441-172">Все 7 из первых 12 серверов</span><span class="sxs-lookup"><span data-stu-id="d2441-172">Any 7 of the first 12 servers</span></span>  <br/> |
   
<span data-ttu-id="d2441-173">В предыдущей таблице "первые серверы" — это серверы, которые были первыми в хронологическом порядке, когда пул был запущен в первый раз.</span><span class="sxs-lookup"><span data-stu-id="d2441-173">In the preceding table, the "first servers" are the servers which were brought up first, chronologically, when the pool was started for the first time.</span></span> <span data-ttu-id="d2441-174">Чтобы определить эти серверы, можно использовать этот параметр с  `Get-CsComputer` помощью этого `-PoolFqdn` параметра.</span><span class="sxs-lookup"><span data-stu-id="d2441-174">To determine these servers, you can use the  `Get-CsComputer` cmdlet with the `-PoolFqdn` option.</span></span> <span data-ttu-id="d2441-175">Этот cmdlet будет отображать серверы в том порядке, в который они отображаются в топологии, а серверы в верхней части списка являются первыми серверами.</span><span class="sxs-lookup"><span data-stu-id="d2441-175">This cmdlet will show the servers in the order that they appear in the topology, and the ones at the top of the list are the first servers.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="d2441-176">Максимальное число серверов переднего сервера в Skype для бизнеса [Server 2019](https://docs.microsoft.com/skypeforbusiness/plan/user-model-2019) увеличено до 16</span><span class="sxs-lookup"><span data-stu-id="d2441-176">The maximum number of front end servers has been increased to 16 in [Skype for Business Server 2019](https://docs.microsoft.com/skypeforbusiness/plan/user-model-2019)</span></span>
> 
#### <a name="additional-steps-to-ensure-pools-are-functional"></a><span data-ttu-id="d2441-177">Дополнительные действия для обеспечения функциональности пулов</span><span class="sxs-lookup"><span data-stu-id="d2441-177">Additional steps to ensure pools are functional</span></span>

<span data-ttu-id="d2441-178">Следует следить за несколькими другими факторами, чтобы убедиться, что пулы переднего ряда остаются функциональными.</span><span class="sxs-lookup"><span data-stu-id="d2441-178">You should watch for a couple of other factors to ensure that your Front End pools remain functional.</span></span>
  
- <span data-ttu-id="d2441-179">При первом перемещении пользователей в пул обязательно убедитесь, что запущено не менее трех серверов переднего плана.</span><span class="sxs-lookup"><span data-stu-id="d2441-179">When you move users to the pool for the first time, be sure at least three of the Front End Servers are running.</span></span>
    
- <span data-ttu-id="d2441-180">Если вы устанавливаете отношение сопряжения между этим пулом и другим пулом в целях аварийного восстановления, то после установления этой связи необходимо убедиться, что в этом пуле одновременно работают три сервера переднего сервера для правильной синхронизации данных с резервным пулом.</span><span class="sxs-lookup"><span data-stu-id="d2441-180">If you establish a pairing relationship between this pool and another pool for disaster recovery purposes, then after establishing that relationship you must be sure this pool has three Front End servers running simultaneously at some time to properly synchronize data with the backup pool.</span></span> <span data-ttu-id="d2441-181">Дополнительные сведения о сопряжении пулов и аварийном восстановлении см. в плане высокой доступности и аварийного [восстановления в Skype для бизнеса Server.](high-availability-and-disaster-recovery.md)</span><span class="sxs-lookup"><span data-stu-id="d2441-181">For more information on pool pairing and disaster recovery features, see [Plan for high availability and disaster recovery in Skype for Business Server](high-availability-and-disaster-recovery.md).</span></span> 
    
## <a name="front-end-pool-with-two-front-end-servers"></a><span data-ttu-id="d2441-182">Пул переднего сервера с двумя серверами переднего сервера</span><span class="sxs-lookup"><span data-stu-id="d2441-182">Front End pool with two Front End servers</span></span>

<span data-ttu-id="d2441-183">Мы не рекомендуем развертывать интерфейсный пул, содержащий всего два сервера переднего плана.</span><span class="sxs-lookup"><span data-stu-id="d2441-183">We do not recommend deploying a Front End pool that contains only two Front End Servers.</span></span> <span data-ttu-id="d2441-184">Этот небольшой пул не будет предоставлять надежное решение с высоким уровнем доступности, как при большом пуле, и требует дополнительной помощи в управлении.</span><span class="sxs-lookup"><span data-stu-id="d2441-184">This small pool will not provide a robust high-availability solution like a larger pool would, and needs extra care in managing.</span></span> <span data-ttu-id="d2441-185">Кроме того, если бы тыловой сервер пула из двух серверов был сбит, скорее всего, весь пул тоже скоро тоже по ухумел.</span><span class="sxs-lookup"><span data-stu-id="d2441-185">Additionally, if the Back End Server of a two-server pool went down, the whole pool itself would likely soon go down as well.</span></span> <span data-ttu-id="d2441-186">Если вы хотите развернуть только один или два сервера со Skype для бизнеса Server, рекомендуется развернуть их как серверы Standard Edition.</span><span class="sxs-lookup"><span data-stu-id="d2441-186">If you want to deploy just one or two servers running Skype for Business Server, we recommend you deploy them as Standard Edition servers.</span></span>
  
<span data-ttu-id="d2441-187">Если вам когда-либо потребуется развернуть пул с двумя серверами переднего сервера, следуйте следующим рекомендациям:</span><span class="sxs-lookup"><span data-stu-id="d2441-187">If you do ever need to deploy a pool with two Front End Servers, follow these guidelines:</span></span>
  
- <span data-ttu-id="d2441-p112">В случае сбоя одного из двух этих серверов переднего плана вам следует как можно быстрее восстановить его работоспособность. Аналогичным образом, в случае обновления одного из двух серверов его также необходимо вернуть в рабочее состояние как можно быстрее.</span><span class="sxs-lookup"><span data-stu-id="d2441-p112">If one of the two Front End Servers goes down, you should try to bring the failed server back up as soon as you can. Similarly, if you need to upgrade one of the two servers, bring it back online as soon as the upgrade is finished.</span></span>
    
- <span data-ttu-id="d2441-190">Если по какой-либо причине требуется отключить оба сервера одновременно, после окончания простоя пула выполните следующие действия:</span><span class="sxs-lookup"><span data-stu-id="d2441-190">If for some reason you need to bring both servers down at the same time, do the following when the downtime for the pool is finished:</span></span>
    
  - <span data-ttu-id="d2441-191">Лучше всего перезапустить оба сервера переднего сервера одновременно.</span><span class="sxs-lookup"><span data-stu-id="d2441-191">The best practice is to restart both Front End Servers at the same time.</span></span> 
    
  - <span data-ttu-id="d2441-192">Если это невозможно, следует включать их в порядке, обратном порядку их отключения.</span><span class="sxs-lookup"><span data-stu-id="d2441-192">If the two servers cannot be restarted at the same time, you should bring them back up in the reverse order of the order they went down.</span></span>
    
  - <span data-ttu-id="d2441-193">Если вы не можете вернуть их в этом порядке, используйте следующий cmdlet перед тем, как сделать резервную резервную порядок пула:  `Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery -PoolFQDN <FQDN>`</span><span class="sxs-lookup"><span data-stu-id="d2441-193">If you cannot bring them back up in that order, then use the following cmdlet before bringing the pool back up:  `Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery -PoolFQDN <FQDN>`</span></span>
    
## <a name="front-end-pool-configuration-failures-and-changes"></a><span data-ttu-id="d2441-194">Сбои и изменения конфигурации пула переднего конца</span><span class="sxs-lookup"><span data-stu-id="d2441-194">Front End pool configuration failures and changes</span></span>

<span data-ttu-id="d2441-195">Если сервер переднего сервера не удается заменить в течение нескольких дней или более, удалите сервер из топологии.</span><span class="sxs-lookup"><span data-stu-id="d2441-195">If a Front End server fails and is unlikely to be replaced for a few days or more, remove the server from the topology.</span></span> <span data-ttu-id="d2441-196">Добавьте новый сервер переднего сервера в топологию, когда он снова будет доступен.</span><span class="sxs-lookup"><span data-stu-id="d2441-196">Add the new Front End server to the topology when it is available again.</span></span>
  
<span data-ttu-id="d2441-197">При изменении конфигурации пула переднего сервера, например при добавлении или удалении серверов, необходимо следовать следующим рекомендациям:</span><span class="sxs-lookup"><span data-stu-id="d2441-197">Whenever you make a configuration change to a Front End pool, such as adding or removing servers, you must follow these guidelines:</span></span>
  
- <span data-ttu-id="d2441-198">После публикации новой топологии необходимо перезапустить каждый сервер переднего сервера в пуле.</span><span class="sxs-lookup"><span data-stu-id="d2441-198">After the new topology has been published, you must restart each Front End server in the pool.</span></span> <span data-ttu-id="d2441-199">Перезапускайте их по одному.</span><span class="sxs-lookup"><span data-stu-id="d2441-199">Restart them one at a time.</span></span>
    
- <span data-ttu-id="d2441-200">Если во время изменения конфигурации не работает весь пул, после публикации новой топологии запустите следующий cmdlet:  `Reset-CsPoolRegistrarState -PoolFQDN <PoolFQDN> -ResetType ServiceReset`</span><span class="sxs-lookup"><span data-stu-id="d2441-200">If the entire pool has been down during the configuration change, then run the following cmdlet after the new topology is published:  `Reset-CsPoolRegistrarState -PoolFQDN <PoolFQDN> -ResetType ServiceReset`</span></span>
    

