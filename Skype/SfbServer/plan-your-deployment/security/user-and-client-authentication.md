---
title: Проверка подлинности пользователей и клиентов для Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.assetid: 77f4b62a-f75c-424d-8f02-a6519090015d
description: Доверенным пользователем является пользователь, чьи учетные данные были аутентификацией доверенного сервера в Skype для бизнеса Server. Этот сервер обычно является сервером Standard Edition, сервером переднего сервера Enterprise Edition или директором. Skype для бизнеса Server использует доменные службы Active Directory как единый надежный серверный репозиторий учетных данных пользователя.
ms.openlocfilehash: bf0bde8478cd6c4e2eb068ffade7fba7fac14d56
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/12/2021
ms.locfileid: "49832009"
---
# <a name="user-and-client-authentication-for-skype-for-business-server"></a><span data-ttu-id="327e5-105">Проверка подлинности пользователей и клиентов для Skype для бизнеса Server</span><span class="sxs-lookup"><span data-stu-id="327e5-105">User and client authentication for Skype for Business Server</span></span>
 
<span data-ttu-id="327e5-106">Доверенным пользователем является пользователь, чьи учетные данные были аутентификацией доверенного сервера в Skype для бизнеса Server.</span><span class="sxs-lookup"><span data-stu-id="327e5-106">A trusted user is one whose credentials have been authenticated by a trusted server in Skype for Business Server.</span></span> <span data-ttu-id="327e5-107">Этот сервер обычно является сервером Standard Edition, сервером переднего сервера Enterprise Edition или директором.</span><span class="sxs-lookup"><span data-stu-id="327e5-107">This server is usually a Standard Edition server, Enterprise Edition Front End Server, or Director.</span></span> <span data-ttu-id="327e5-108">Skype для бизнеса Server использует доменные службы Active Directory как единый надежный серверный репозиторий учетных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="327e5-108">Skype for Business Server relies on Active Directory Domain Services as the single, trusted back-end repository of user credentials.</span></span>
  
<span data-ttu-id="327e5-109">Проверка подлинности — это предоставление учетных данных пользователя надежному серверу.</span><span class="sxs-lookup"><span data-stu-id="327e5-109">Authentication is the provision of user credentials to a trusted server.</span></span> <span data-ttu-id="327e5-110">Skype для бизнеса Server использует следующие протоколы проверки подлинности в зависимости от состояния и расположения пользователя.</span><span class="sxs-lookup"><span data-stu-id="327e5-110">Skype for Business Server uses the following authentication protocols, depending on the status and location of the user.</span></span>
  
- <span data-ttu-id="327e5-111">**Протокол безопасности MIT Kerberos версии 5** для внутренних пользователей с учетными данными Active Directory.</span><span class="sxs-lookup"><span data-stu-id="327e5-111">**MIT Kerberos version 5 security protocol** for internal users with Active Directory credentials.</span></span> <span data-ttu-id="327e5-112">Kerberos требует подключения клиента к доменным службам Active Directory, поэтому его нельзя использовать для проверки подлинности клиентов за пределами корпоративного брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="327e5-112">Kerberos requires client connectivity to Active Directory Domain Services, which is why it cannot be used for authenticating clients outside the corporate firewall.</span></span>
    
- <span data-ttu-id="327e5-113">**Протокол NTLM для** пользователей с учетными данными Active Directory, которые подключаются из конечной точки за пределами корпоративного брандмауэра.</span><span class="sxs-lookup"><span data-stu-id="327e5-113">**NTLM protocol** for users with Active Directory credentials who are connecting from an endpoint outside the corporate firewall.</span></span> <span data-ttu-id="327e5-114">По краям доступа запросы на вход в службу передается директору ,если он присутствует, или серверу переднего сервера для проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="327e5-114">The Access Edge service passes logon requests to a Director, if present, or a Front End Server for authentication.</span></span> <span data-ttu-id="327e5-115">Сама служба доступа не выполняет проверку подлинности.</span><span class="sxs-lookup"><span data-stu-id="327e5-115">The Access Edge service itself performs no authentication.</span></span>
    
    > [!NOTE]
    > <span data-ttu-id="327e5-116">Протокол NTLM обеспечивает более слабую защиту от атак, чем Kerberos, поэтому некоторые организации свести к минимуму использование NTLM.</span><span class="sxs-lookup"><span data-stu-id="327e5-116">NTLM protocol offers weaker attack protection than Kerberos, so some organizations minimize usage of NTLM.</span></span> <span data-ttu-id="327e5-117">В результате доступ к Skype для бизнеса Server может быть ограничен внутренними клиентами или клиентами, подключенными через ПОДКЛЮЧЕНИЕ VPN или DirectAccess.</span><span class="sxs-lookup"><span data-stu-id="327e5-117">As a result, access to Skype for Business Server might be restricted to internal or clients connected through a VPN or DirectAccess connection.</span></span> 
  
- <span data-ttu-id="327e5-118">**Дайджест-протокол** для так называемых анонимных пользователей.</span><span class="sxs-lookup"><span data-stu-id="327e5-118">**Digest protocol** for so-called anonymous users.</span></span> <span data-ttu-id="327e5-119">Анонимные пользователи — это внешние пользователи, которые не имеют распознанных учетных данных Active Directory, но были приглашены на локальное конференцию и обладают действительным ключом конференции.</span><span class="sxs-lookup"><span data-stu-id="327e5-119">Anonymous users are outside users who do not have recognized Active Directory credentials but who have been invited to an on-premises conference and possess a valid conference key.</span></span> <span data-ttu-id="327e5-120">Дайджест-проверка подлинности не используется для других взаимодействий с клиентом.</span><span class="sxs-lookup"><span data-stu-id="327e5-120">Digest authentication is not used for other client interactions.</span></span>
    
<span data-ttu-id="327e5-121">Проверка подлинности Skype для бизнеса Server состоит из двух этапов:</span><span class="sxs-lookup"><span data-stu-id="327e5-121">Skype for Business Server authentication consists of two phases:</span></span>
  
1. <span data-ttu-id="327e5-122">Между клиентом и сервером устанавливается связь безопасности.</span><span class="sxs-lookup"><span data-stu-id="327e5-122">A security association is established between the client and the server.</span></span>
    
2. <span data-ttu-id="327e5-123">Клиент и сервер используют существующую связь безопасности для подписи отправляемого сообщения и проверки получаемого сообщения.</span><span class="sxs-lookup"><span data-stu-id="327e5-123">The client and server use the existing security association to sign messages that they send and to verify the messages they receive.</span></span> <span data-ttu-id="327e5-124">Сообщения без проверки подлинности от клиента не принимаются, если на сервере включена проверка подлинности.</span><span class="sxs-lookup"><span data-stu-id="327e5-124">Unauthenticated messages from a client are not accepted when authentication is enabled on the server.</span></span>
    
<span data-ttu-id="327e5-125">Доверие пользователей присоединяется к каждому сообщению, которое исходит от пользователя, а не к самому удостоверению пользователя.</span><span class="sxs-lookup"><span data-stu-id="327e5-125">User trust is attached to each message that originates from a user, not to the user identity itself.</span></span> <span data-ttu-id="327e5-126">Сервер проверяет каждое сообщение на наличие действительных учетных данных пользователя.</span><span class="sxs-lookup"><span data-stu-id="327e5-126">The server checks each message for valid user credentials.</span></span> <span data-ttu-id="327e5-127">Если учетные данные пользователя действительны, сообщение не принимается не только первым сервером, который его получит, но и всеми другими серверами в доверенном облаке серверов.</span><span class="sxs-lookup"><span data-stu-id="327e5-127">If the user credentials are valid, the message is unchallenged not only by the first server to receive it but by all other servers in the trusted server cloud.</span></span>
  
<span data-ttu-id="327e5-128">Пользователи с действительными учетными данными, выданными федеративным партнером, являются доверенными, но при желании не могут пользоваться полным диапазоном привилегий, которыми пользуются внутренние пользователи.</span><span class="sxs-lookup"><span data-stu-id="327e5-128">Users with valid credentials issued by a federated partner are trusted but optionally prevented by additional constraints from enjoying the full range of privileges accorded to internal users.</span></span>
  
<span data-ttu-id="327e5-129">Протоколы ICE и TURN также используют задачу Digest, как описано в RFC IETF TURN.</span><span class="sxs-lookup"><span data-stu-id="327e5-129">The ICE and TURN protocols also use the Digest challenge as described in the IETF TURN RFC.</span></span>
  
<span data-ttu-id="327e5-130">Клиентские сертификаты предоставляют альтернативный способ проверки подлинности пользователей в Skype для бизнеса Server.</span><span class="sxs-lookup"><span data-stu-id="327e5-130">Client certificates provide an alternate way for users to be authenticated by Skype for Business Server.</span></span> <span data-ttu-id="327e5-131">Вместо того чтобы предоставлять имя пользователя и пароль, у пользователей есть сертификат и закрытый ключ, соответствующий сертификату, необходимому для решения криптографической задачи.</span><span class="sxs-lookup"><span data-stu-id="327e5-131">Instead of providing a user name and password, users have a certificate and the private key corresponding to the certificate that is required to resolve a cryptographic challenge.</span></span> <span data-ttu-id="327e5-132">(Этот сертификат должен иметь имя субъекта или альтернативное имя субъекта, которое идентифицирует пользователя и должно быть выдано корневым ЦС, которому доверяют серверы Skype для бизнеса Server, должны быть в течение срока действия сертификата и не отозваны.) Для проверки подлинности пользователям необходимо ввести только персональный идентификационный номер (PIN-код).</span><span class="sxs-lookup"><span data-stu-id="327e5-132">(This certificate must have a subject name or subject alternative name that identifies the user and must be issued by a Root CA that is trusted by servers running Skype for Business Server, be within the certificate's validity period, and not have been revoked.) To be authenticated, users only need to type in a personal identification number (PIN).</span></span> <span data-ttu-id="327e5-133">Сертификаты особенно полезны для телефонов, мобильных телефонов и других устройств, где сложно ввести имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="327e5-133">Certificates are particularly useful for telephones, mobile phones, and other devices where it is difficult to enter a user name and password.</span></span>
  
### <a name="cryptographic-requirements-due-to-asp-net-45"></a><span data-ttu-id="327e5-134">Требования к шифрованию из-за ASP .NET 4.5</span><span class="sxs-lookup"><span data-stu-id="327e5-134">Cryptographic requirements due to ASP .NET 4.5</span></span> 

<span data-ttu-id="327e5-135">В Skype для бизнеса Server 2015 CU5 AES не поддерживается для ASP.NET 4.6, и это может привести к сбойу запуска приложения "Собрания Skype".</span><span class="sxs-lookup"><span data-stu-id="327e5-135">As of Skype for Business Server 2015 CU5, AES is not supported for ASP.NET 4.6 and this may cause Skype Meetings App to fail to start.</span></span> <span data-ttu-id="327e5-136">Если клиент использует AES в качестве значения проверки ключа компьютера, необходимо сбросить значение ключа компьютера до SHA-1 или другого поддерживаемого алгоритма на уровне сайта приложения "Собрания Skype" в IIS.</span><span class="sxs-lookup"><span data-stu-id="327e5-136">If a client is using AES as the machine key validation value you will need to reset the machine key value to SHA-1 or another supported algorithm on the Skype Meetings App site level on IIS.</span></span> <span data-ttu-id="327e5-137">При необходимости см. инструкции в ASP.NET [управления конфигурацией IIS 8.0.](https://docs.microsoft.com/iis/get-started/whats-new-in-iis-8/iis-80-aspnet-configuration-management)</span><span class="sxs-lookup"><span data-stu-id="327e5-137">If necessary, see [IIS 8.0 ASP.NET Configuration Management](https://docs.microsoft.com/iis/get-started/whats-new-in-iis-8/iis-80-aspnet-configuration-management) for instructions.</span></span>
  
<span data-ttu-id="327e5-138">Другие поддерживаемые значения:</span><span class="sxs-lookup"><span data-stu-id="327e5-138">Other supported values are:</span></span>
  
- <span data-ttu-id="327e5-139">HMACSHA256</span><span class="sxs-lookup"><span data-stu-id="327e5-139">HMACSHA256</span></span>
    
- <span data-ttu-id="327e5-140">HMACSHA384</span><span class="sxs-lookup"><span data-stu-id="327e5-140">HMACSHA384</span></span>
    
- <span data-ttu-id="327e5-141">HMACSHA512</span><span class="sxs-lookup"><span data-stu-id="327e5-141">HMACSHA512</span></span>
    
  <span data-ttu-id="327e5-142">Значения AES, 3DES и MD5 больше не разрешены, так как они были в ASP.NET 4.</span><span class="sxs-lookup"><span data-stu-id="327e5-142">The values AES, 3DES, and MD5 are no longer allowed, as they once were in ASP.NET 4.</span></span> <span data-ttu-id="327e5-143">Дополнительные сведения см. в ASP.NET [4.5, pt. 2.](https://blogs.msdn.microsoft.com/webdev/2012/10/23/cryptographic-improvements-in-asp-net-4-5-pt-2/)</span><span class="sxs-lookup"><span data-stu-id="327e5-143">[Cryptographic Improvements in ASP.NET 4.5, pt. 2](https://blogs.msdn.microsoft.com/webdev/2012/10/23/cryptographic-improvements-in-asp-net-4-5-pt-2/) has more details.</span></span>
  
