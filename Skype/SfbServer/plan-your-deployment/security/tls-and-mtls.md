---
title: TLS и MTLS для Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: conceptual
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.collection: IT_Skype16
ms.assetid: b32a5b85-fc82-42dc-a9b2-96400f8cd2b8
description: Протоколы TLS и MTLS обеспечивают шифрованную связь и проверку подлинности конечных точек в Интернете. Skype для бизнеса Server использует эти два протокола для создания сети доверенных серверов и обеспечения шифрования всех коммуникаций по этой сети. Все SIP-связи между серверами происходят через MTLS. SIP-связь между клиентом и сервером происходит по TLS.
ms.openlocfilehash: 7acc75ef35a9fe9c3f155ca31f06ac38df371e37
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/12/2021
ms.locfileid: "49832019"
---
# <a name="tls-and-mtls-for-skype-for-business-server"></a><span data-ttu-id="7aa9c-106">TLS и MTLS для Skype для бизнеса Server</span><span class="sxs-lookup"><span data-stu-id="7aa9c-106">TLS and MTLS for Skype for Business Server</span></span>
 
<span data-ttu-id="7aa9c-107">Протоколы TLS и MTLS обеспечивают шифрованную связь и проверку подлинности конечных точек в Интернете.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-107">Transport Layer Security (TLS) and Mutual Transport Layer Security (MTLS) protocols provide encrypted communications and endpoint authentication on the Internet.</span></span> <span data-ttu-id="7aa9c-108">Skype для бизнеса Server использует эти два протокола для создания сети доверенных серверов и обеспечения шифрования всех коммуникаций по этой сети.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-108">Skype for Business Server uses these two protocols to create the network of trusted servers and to ensure that all communications over that network are encrypted.</span></span> <span data-ttu-id="7aa9c-109">Все SIP-связи между серверами происходят через MTLS.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-109">All SIP communications between servers occur over MTLS.</span></span> <span data-ttu-id="7aa9c-110">SIP-связь между клиентом и сервером происходит по TLS.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-110">SIP communications from client to server occur over TLS.</span></span>
  
<span data-ttu-id="7aa9c-111">TLS позволяет пользователям с помощью клиентского программного обеспечения проходить проверку подлинности на серверах Skype для бизнеса Server, к которым они подключаются.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-111">TLS enables users, through their client software, to authenticate the Skype for Business Server servers to which they connect.</span></span> <span data-ttu-id="7aa9c-112">При под подключении TLS клиент запрашивает с сервера действительный сертификат.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-112">On a TLS connection, the client requests a valid certificate from the server.</span></span> <span data-ttu-id="7aa9c-113">Чтобы сертификат был действительным, сертификат должен быть выдан ЦС, которому также доверяет клиент, а DNS-имя сервера должно соответствовать DNS-имени в сертификате.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-113">To be valid, the certificate must have been issued by a CA that is also trusted by the client and the DNS name of the server must match the DNS name on the certificate.</span></span> <span data-ttu-id="7aa9c-114">Если сертификат действителен, клиент использует открытый ключ в сертификате для шифрования симметричных ключей шифрования, используемых для связи, поэтому только исходный владелец сертификата может использовать его закрытый ключ для расшифровки содержимого связи.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-114">If the certificate is valid, the client uses the public key in the certificate to encrypt the symmetric encryption keys to be used for the communication, so only the original owner of the certificate can use its private key to decrypt the contents of the communication.</span></span> <span data-ttu-id="7aa9c-115">Итоговая связь является доверенного и с этого момента не является проблемой для других доверенных серверов или клиентов.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-115">The resulting connection is trusted and from that point is not challenged by other trusted servers or clients.</span></span> <span data-ttu-id="7aa9c-116">В этом контексте SSL, используемый с веб-службами, может быть связан как TLS.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-116">Within this context, Secure Sockets Layer (SSL) as used with Web services can be associated as TLS-based.</span></span>
  
<span data-ttu-id="7aa9c-117">Соединения между серверами используют MTLS для взаимной проверки подлинности.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-117">Server-to-server connections rely on MTLS for mutual authentication.</span></span> <span data-ttu-id="7aa9c-118">В подключении MTLS сервер, и исходящие сообщения, и сервер, принимающий его, обмениваются сертификатами из взаимно доверенного ЦС.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-118">On an MTLS connection, the server originating a message and the server receiving it exchange certificates from a mutually trusted CA.</span></span> <span data-ttu-id="7aa9c-119">Сертификаты доказывают удостоверение каждого сервера другому.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-119">The certificates prove the identity of each server to the other.</span></span> <span data-ttu-id="7aa9c-120">В развертываниях Skype для бизнеса Server сертификаты, выдамые корпоративным ЦС в течение срока действия и не отозванные выдательным ЦС, автоматически считаются действительными всеми внутренними клиентами и серверами, так как все члены домена Active Directory доверяют корпоративному ЦС в этом домене.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-120">In Skype for Business Server deployments, certificates issued by the enterprise CA that are during their validity period and not revoked by the issuing CA are automatically considered valid by all internal clients and servers because all members of an Active Directory domain trust the Enterprise CA in that domain.</span></span> <span data-ttu-id="7aa9c-121">В федераированных сценариях оба федераированных партнера должны доверять выдаваемого ЦС.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-121">In federated scenarios, the issuing CA must be trusted by both federated partners.</span></span> <span data-ttu-id="7aa9c-122">При желании каждый партнер может использовать другой ЦС, если этот ЦС также является доверенным для другого партнера.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-122">Each partner can use a different CA, if desired, so long as that CA is also trusted by the other partner.</span></span> <span data-ttu-id="7aa9c-123">Это доверие проще всего сделать, если у edge-серверов есть сертификат корневого ЦС партнера в их доверенных корневых ЦС или сторонний ЦС, которому доверяют обе стороны.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-123">This trust is most easily accomplished by the Edge Servers having the partner's root CA certificate in their trusted root CAs, or by use of a third-party CA that is trusted by both parties.</span></span>
  
<span data-ttu-id="7aa9c-124">TLS и MTLS помогают предотвратить перехват и атаки "человек в середине".</span><span class="sxs-lookup"><span data-stu-id="7aa9c-124">TLS and MTLS help prevent both eavesdropping and man-in-the middle attacks.</span></span> <span data-ttu-id="7aa9c-125">В атаке "злоумышленник в середине" злоумышленник перенауляет связь между двумя сетевыми объектами через компьютер злоумышленника без ведома какой-либо из сторон.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-125">In a man-in-the-middle attack, the attacker reroutes communications between two network entities through the attacker's computer without the knowledge of either party.</span></span> <span data-ttu-id="7aa9c-126">TLS и спецификация Skype для бизнеса Server для доверенных серверов (только те, которые указаны в построитель топологий) частично снижает риск атаки "злоумышленник в середине" на уровне приложения, используя шифрование, координирующее шифрование открытого ключа между двумя конечными точками, и злоумышленнику необходимо иметь действительный и доверенный сертификат с соответствующим закрытым ключом и выданный имени службы, с которой клиент сообщает для расшифровки связи.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-126">TLS and Skype for Business Server specification of trusted servers (only those specified in Topology Builder) mitigate the risk of a man-in-the middle attack partially on the application layer by using end-to-end encryption coordinated using the Public Key cryptography between the two endpoints, and an attacker would have to have a valid and trusted certificate with the corresponding private key and issued to the name of the service to which the client is communicating to decrypt the communication.</span></span> <span data-ttu-id="7aa9c-127">Однако в конечном итоге необходимо следовать лучшим методикам безопасности с сетевой инфраструктурой (в данном случае корпоративной DNS).</span><span class="sxs-lookup"><span data-stu-id="7aa9c-127">Ultimately, however, you must follow best security practices with your networking infrastructure (in this case corporate DNS).</span></span> <span data-ttu-id="7aa9c-128">В Skype для бизнеса Server предполагается, что DNS-сервер является доверенным так же, как контроллеры домена и глобальные каталоги, но DNS обеспечивает уровень защиты от атак путем взлома DNS, предотвращая успешное реагирование сервера злоумышленника на запрос подмененного имени.</span><span class="sxs-lookup"><span data-stu-id="7aa9c-128">Skype for Business Server assumes that the DNS server is trusted in the same way that domain controllers and global catalogs are trusted, but DNS does provide a level of safeguard against DNS hijack attacks by preventing an attacker's server from responding successfully to a request to the spoofed name.</span></span>
  

