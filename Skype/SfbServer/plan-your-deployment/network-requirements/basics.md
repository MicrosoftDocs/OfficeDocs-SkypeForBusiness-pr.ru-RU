---
title: Основы DNS
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.assetid: 2618cfa1-2e2c-4f1d-a5e5-70a0286591a7
description: Windows Server 2016 имеет встроенное программное обеспечение, которое может предоставлять DNS-службы, поэтому вам может потребоваться просмотреть доступную документацию, например руководство по сценарию политики DNS. Вы можете выбрать стороннее решение, если хотите.
ms.openlocfilehash: 2e8655cb53228fbfe23bc62aaebbdfd5a02ce4f4
ms.sourcegitcommit: 01087be29daa3abce7d3b03a55ba5ef8db4ca161
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/23/2021
ms.locfileid: "51116037"
---
# <a name="dns-basics"></a><span data-ttu-id="fb8f5-104">Основы DNS</span><span class="sxs-lookup"><span data-stu-id="fb8f5-104">DNS basics</span></span>
 
<span data-ttu-id="fb8f5-105">Windows Server 2016 имеет встроенное программное обеспечение, которое может предоставлять службы DNS, поэтому вам может потребоваться просмотреть доступную документацию, например руководство по сценарию политики [DNS.](/windows-server/networking/dns/deploy/dns-policy-scenario-guide)</span><span class="sxs-lookup"><span data-stu-id="fb8f5-105">Windows Server 2016 has built-in software that can provide DNS services, so you may want to review the available documentation such as the [DNS Policy Scenario Guide](/windows-server/networking/dns/deploy/dns-policy-scenario-guide).</span></span> <span data-ttu-id="fb8f5-106">Вы можете выбрать стороннее решение, если хотите.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-106">You can choose a third-party solution if you prefer.</span></span>
  
<span data-ttu-id="fb8f5-107">Рекомендуется, чтобы в качестве наилучшей практики для предоставления DNS был выделен определенный сервер в реализации.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-107">We recommend that as a best practice you dedicate a specific server in your implementation to provide DNS.</span></span> <span data-ttu-id="fb8f5-108">Потенциально его можно настроить на одном из серверов, посвященных одной из ролей сервера Skype для бизнеса, но если этот сервер также является частью пула и был выписан случайно, Skype для бизнеса будет неисправен до тех пор, пока не будут созданы службы DNS.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-108">You could potentially set it up on one of the servers dedicated to one of the Skype for Business server roles, but if that server was also part of a pool and got decommissioned by accident Skype for Business would malfunction until DNS services were re-established.</span></span>
  
## <a name="dns-records"></a><span data-ttu-id="fb8f5-109">DNS-записи</span><span class="sxs-lookup"><span data-stu-id="fb8f5-109">DNS Records</span></span>

<span data-ttu-id="fb8f5-110">Каждое сопоставление имени с IP-адресом (а это может быть адрес IPv4 или IPv6) хранится в записи DNS на DNS-сервере.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-110">Each mapping of a name to an IP address (and that could be an IPv4 or IPv6 address) is stored in a DNS record on the DNS server.</span></span> <span data-ttu-id="fb8f5-111">Имя описано в отчете DNS, в частности, как FQDN — полное доменное имя.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-111">The name is described in the DNS Report specifically as an FQDN — a Fully Qualified Domain Name.</span></span> <span data-ttu-id="fb8f5-112">Хотя *contoso.com* является допустимым доменным именем, оно является кратким для *\* .contoso.com,* поэтому оно неоднозначно и может ссылаться на любой сервер в домене.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-112">While  *contoso.com*  is a valid domain name, it's shorthand for *\*.contoso.com*  , so it's ambiguous and could possibly refer to any server in the domain.</span></span> <span data-ttu-id="fb8f5-113">Пример FQDN, который ссылался бы на один сервер в **вашем домене,** может быть meeting01.contoso.com .</span><span class="sxs-lookup"><span data-stu-id="fb8f5-113">An example of an FQDN that would refer to a single server in your domain might be **meeting01.contoso.com**.</span></span>
  
> [!IMPORTANT]
> <span data-ttu-id="fb8f5-114">По умолчанию имя компьютера, не присоединяемого к домену, является хост-именем, а не полностью квалифицированным доменным именем (FQDN).</span><span class="sxs-lookup"><span data-stu-id="fb8f5-114">By default the computer name of a computer that is not joined to a domain is a host name, and not a fully qualified domain name (FQDN).</span></span> <span data-ttu-id="fb8f5-115">Topology Builder использует FQDNs, а не имена хостов.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-115">Topology Builder uses FQDNs, not host names.</span></span> <span data-ttu-id="fb8f5-116">Поэтому вы должны настроить суффикс DNS в имени компьютера, который будет развернут как пограничный сервер, не присоединенный к домену.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-116">So, you must configure a DNS suffix on the name of the computer to be deployed as an Edge Server that is not joined to a domain.</span></span> <span data-ttu-id="fb8f5-117">**Используйте только стандартные** символы (включая A-Z, a-z, 0-9 и дефис) при назначении FQDNs на серверы под управлением Skype для бизнеса Server.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-117">**Use only standard characters** (including A-Z, a-z, 0-9, and hyphens) when assigning FQDNs to your servers running Skype for Business Server.</span></span> <span data-ttu-id="fb8f5-118">Не используйте символы Unicode или подчеркивания.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-118">Do not use Unicode characters or underscores.</span></span> <span data-ttu-id="fb8f5-119">Нестандартные символы, включенные в полное доменное имя, часто не поддерживаются внешними системами DNS и открытыми центрами сертификации (например, когда полное доменное имя необходимо назначить SN в сертификате).</span><span class="sxs-lookup"><span data-stu-id="fb8f5-119">Nonstandard characters in an FQDN are often not supported by external DNS and public CAs (that is, when the FQDN must be assigned to the SN in the certificate).</span></span>
  
<span data-ttu-id="fb8f5-120">Помимо IP-адреса, FQDN может соединен с **VIP** - виртуальным IP-адресом.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-120">In addition to an IP address, the FQDN could map to a **VIP** — A virtual IP address.</span></span> <span data-ttu-id="fb8f5-121">VIP-адрес — это IP-адрес, который не соответствует фактическому интерфейсу физической сети.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-121">A VIP is an IP address that doesn't correspond to an actual physical network interface.</span></span> <span data-ttu-id="fb8f5-122">VIP-сервер часто указывает на пул серверов, исполняющих роль сервера, или на пару серверов, настроенных для избыточности и допуска ошибок.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-122">A VIP often points to a pool of servers performing a server role, or to a pair of servers configured for redundancy and fault-tolerance.</span></span>
  
<span data-ttu-id="fb8f5-123">Существует несколько типов записей DNS, наиболее актуальными для этого обсуждения являются:</span><span class="sxs-lookup"><span data-stu-id="fb8f5-123">There are several types of DNS record, the ones that are most relevant to this discussion are:</span></span> 
  
- <span data-ttu-id="fb8f5-124">**A** — запись адреса или запись хоста возвращает 32-битный адрес IPv4.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-124">**A** — an Address record or Host record, Returns a 32-bit IPv4 address.</span></span> <span data-ttu-id="fb8f5-125">Чаще всего используется для картографии имен хост-адресов с IP-адресом хоста.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-125">Most commonly used to map hostnames to an IP address of the host.</span></span>
    
- <span data-ttu-id="fb8f5-126">**AAAA** — запись адреса IPv6.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-126">**AAAA** — an IPv6 address record.</span></span> <span data-ttu-id="fb8f5-127">Возвращает 128-битный адрес IPv6.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-127">Returns a 128-bit IPv6 address.</span></span> <span data-ttu-id="fb8f5-128">Чаще всего используется для картографии имен хост-адресов с IP-адресом хоста.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-128">Most commonly used to map hostnames to an IP address of the host.</span></span>
    
- <span data-ttu-id="fb8f5-129">**CNAME** — каноническая запись имен.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-129">**CNAME** — a Canonical name record.</span></span> <span data-ttu-id="fb8f5-130">Это устраняет одно имя на другое: dNS-просмотр будет повторно искать с новым именем.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-130">This resolves one name to another: the DNS lookup will retry the lookup with the new name.</span></span>
    
- <span data-ttu-id="fb8f5-131">**SRV** — запись службы (запись SRV) указывает службу (процесс на сервере), которая имеет доступ к определенной комбинации порта и IP.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-131">**SRV** — a Service record (SRV record) specifies a service (a process on a server) that is accessed on a specific port and IP combination.</span></span> <span data-ttu-id="fb8f5-132">Имена служб, требующих записи служб, фиксируются и не могут быть настроены, если они являются частью вашего домена SIP.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-132">The names of services requiring a service record are fixed, and can't be customized beyond making them part of your SIP domain.</span></span> <span data-ttu-id="fb8f5-133">Некоторые службы пользователей используют простые URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-133">Some user services use Simple URLs.</span></span> <span data-ttu-id="fb8f5-134">Запись SRV должна указать на расположение в том же домене SIP, поэтому если у вас есть несколько доменов, вам потребуется несколько записей SRV для данной службы.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-134">An SRV record must point to a location in the same SIP domain, so if you have multiple domains you'll need multiple SRV records for a given service.</span></span>
    
## <a name="how-to-choose-a-sip-domain-name"></a><span data-ttu-id="fb8f5-135">Выбор доменного имени SIP</span><span class="sxs-lookup"><span data-stu-id="fb8f5-135">How to choose a SIP domain name</span></span>
<span data-ttu-id="fb8f5-136"><a name="BK_NameSIP"> </a></span><span class="sxs-lookup"><span data-stu-id="fb8f5-136"><a name="BK_NameSIP"> </a></span></span>

<span data-ttu-id="fb8f5-137">Доменное имя SIP организации обычно совпадает с адресами электронной почты, переданными пользователям.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-137">An organization's SIP domain name usually aligns with the email addresses given to its users.</span></span> <span data-ttu-id="fb8f5-138">Если у пользователя в организации будет такой электронный адрес, как Brown@contoso.com, предпочтительным для организации с contoso.com доменным именем \<sip-domain\> просто contoso.com.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-138">If a user in your organization would have an email address like Brown@contoso.com, the preferred \<sip-domain\> for an organization with the contoso.com domain name is simply contoso.com.</span></span>
  
### <a name="multiple-sip-domains"></a><span data-ttu-id="fb8f5-139">Несколько доменов SIP</span><span class="sxs-lookup"><span data-stu-id="fb8f5-139">Multiple SIP domains</span></span>

 <span data-ttu-id="fb8f5-140">В некоторых случаях организации может потребоваться несколько доменов SIP.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-140">Your organization might in some cases need several SIP domains.</span></span> <span data-ttu-id="fb8f5-141">Например, если Fabrikam.com был приобретен contoso.com, может потребоваться создать новый домен SIP, который Skype для бизнеса Server распознает и будет принимать подключение.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-141">As an example, if Fabrikam.com was acquired by contoso.com, you might need to create a new SIP domain that Skype for Business Server recognizes and will accept connection from.</span></span> <span data-ttu-id="fb8f5-142">При этом необходимо создать дополнительный набор всех записей DNS, которые используют contoso.com, с новыми FQDNs, которые показывают, куда отправлять запросы для Fabrikam.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-142">When you do this, you'd need to create an additional set of all the DNS records that use contoso.com, with new FQDNs that show where to send requests for Fabrikam.</span></span>
  
## <a name="dns-load-balancing"></a><span data-ttu-id="fb8f5-143">Балансировка нагрузки на DNS</span><span class="sxs-lookup"><span data-stu-id="fb8f5-143">DNS Load Balancing</span></span>
<span data-ttu-id="fb8f5-144"><a name="BK_NameSIP"> </a></span><span class="sxs-lookup"><span data-stu-id="fb8f5-144"><a name="BK_NameSIP"> </a></span></span>

<span data-ttu-id="fb8f5-145">Вы можете использовать DNS для совместной загрузки трафика между несколькими серверами, которые настроены как пул серверов.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-145">You can use DNS to share traffic load among several servers that are set up as a server pool.</span></span> <span data-ttu-id="fb8f5-146">Для этого необходимо создать несколько записей A для FQDN пула, каждая из которых указывает на IP-адрес узла в пуле.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-146">To do this, you would create several A records for the pool's FQDN, each of which points to the IP address of a node in the pool.</span></span>
  
<span data-ttu-id="fb8f5-147">Дополнительные [обсуждения балансировки](../../plan-your-deployment/edge-server-deployments/advanced-edge-server-dns.md#DNSLB) нагрузки см. в dNS-балансировки нагрузки.</span><span class="sxs-lookup"><span data-stu-id="fb8f5-147">See [DNS load balancing](../../plan-your-deployment/edge-server-deployments/advanced-edge-server-dns.md#DNSLB) for additional discussions of load balancing.</span></span>
