---
title: Управление серверами переднего плана в Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.assetid: ab748733-6bad-4c93-8dda-db8d5271653d
description: Сводка. Узнайте, как добавить, удалить, исправить или обновить серверы переднего плана в Skype для бизнеса Server.
ms.openlocfilehash: 3d2298711e707ed897b26939fd383dbedcfb3957
ms.sourcegitcommit: 397c4840fb053238de24b8b24ae75588b33b693d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2020
ms.locfileid: "45098417"
---
# <a name="manage-front-end-servers-in-skype-for-business-server"></a>Управление серверами переднего плана в Skype для бизнеса Server
 
В этой статье объясняется, как добавить или удалить серверы переднего плана, а также как применять обновления или исправления к серверам переднего плана.

  > [!NOTE]
> Skype для бизнеса Server 2019 не поддерживает пулы переднего плана Enterprise Edition с двумя серверами переднего плана и не разрешают публикацию топологии в этом сценарии.

## <a name="add-or-remove-front-end-servers"></a>Добавление и удаление серверов переднего плана
  
Когда вы добавляете в пул или удаляете из пула сервер переднего плана, вам необходимо перезапустить пул. 
  
> [!IMPORTANT]
> Когда вы добавляете или удаляете сервер в пуле в топологии и затем публикуете обновленную топологию, все серверы в пуле будут перезапускаться в то же время. Серверы перезапускают пул в автономном режиме, что приведет к прерыванию службы для пользователей, подключенных к этому пулу. Чтобы предотвратить прерывание обслуживания для пользователей, запланируйте публикацию топологии с новым сервером в пуле в нерабочие часы. 
  
При добавлении или удалении сервера переднего плана можно использовать следующую процедуру.
  
> [!NOTE]
> Если вы добавляете в пул новые серверы, обновите новые серверы пула так, чтобы они были на том же накопительном уровне обновления, что и существующие серверы в пуле. 
  
### <a name="to-add-or-remove-front-end-servers"></a>Добавление и удаление серверов переднего плана

1. Если вы удаляете серверы переднего плана, сначала запретите новые подключения к ним. Для этого вы можете использовать следующий командлет:
    
   ```PowerShell
   Stop-CsWindowsService -Graceful
   ```

2. Откройте построитель топологий и добавьте или удалите требуемые серверы. 
    
3. Опубликуйте топологию.
    
    > [!IMPORTANT]
    > Когда вы добавляете или удаляете сервер в пуле в топологии и затем публикуете обновленную топологию, все серверы в пуле будут перезапускаться в то же время. Серверы перезапускают пул в автономном режиме, что приведет к прерыванию службы для пользователей, подключенных к этому пулу. Чтобы предотвратить прерывание обслуживания для пользователей, запланируйте публикацию топологии с новым сервером в пуле в нерабочие часы. 
  
  > [!NOTE]
> Кроме того, при добавлении или удалении сервера в пул необходимо запустить мастер развертывания Skype для бизнеса Server на каждом добавленном или удаленном компьютере, чтобы получить дополнительные сведения, [в статье Установка Skype для бизнеса Server на серверах в топологии](https://docs.microsoft.com/skypeforbusiness/deploy/install/install-skype-for-business-server)
  
4. Если количество серверов в пуле переднего плана было изменено одним из следующих способов, выполните сброс пула с помощью следующего командлета: Reset — Кспулрегистрарстате — ResetType FullReset – PoolFqdn 
    
   ```PowerShell
    Reset-CsPoolRegistrarState -ResetType FullReset -PoolFqdn  <PoolFQDN>
   ```

     - 2 для любого
    
     - Любое значение, равное 2
    
     - 3 до любого
    
     - Любое значение 3
    
5. Перезапустите пул, введя следующий командлет:
    
   ```PowerShell
   Start-CsPool
   ```

## <a name="patch-or-update-front-end-servers"></a>Обновление или обновление серверов переднего плана

При обновлении серверов в интерфейсном пуле вы выполняете по одному серверу за раз. 
  
### <a name="to-apply-an-upgrade-to-the-front-end-servers-in-a-pool"></a>Применение обновления к серверам переднего плана в пуле

1. Введите следующий командлет:
    
   ```PowerShell
   Get-CsPoolFabricState -PoolFqdn <PoolFQDN>
   ```

     Если этот командлет отображает все отсутствующие реплики, выполните следующий командлет для восстановления пула перед применением исправлений.
    
   ```PowerShell
   Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery
   ```

2. На первом сервере, который требуется исправить, выполните следующий командлет:
    
   ```PowerShell
   Invoke-CsComputerFailOver -ComputerName <Front End Server to be patched>
   ```

    Этот командлет переместит все службы на другие серверы переднего плана в пуле и переводит этот сервер в автономный режим.
    
3. Примените обновление или исправление к этому серверу.
    
4. На обновленном сервере выполните следующий командлет:
    
   ```PowerShell
   Invoke-CsComputerFailBack -ComputerName <Front End Server to be patched>
   ```

    Сервер возвращается в службу.
    
5. Повторите шаги 2-4 для каждого сервера, который требуется обновить.
    
