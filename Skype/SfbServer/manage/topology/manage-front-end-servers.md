---
title: Управление серверами переднего Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-mahoffman
author: HowlinWolf-92
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
ms.localizationpriority: medium
ms.assetid: ab748733-6bad-4c93-8dda-db8d5271653d
description: Сводка. Сведения о добавлении, удалите, заплатите или обновите серверы переднего Skype для бизнеса Server.
ms.openlocfilehash: daa56be66a09d0969c193021aa3b847fc5972413
ms.sourcegitcommit: 67324fe43f50c8414bb65c52f5b561ac30b52748
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/08/2021
ms.locfileid: "60837531"
---
# <a name="manage-front-end-servers-in-skype-for-business-server"></a>Управление серверами переднего Skype для бизнеса Server
 
В этой статье рассказывается о том, как добавлять или удалять серверы переднего конца и как применять обновления или исправления к передним конечным серверам.

  > [!NOTE]
> Skype для бизнеса Server 2019 г. не поддерживает выпуск Enterprise с двумя передними конечными серверами и не позволит публиковать топологию в этом сценарии.

## <a name="add-or-remove-front-end-servers"></a>Добавление или удаление серверов переднего конца
  
Когда вы добавляете в пул или удаляете из пула сервер переднего плана, вам необходимо перезапустить пул. 
  
> [!IMPORTANT]
> Если добавить или удалить сервер в пул в топологии, а затем опубликовать обновленную топологию, это приведет к одновременной перезагрузке всех серверов в пуле. В то время как серверы перезапуска пула находится в автономном режиме, что будет прерывать службу для пользователей, подключенных к этому пулу. Чтобы предотвратить прерывание службы для пользователей, запланируйте публикацию топологии с новым сервером в пуле в не-бизнес-часы. 
  
При добавлении или удалении переднего сервера можно использовать следующую процедуру.
  
> [!NOTE]
> Если вы добавляете новые серверы в пул, обновите новые серверы пула, чтобы они были на том же уровне накопительного обновления, что и существующие серверы в пуле. 
  
### <a name="to-add-or-remove-front-end-servers"></a>Добавление или удаление серверов переднего конца

1. Если вы удаляете серверы переднего плана, сначала запретите новые подключения к ним. Для этого вы можете использовать следующий командлет:
    
   ```PowerShell
   Stop-CsWindowsService -Graceful
   ```

2. Откройте построитель топологий и добавьте или удалите требуемые серверы. 
    
3. Опубликуйте топологию.
    
    > [!IMPORTANT]
    > Если добавить или удалить сервер в пул в топологии, а затем опубликовать обновленную топологию, это приведет к одновременной перезагрузке всех серверов в пуле. В то время как серверы перезапуска пула находится в автономном режиме, что будет прерывать службу для пользователей, подключенных к этому пулу. Чтобы предотвратить прерывание службы для пользователей, запланируйте публикацию топологии с новым сервером в пуле в не-бизнес-часы. 
  
  > [!NOTE]
> Кроме того, при добавлении или удалении сервера в пул необходимо запустить мастер развертывания Skype для бизнеса Server на каждом добавленном или удаленном компьютере, дополнительные сведения см. в Skype для бизнеса Server Install [Skype для бизнеса Server](../../deploy/install/install-skype-for-business-server.md) на серверах топологии.
  
4. Если вы изменили количество серверов в пуле передней части любым из следующих способов, сбросите пул, введя следующий cmdlet: Reset-CsPoolRegistrarState-ResetType FullReset -PoolFqdn 
    
   ```PowerShell
    Reset-CsPoolRegistrarState -ResetType FullReset -PoolFqdn  <PoolFQDN>
   ```

     - 2 к любому
    
     - Любое до 2
    
     - 3 к любому
    
     - Любое до 3
    
5. Перезапустите пул, введя следующий кодлет
    
   ```PowerShell
   Start-CsPool
   ```

## <a name="patch-or-update-front-end-servers"></a>Исправление или обновление серверов переднего конца

При исправлении серверов в пуле переднего конца вы делаете это по одному серверу одновременно. 
  
### <a name="to-apply-an-upgrade-to-the-front-end-servers-in-a-pool"></a>Применение обновления для серверов переднего конца в пуле

1. Введите следующий cmdlet:
    
   ```PowerShell
   Get-CsPoolFabricState -PoolFqdn <PoolFQDN>
   ```

     Если в этом комлете показаны отсутствующие реплики, запустите следующий кодлет, чтобы восстановить пул, прежде чем применять какие-либо исправления.
    
   ```PowerShell
   Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery
   ```

2. На первом сервере, который требуется выполнить исправление, запустите следующий кодлет:
    
   ```PowerShell
   Invoke-CsComputerFailOver -ComputerName <Front End Server to be patched>
   ```

    Этот комлет перемещает все службы на другие серверы переднего конечного доступа в пуле и отвоевает этот сервер в автономном режиме.
    
3. Применить обновление или исправление на этом сервере.
    
4. На обновленном сервере запустите следующий кодлет:
    
   ```PowerShell
   Invoke-CsComputerFailBack -ComputerName <Front End Server to be patched>
   ```

    Сервер возвращается в службу.
    
5. Повторите действия 2-4 для каждого сервера, который необходимо обновить.
