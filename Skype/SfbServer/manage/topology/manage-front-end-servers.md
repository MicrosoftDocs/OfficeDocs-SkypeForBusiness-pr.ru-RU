---
title: Управление серверами переднего сервера в Skype для бизнеса Server
ms.reviewer: ''
ms.author: v-cichur
author: cichur
manager: serdars
audience: ITPro
ms.topic: article
ms.prod: skype-for-business-itpro
f1.keywords:
- NOCSH
localization_priority: Normal
ms.assetid: ab748733-6bad-4c93-8dda-db8d5271653d
description: Сводка. Узнайте, как добавлять, удалять, обновлять или обновлять серверы переднего сервера в Skype для бизнеса Server.
ms.openlocfilehash: 16af245b3c49b21309edd3ee2843f2585814ce9e
ms.sourcegitcommit: c528fad9db719f3fa96dc3fa99332a349cd9d317
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/12/2021
ms.locfileid: "49826329"
---
# <a name="manage-front-end-servers-in-skype-for-business-server"></a>Управление серверами переднего сервера в Skype для бизнеса Server
 
В этой статье объясняется, как добавлять или удалять серверы переднего сервера, а также как применять обновления или исправления к серверам переднего сервера.

  > [!NOTE]
> Skype для бизнеса Server 2019 не поддерживает пулы переднего сервера Enterprise Edition с двумя серверами переднего сервера и не позволит публиковать топологию в этом сценарии.

## <a name="add-or-remove-front-end-servers"></a>Добавление или удаление серверов переднего сервера
  
Когда вы добавляете в пул или удаляете из пула сервер переднего плана, вам необходимо перезапустить пул. 
  
> [!IMPORTANT]
> При добавлении или удалите сервер в пул в топологии, а затем опубликуйте обновленную топологию, это приведет к одновременному перезапуску всех серверов в пуле. Во время перезапуска пула серверы находятся в автономном режиме, что прерывает работу службы для пользователей, подключенных к этому пулу. Чтобы предотвратить перебои в обслуживании пользователей, запланируйте публикацию топологии с новым сервером в пуле в не-часы. 
  
При добавлении или удалении сервера переднего сервера можно использовать следующую процедуру.
  
> [!NOTE]
> При добавлении новых серверов в пул обновите новые серверы пула так, чтобы они были на том же уровне накопительного обновления, что и существующие серверы в пуле. 
  
### <a name="to-add-or-remove-front-end-servers"></a>Добавление или удаление серверов переднего сервера

1. Если вы удаляете серверы переднего плана, сначала запретите новые подключения к ним. Для этого вы можете использовать следующий командлет:
    
   ```PowerShell
   Stop-CsWindowsService -Graceful
   ```

2. Откройте построитель топологий и добавьте или удалите требуемые серверы. 
    
3. Опубликуйте топологию.
    
    > [!IMPORTANT]
    > При добавлении или удалите сервер в пул в топологии, а затем опубликуйте обновленную топологию, это приведет к одновременному перезапуску всех серверов в пуле. Во время перезапуска пула серверы находятся в автономном режиме, что прерывает работу службы для пользователей, подключенных к этому пулу. Чтобы предотвратить прерывание обслуживания для пользователей, запланируйте публикацию топологии с новым сервером в пуле в не-часы. 
  
  > [!NOTE]
> Кроме того, при добавлении или удалении сервера в пул необходимо запустить мастер развертывания Skype для бизнеса [](https://docs.microsoft.com/skypeforbusiness/deploy/install/install-skype-for-business-server) Server на каждом добавленном или удаленном компьютере. Дополнительные сведения см. в этой топологии.
  
4. Если вы изменили количество серверов в пуле переднего сервера одним из следующих способов, сбросите пул, введя следующий Reset-CsPoolRegistrarState -ResetType FullReset -PoolFqdn 
    
   ```PowerShell
    Reset-CsPoolRegistrarState -ResetType FullReset -PoolFqdn  <PoolFQDN>
   ```

     - От 2 до любого
    
     - Любое до 2
    
     - От 3 до любого
    
     - Любое до 3
    
5. Перезапустите пул, введя следующий cmdlet
    
   ```PowerShell
   Start-CsPool
   ```

## <a name="patch-or-update-front-end-servers"></a>Исправление или обновление серверов переднего сервера

При исправлении серверов в пуле переднего сервера это происходит по одному серверу за раз. 
  
### <a name="to-apply-an-upgrade-to-the-front-end-servers-in-a-pool"></a>Применение обновления к серверам переднего сервера в пуле

1. Введите следующий cmdlet:
    
   ```PowerShell
   Get-CsPoolFabricState -PoolFqdn <PoolFQDN>
   ```

     Если этот cmdlet отображает отсутствующие реплики, перед применением исправлений запустите следующий cmdlet для восстановления пула.
    
   ```PowerShell
   Reset-CsPoolRegistrarState -ResetType QuorumLossRecovery
   ```

2. На первом сервере, который требуется выполнить исправление, запустите следующий cmdlet:
    
   ```PowerShell
   Invoke-CsComputerFailOver -ComputerName <Front End Server to be patched>
   ```

    Этот cmdlet перемещает все службы на другие серверы переднего сервера в пуле и отбирает этот сервер в автономном режиме.
    
3. Применив обновление или исправление к этому серверу.
    
4. На обновленном сервере запустите следующий cmdlet:
    
   ```PowerShell
   Invoke-CsComputerFailBack -ComputerName <Front End Server to be patched>
   ```

    Сервер возвращается в службу.
    
5. Повторите шаги 2-4 для каждого сервера, который требуется обновить.
    
