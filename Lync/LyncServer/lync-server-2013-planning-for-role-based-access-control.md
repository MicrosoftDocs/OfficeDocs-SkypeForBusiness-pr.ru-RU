---
title: 'Lync Server 2013: планирование контроля доступа на основе ролей'
TOCTitle: Планирование контроля доступа на основе ролей (RBAC)
ms:assetid: 41204ba3-ce5b-41a8-a6c3-b444468fa328
ms:mtpsurl: https://technet.microsoft.com/ru-ru/library/Gg425917(v=OCS.15)
ms:contentKeyID: 49309565
ms.date: 05/19/2016
mtps_version: v=OCS.15
ms.translationtype: HT
---

# Планирование контроля доступа на основе ролей в Lync Server 2013

 

_**Дата изменения раздела:** 2015-03-09_

Чтобы предоставить вам возможность делегирования задач администрирования при одновременном поддержании высоких стандартов безопасности, в Lync Server 2013 предлагается функция управления доступом на основе ролей (RBAC). При использовании функции RBAC привилегии администратора предоставляются путем назначения пользователям ролей администрирования. Lync Server 2013 включает обширный набор встроенных ролей администрирования, а также предоставляет возможность создания новых ролей и указания пользовательского списка командлетов для каждой новой роли. Вы можете также добавлять сценарии командлетов в разрешенные задачи как предопределенных, так и пользовательских ролей RBAC.

## Более эффективная централизация и обеспечение безопасности сервера

При использовании RBAC доступ и авторизация основываются исключительно на роли пользователя Lync Server. Это позволяет использовать практику "минимальных привилегий", то есть предоставлять администраторам и пользователям только те права, которые необходимы для исполнения их рабочих обязанностей.

> [!IMPORTANT]
> Ограничения RBAC применяются только в том случае, если администраторы работают удаленно и используют управления Lync Server или Командная консоль Lync Server. Если пользователь работает напрямую с сервером, на котором выполняется Lync Server, ограничения RBAC на него не распространяются. Поэтому для поддержания ограничений RBAC необходимо обеспечить физическую защиту Lync Server.


## Роли и области действия

При использовании RBAC назначается *роль* на использование списка командлетов, которая подходит для определенного типа администраторов или технических специалистов. *Область действия* – это набор объектов, на которых могут работать командлеты, заданные для роли. Объектами, которые затрагивает область действия, могут быть либо учетные записи пользователей (с группировкой по рабочему подразделению), либо серверы (с группировкой по сайту).

В следующей таблице представлен список предопределенных ролей в Lync Server и приведен общий обзор типов задач, которые может выполнять каждая роль. В четвертом столбце представлена роль Microsoft Exchange Server, аналогичная каждой роли Lync Server, при ее наличии.

### Предопределенные административные роли

<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th>Роль</th>
<th>Разрешенные задачи</th>
<th>Базовая группа Active Directory</th>
<th>Аналог в Exchange</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>CsAdministrator</p></td>
<td><p>Может выполнять все административные задачи и изменять все параметры, включая создание ролей и назначение их пользователям. Может расширять развертывание, добавляя новые сайты, пулы и службы.</p></td>
<td><p>CSAdministrator</p></td>
<td><p>Управление организацией</p></td>
</tr>
<tr class="even">
<td><p>CsUserAdministrator</p></td>
<td><p>Может разрешать и запрещать доступ пользователей к Lync Server, удалять пользователей и назначать пользователям существующие политики. Не может изменять политики.</p></td>
<td><p>CSUserAdministrator</p></td>
<td><p>Получатели почты</p></td>
</tr>
<tr class="odd">
<td><p>CsVoiceAdministrator</p></td>
<td><p>Может создавать, настраивать параметры и политики голосовых служб и управлять ими.</p></td>
<td><p>CSVoiceAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="even">
<td><p>CsServerAdministrator</p></td>
<td><p>Может управлять, контролировать и осуществлять диагностику и устранение неполадок серверов и служб. Может запрещать новые подключения к серверам, запускать и останавливать службы и применять обновления программного обеспечения. Не может вносить изменения, которые оказывают влияние на глобальную конфигурацию.</p></td>
<td><p>CSServerAdministrator</p></td>
<td><p>Управление сервером</p></td>
</tr>
<tr class="odd">
<td><p>CsViewOnlyAdministrator</p></td>
<td><p>Может просматривать развертывание, включая сведения о пользователях и серверах, в целях отслеживания работоспособности.</p></td>
<td><p>CSViewOnlyAdministrator</p></td>
<td><p>Управление организацией с правами только на просмотр</p></td>
</tr>
<tr class="even">
<td><p>CsHelpDesk</p></td>
<td><p>Может просматривать развертывание, включая свойства и политики пользователей. Может запускать определенные задачи по устранению неполадок. Не может изменять свойства или политики пользователей, конфигурацию сервера или службы.</p></td>
<td><p>CSHelpDesk</p></td>
<td><p>HelpDesk</p></td>
</tr>
<tr class="odd">
<td><p>CsArchivingAdministrator</p></td>
<td><p>Может изменять конфигурацию и политики архивирования.</p></td>
<td><p>CSArchivingAdministrator</p></td>
<td><p>Управление хранением и удержанием по юридическим причинам</p></td>
</tr>
<tr class="even">
<td><p>CsResponseGroupAdministrator</p></td>
<td><p>Может управлять конфигурацией приложения группы ответа на уровне сайта.</p></td>
<td><p>CSResponseGroupAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="odd">
<td><p>CsLocationAdministrator</p></td>
<td><p>Самый низкий уровень прав на управление Enhanced 9-1-1 (E9-1-1), который включает создание местоположений E9-1-1 и сетевых идентификаторов и сопоставление их друг с другом. Эта роль всегда назначается с глобальной областью действия.</p></td>
<td><p>CSLocationAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="even">
<td><p>CsResponseGroupManager</p></td>
<td><p>Может управлять определенными группами ответа.</p></td>
<td><p>CSResponseGroupManager</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="odd">
<td><p>CsPersistentChatAdministrator</p></td>
<td><p>Может управлять функцией сохраняемых сеансов беседы и определенными разговорными каналами сохраняемых сеансов бесед.</p></td>
<td><p>CSPersistentChatAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="even">
<td><p>CsAdministrator</p></td>
<td><p>Может выполнять все административные задачи и изменять все параметры, включая создание ролей и назначение их пользователям. Может расширять развертывание, добавляя новые сайты, пулы и службы.</p></td>
<td><p>CSAdministrator</p></td>
<td><p>Управление организацией</p></td>
</tr>
<tr class="odd">
<td><p>CsUserAdministrator</p></td>
<td><p>Может разрешать и запрещать доступ пользователей к Lync Server, удалять пользователей и назначать пользователям существующие политики. Не может изменять политики.</p></td>
<td><p>CSUserAdministrator</p></td>
<td><p>Получатели почты</p></td>
</tr>
<tr class="even">
<td><p>CsVoiceAdministrator</p></td>
<td><p>Может создавать, настраивать параметры и политики голосовых служб и управлять ими.</p></td>
<td><p>CSVoiceAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="odd">
<td><p>CsServerAdministrator</p></td>
<td><p>Может управлять, контролировать и осуществлять диагностику и устранение неполадок серверов и служб. Может запрещать новые подключения к серверам, запускать и останавливать службы и применять обновления программного обеспечения. Не может вносить изменения, которые оказывают влияние на глобальную конфигурацию.</p></td>
<td><p>CSServerAdministrator</p></td>
<td><p>Управление сервером</p></td>
</tr>
<tr class="even">
<td><p>CsViewOnlyAdministrator</p></td>
<td><p>Может просматривать развертывание, включая сведения о пользователях и серверах, в целях отслеживания работоспособности.</p></td>
<td><p>CSViewOnlyAdministrator</p></td>
<td><p>Управление организацией с правами только на просмотр</p></td>
</tr>
<tr class="odd">
<td><p>CsHelpDesk</p></td>
<td><p>Может просматривать развертывание, включая свойства и политики пользователей. Может запускать определенные задачи по устранению неполадок. Не может изменять свойства или политики пользователей, конфигурацию сервера или службы.</p></td>
<td><p>CSHelpDesk</p></td>
<td><p>HelpDesk</p></td>
</tr>
<tr class="even">
<td><p>CsArchivingAdministrator</p></td>
<td><p>Может изменять конфигурацию и политики архивирования.</p></td>
<td><p>CSArchivingAdministrator</p></td>
<td><p>Управление хранением и удержанием по юридическим причинам</p></td>
</tr>
<tr class="odd">
<td><p>CsResponseGroupAdministrator</p></td>
<td><p>Может управлять конфигурацией приложения группы ответа на уровне сайта.</p></td>
<td><p>CSResponseGroupAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="even">
<td><p>CsLocationAdministrator</p></td>
<td><p>Самый низкий уровень прав на управление Enhanced 9-1-1 (E9-1-1), который включает создание местоположений E9-1-1 и сетевых идентификаторов и сопоставление их друг с другом. Эта роль всегда назначается с глобальной областью действия.</p></td>
<td><p>CSLocationAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="odd">
<td><p>CsResponseGroupManager</p></td>
<td><p>Может управлять определенными группами ответа.</p></td>
<td><p>CSResponseGroupManager</p></td>
<td><p>Не применимо</p></td>
</tr>
<tr class="even">
<td><p>CsPersistentChatAdministrator</p></td>
<td><p>Может управлять функцией сохраняемых сеансов беседы и определенными разговорными каналами сохраняемых сеансов бесед.</p></td>
<td><p>CSPersistentChatAdministrator</p></td>
<td><p>Не применимо</p></td>
</tr>
</tbody>
</table>


Все предопределенные роли, включенные в Lync Server, обладают глобальной область действия. Для применения практик назначения минимальных привилегий не следует назначать пользователям роли с глобальной областью действия, если предполагается, что они будут осуществлять администрирование только ограниченного набора серверов или пользователей. Для этого можно создать роли на основе существующих ролей, которые будут обладать более ограниченной областью действия.

## Создание роли с заданным уровнем

При создании роли с ограниченной областью действия (с заданным уровнем) вы определяете область действия, а также существующую роль, на основе которой создается новая роль, и группу Active Directory, которой эта роль назначается. Указанная группа Active Directory должна уже быть создана.Следующий командлет является примером процедуры создания роли, которая обладает привилегиями одной из предопределенных административных ролей, но при этом ее область действия ограничена. Это приводит к созданию новой роли с именем `Site01 Server Administrators`. Эта роль обладает возможностями предопределенной роли CsServerAdministrator, но только для серверов, расположенных на узле Site01. Этот командлет работает только в том случае, если узел Site01 уже задан и универсальная группа безопасности с именем `Site01 Server Administrators` уже существует.

    New-CsAdminRole -Identity "Site01 Server Administrators" -Template CsServerAdministrator -ConfigScopes "site:Site01"

После выполнения этого командлета всем пользователям, которые являются членами группы `Site01 Server Administrators`, предоставляются привилегии администратора серверов узла Site01. Кроме того, любые пользователи, которые впоследствии добавляются в эту универсальную группу безопасности, также приобретают все привилегии этой роли. Обратите внимание, что и сама роль, и универсальная группа безопасности, которой она назначена, называются `Site01 Server Administrators`.

В следующем примере представлено ограничение области действия на уровне пользователей, а не на уровне сервера. Это приводит к созданию роли `Sales Users Administrator` для управления учетными записями пользователей в отделе продаж. Для работы этого командлета необходимо также создать универсальную группу безопасности SalesUsersAdministrator.

    New-CsAdminRole -Identity "Sales Users Administrator " -Template CsUserAdministrator -UserScopes "OU:OU=Sales, OU=Lync Tenants, DC=Domain, DC=com"

## Создание новой роли

Чтобы создать роль, предоставляющую доступ к набору командлетов, который не указан ни в одной из предопределенных ролей, или к набору сценариев или модулей, можно опять использовать одну из предопределенных ролей в качестве шаблона. Обратите внимание, что сценарии и модули, которые могут запускать роли, должны храниться в следующих каталогах:

  - Путь к модулю Lync (по умолчанию: C:\\Program Files\\Common Files\\Microsoft Lync Server 2013\\Modules\\Lync)

  - Путь к пользовательскому сценарию (по умолчанию: C:\\Program Files\\Common Files\\Microsoft Lync Server 2013\\AdminScripts)

Для создания новой роли следует использовать командлет **New-CsAdminRole**. Перед выполнением командлета **New-CsAdminRole** необходимо сначала создать базовую универсальную группу безопасности, которая будет связана с этой ролью.

Следующие командлеты выступают в качестве примера создания новой роли. Они служат для создания новой роли с именем `MyHelpDeskScriptRole`. Новая роль обладает возможностями предопределенной роли CsHelpDesk и дополнительно предоставляет возможности выполнения функций в сценарии testscript.

    New-CsAdminRole -Identity "MyHelpDeskScriptRole" -Template CsHelpDesk -ScriptModules @{Add="testScript.ps1"}

Для работы этого командлета необходимо сначала создать универсальную группу безопасности MyHelpDeskScriptRole.

После запуска этого командлета можно назначить пользователей непосредственно этой роли (в этом случае они обладают глобальной областью действия) или создать роль с заданным уровнем на основе этой роли, как описано в разделе "Создание роли с заданным уровнем" ранее в этом документе.

## Назначение ролей пользователям

Каждая роль Lync Server связывается с базовой универсальной группой безопасности Active Directory. Любые пользователи, добавленные в базовую группу, получают возможности, доступные для данной роли.

В примерах, приведенных в предыдущих разделах, описывается процесс создания новой роли и назначения существующей универсальной группы безопасности новой роли. Чтобы назначить существующую роль одному или нескольким пользователям, добавьте этих пользователей в группу, связанную с ролью. В эти группы можно добавлять как отдельных пользователей, так и универсальные группы безопасности.

Например, роль **CsAdministrator** автоматически назначается универсальной группе безопасности **CS Administrators** в Active Directory. Эта универсальная группа безопасности создается в Active Directory при развертывании Lync Server. Чтобы предоставить эту привилегию пользователю или группе, можно просто добавить их в группу **CS Administrators** .

Пользователю можно назначать различные роли RBAC, добавляя его в базовые группы Active Directory, которые соответствуют каждой роли.

Обратите внимание, что при создании роли пользователи, которые позднее добавляются в базовую группу Active Directory, получают все возможности, предоставляемые данной ролью.

## Изменение возможностей роли

Вы можете изменять список командлетов и сценариев, которые может выполнять роль. Можно изменять и командлеты, и сценарии, которые могут выполнять пользовательские роли, но для предопределенных ролей возможно изменение только сценариев. Каждый указываемый командлет может добавлять, удалять или заменять командлеты или сценарии.

Чтобы изменить роль, используйте командлет **Set-CsAdminRole** . Следующий командлет также удаляет один сценарий из роли.

    Set-CsAdminRole -Identity "MyHelpDeskScriptRole" -ScriptModules @{Remove="testScript.ps1"}

## Планирование для RBAC

Тщательно запланируйте, какие задачи должен будет выполнять каждый пользователь, которому предоставляются какие-либо административные права на развертывание Lync Server, а затем назначьте им роли, предоставляющие минимальные привилегии и области действия, которые необходимы для выполнения их рабочих обязанностей. При необходимости используйте командлет **Set-CsAdminRole** для создания новой роли с включением только тех командлетов, которые необходимы для выполнения задач данного пользователя.

Пользователи, обладающие ролью CsAdministrator, могут создавать все типы ролей, включая роли на основе CsAdministrator, и назначать их пользователям. Рекомендуется назначать роль CsAdministrator только крайне ограниченному кругу доверенных пользователей.

