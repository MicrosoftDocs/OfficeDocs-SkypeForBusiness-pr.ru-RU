---
title: 'Lync Server 2013: чтение журналов записи из службы централизованного ведения журналов'
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
f1.keywords:
- NOCSH
TOCTitle: Reading capture logs from the Centralized Logging Service
ms:assetid: c86ccf61-d86f-4ebd-b8d1-984a1b73005d
ms:mtpsurl: https://technet.microsoft.com/en-us/library/JJ721879(v=OCS.15)
ms:contentKeyID: 49733813
ms.date: 12/29/2016
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: 1058f48ede85067ac0aeefc3c8dab329bf042ef8
ms.sourcegitcommit: 4d6bf5c58b2c553dc1df8375ede4a9cb9eaadff2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "48512036"
---
# <a name="reading-capture-logs-from-the-centralized-logging-service-in-lync-server-2013"></a>Чтение журналов записи из службы централизованного ведения журналов в Lync Server 2013

<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="https://msdn.microsoft.com/">

<div data-asp="https://msdn2.microsoft.com/asp">



</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

_**Последнее изменение темы:** 2016-12-28_

Вы осознаете реальную пользу централизованной службы ведения журналов после выполнения поиска, и у вас есть файл, который можно использовать для отслеживания обнаруженной проблемы. Существует несколько способов чтения файла. Выходной файл находится в стандартном текстовом формате, и вы можете использовать Notepad.exe или другие программы, позволяющие открыть и прочитать текстовый файл. Для больших файлов и более сложных проблем можно использовать такие средства, как Snooper.exe, предназначенные для чтения и анализа выходных данных журнала из службы централизованного ведения журналов. Snooper входит в состав средств отладки Lync Server 2013, которые можно загрузить отдельно. Вы можете скачать инструменты отладки Lync Server 2013 здесь: [https://go.microsoft.com/fwlink/?LinkId=285257](https://go.microsoft.com/fwlink/?linkid=285257) . При установке средств отладки Lync Server 2013, ярлыки сокращений и пункты меню не создаются. После установки средств отладки Lync Server 2013 откройте проводник Windows, окно командной строки или командную консоль Lync Server и перейдите к каталогу (расположение по умолчанию) C: \\ Program Files \\ Microsoft Lync Server 2013 \\ средства отладки. Дважды щелкните Snooper.exe или введите Snooper.exe, а затем нажмите клавишу ВВОД, если используется Командная строка или Командная консоль Lync Server.

<div>


> [!IMPORTANT]  
> Цель этого раздела — не подробное описание способов устранения неполадок. Устранение неполадок и процессы, связанные с ней, — сложная тема. Для получения подробных сведений об устранении неполадок и устранении неполадок в определенных рабочих нагрузках обратитесь к книге Office Lync Server 2010 Resource Kit по адресу <A href="https://go.microsoft.com/fwlink/p/?linkid=211003">https://go.microsoft.com/fwlink/p/?linkId=211003</A> . Процессы и процедуры по-прежнему применяются к Lync Server 2013.



</div>

Lync Server 2013 содержит обновленную версию Snooper, которая включает некоторые новые функции. На следующем снимке экрана показана версия Snooper из Office Communications Server 2007.

![Office Communications 2007 версии Snooper.](images/JJ721879.129503a8-8edd-4bb0-a68f-c43f9a548b93(OCS.15).jpg "Office Communications 2007 версии Snooper.")

На следующем снимке экрана показана новая версия Snooper, включенная в средства отладки Lync Server 2013.

![Lync Server 2013 версии Snooper.](images/JJ721879.131495dd-8220-4ae4-af37-0ac5c318fd45(OCS.15).jpg "Lync Server 2013 версии Snooper.")

На следующем снимке экрана показана панель инструментов с часто используемыми функциями.

![Панель инструментов Snooper 2013.](images/JJ721879.989249c5-a33e-4251-b8b4-411019cc12b2(OCS.15).jpg "Панель инструментов Snooper 2013.")

И последним компонентом, добавляющим значение, является представление диаграммы "блок-схема (звонок)". Вы выбираете процесс обработки сообщений на вкладке **сообщение** и нажимайте кнопку **подавать запрос** . По мере продвижения по сообщениям схема "процесс обработки вызовов" обновляет новые данные.

![Схема последовательности вызовов Snooper 2013.](images/JJ721879.bb8be45d-a842-48fe-86f8-380207d70bab(OCS.15).jpg "Схема последовательности вызовов Snooper 2013.")

Вы можете навести указатель мыши на представление схемы и получить сведения о сообщениях и содержимом потоков и сообщений, а также серверных элементов. Щелкните стрелку на любой из походящих вызовов, чтобы перейти к сообщению в представлении сообщения.

![Сведения о схеме "последовательность вызовов" сообщения.](images/JJ721879.1147d720-38a9-4bda-8361-78f27ecde3d1(OCS.15).jpg "Сведения о схеме "последовательность вызовов" сообщения.")

<div>

## <a name="to-open-a-log-file-in-snooper"></a>Открытие файла журнала в Snooper

1.  Для использования Snooper и открытия файлов журнала необходим доступ для чтения к файлам журнала. Чтобы использовать Snooper и получать доступ к файлам журнала, необходимо быть участником групп безопасности CsAdministrator или CsServerAdministrator управления доступом на основе ролей (RBAC) или настраиваемой роли RBAC, которая содержит любую из этих групп.

2.  После установки средств отладки Lync Server (LyncDebugTools.msi) измените каталог на расположение Snooper.exe с помощью проводника Windows или из командной строки. По умолчанию инструменты отладки расположены в C: \\ Program Files \\ Microsoft Lync Server 2013 \\ Tools. Дважды щелкните или запустите Snooper.exe.

3.  После открытия Snooper щелкните правой кнопкой мыши **файл**, выберите команду **OpenFile**, найдите файлы журнала, выберите нужный файл в диалоговом окне **Открыть** , а затем нажмите кнопку **Открыть**.

4.  Сообщения **трассировки** файла журнала отображаются на вкладке **Трассировка** . Щелкните вкладку **Messages (сообщения** ), чтобы просмотреть содержимое собранных трассировок.

</div>

<div>

## <a name="to-display-a-call-flow-diagram"></a>Отображение схемы последовательности вызовов

1.  Для использования Snooper и открытия файлов журнала необходим доступ для чтения к файлам журнала. Чтобы использовать Snooper и получать доступ к файлам журнала, необходимо быть участником групп безопасности CsAdministrator или CsServerAdministrator управления доступом на основе ролей (RBAC) или настраиваемой роли RBAC, которая содержит любую из этих двух групп.

2.  Откройте файл журнала и перейдите на вкладку **сообщения** , выберите беседу в представлении сообщения или выберите компонент трассировки на вкладке **Трассировка** .

3.  Нажмите кнопку **Flow Call (вызов**).
    
    <div>
    

    > [!NOTE]  
    > Если щелкнуть сообщение или трассировку, которые не входят в последовательность вызовов, схема не будет отображаться, а в нижней части Snooper появляется сообщение о состоянии "это сообщение не подходит для каллфов". Выберите другое сообщение или трассировку, и он будет отображаться, если сообщение или трассировка входят в последовательность вызовов.

    
    </div>

4.  Перемещение по сообщениям или строкам трассировки и обратите внимание на то, что схема "последовательность вызовов" обновляет или изменяет, чтобы отобразить новую схему.

5.  Наведите указатель мыши на элемент, чтобы получить сведения о сообщениях вызовов, конечных точках и других компонентах.

</div>

</div>

<span> </span>

</div>

</div>

</div>

