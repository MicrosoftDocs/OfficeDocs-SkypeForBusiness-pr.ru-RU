---
title: Управление проверкой подлинности между серверами (OAuth) и партнерским приложением
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
f1.keywords:
- NOCSH
TOCTitle: Managing server-to-server authentication (OAuth) and partner applications
ms:assetid: 38848373-c8c6-4097-bf7f-699fe471348d
ms:mtpsurl: https://technet.microsoft.com/en-us/library/JJ204817(v=OCS.15)
ms:contentKeyID: 48183894
ms.date: 05/15/2015
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: 33f382fcbed7316948a865e7e7c75cf518b157fb
ms.sourcegitcommit: 831d141dfc5a49dd764cb296b73b63e5a9f8e599
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/21/2020
ms.locfileid: "42185522"
---
<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="https://msdn.microsoft.com/">

<div data-asp="https://msdn2.microsoft.com/asp">

# <a name="managing-server-to-server-authentication-oauth-and-partner-applications-in-lync-server-2013"></a>Управление проверкой подлинности между серверами (OAuth) и партнерским приложением в Lync Server 2013

</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

_**Последнее изменение темы:** 2015-05-14_

Microsoft Lync Server 2013 должен обеспечивать безопасное и эффективное взаимодействие с другими приложениями и серверными продуктами. Например, вы можете настроить Lync Server 2013 таким образом, чтобы данные контактов и/или архивные данные хранились в Microsoft Exchange Server 2013; Тем не менее, это можно сделать только в том случае, если Lync Server и Exchange могут безопасно общаться друг с другом. Аналогичным образом можно запланировать конференцию Lync Server на сервере Microsoft SharePoint Server; однако опять же это возможно только при наличии взаимных отношений доверия между этими двумя серверами (SharePoint и Lync Server). Хотя можно использовать один механизм проверки подлинности для взаимодействия Lync с Exchange и другой — для взаимодействия Lync с SharePoint, более эффективным подходом является использование стандартного метода для межсерверной проверки подлинности и авторизации.

Один стандартизированный метод проверки подлинности "сервер-сервер" — это подход, выполняемый Lync Server 2013. В выпуске 2013 Lync Server 2013 (а также другие серверные продукты Майкрософт, в том числе Exchange 2013 и Microsoft SharePoint Server) поддерживают протокол OAuth (открытая авторизация) для проверки подлинности и авторизации "сервер-сервер". При использовании OAuth стандартным протоколом авторизации, используемым для ряда основных сайтов, учетные данные пользователя и пароли не передаются с одного компьютера на другой. Вместо этого проверка подлинности и авторизация основаны на обмене маркерами безопасности, которые предоставляют доступ к определенному набору ресурсов в течение определенного промежутка времени.

Как правило, проверка подлинность OAuth включает три компонента: отдельный сервер авторизации и две области, которые должны взаимодействовать друг с другом. (Вы также можете выполнять проверку подлинности "сервер-сервер", не используя сервер авторизации, процесс, который будет обсуждаться далее в этом документе.) Токены безопасности выдаются сервером авторизации (также называется сервером маркеров безопасности) в две сферы, которые необходимы для обмена сообщениями; Эти маркеры проверки того, что связь, поступающие из одной области, должна быть доверенной для другой области. Например, сервер авторизации может выдать маркеры, которые проверяют, что пользователи из определенной области Lync Server 2013 могут получить доступ к заданной области Exchange 2013, и наоборот.

<div>


> [!NOTE]
> Область представляет собой просто контейнер безопасности. По умолчанию Lync Server 2013 использует домен SIP по умолчанию в качестве области OAuth. Дополнительные пространства имен SIP добавляются в список альтернативных имен субъектов в сертификате OAuth.



</div>

Lync Server 2013 поддерживает три сценария проверки подлинности между серверами. С помощью Lync Server 2013 вы можете:

  - Настройка межсерверной проверки подлинности между локальной установкой Lync Server 2013 и локальной установкой Exchange 2013 и/или Microsoft SharePoint Server.

  - Настройка межсерверной проверки подлинности между двумя компонентами Office 365 (например, между Microsoft Exchange и Microsoft Lync Server или между Microsoft Lync Server и Microsoft SharePoint).

  - Настраивать межсерверную проверку подлинности в распределенной среде (то есть межсерверную проверку подлинности между локальным сервером и компонентом 365).

Обратите внимание на то, что на данный момент времени только Exchange 2013, SharePoint Server и Lync Server 2013 поддерживает проверку подлинности между серверами; Если вы не используете один из этих серверов, вы не сможете полностью реализовать проверку подлинности OAuth.

Кроме того, следует обратить внимание на то, что не требуется использовать проверку подлинности "сервер-сервер": проверка подлинности между серверами не требуется для развертывания Lync Server 2013. Если Lync Server 2013 не требуется связываться с другими серверами (например, Exchange 2013), то проверка подлинности "сервер-сервер" не требуется.

Однако межсерверная проверка подлинности необходимо, если вы хотите использовать некоторые новые функции сервера Lync Server, например «универсальное хранилище контактов». В едином хранилище контактов сведения о контакте для Lync Server 2013 хранятся в Exchange 2013, а не в Lync Server; Это позволяет пользователям иметь единый набор контактов, доступных в Lync, Microsoft Outlook или Microsoft Outlook Web Access. Так как в едином хранилище контактов требуется Lync Server 2013 для обмена данными с Exchange 2013, необходимо использовать проверку подлинности "сервер-сервер", чтобы развернуть эту функцию. Проверка подлинности "сервер-сервер" также необходима, если вы решили использовать архивацию Exchange, в которой расшифровки сеансов обмена мгновенными сообщениями сохраняются как сообщения Exchange 2013, а не как отдельные записи базы данных.

Для обмена данными с аналогом Exchange в версии Office 365 Lync Server 2013 сначала необходимо получить маркер безопасности от сервера авторизации. Затем Lync Server использует этот маркер безопасности для идентификации в Exchange. Для связи с Lync Server 2013 в версии Office 365 Exchange необходимо выполнить один и тот же процесс.

Однако для локальной межсерверной проверки подлинности, осуществляемой между двумя серверами Майкрософт, использование стороннего сервера маркеров. Серверные продукты, такие как Lync Server 2013 и Exchange 2013, имеют встроенный сервер маркеров, который можно использовать для проверки подлинности с другими серверами Майкрософт (например, SharePoint Server), поддерживающими проверку подлинности "сервер-сервер". Например, Lync Server 2013 может сам создать и подписать токен безопасности, с помощью которого затем установит связь с Exchange 2013. В таком случае использовать сторонний сервер токенов не нужно.

Чтобы настроить межсерверную проверку подлинности для локальной реализации Lync Server 2013, необходимо выполнить два действия:

  - Назначить сертификат встроенному средству выдачи маркеров Lync Server.

  - Настройте сервер, с которым будет общаться Lync Server 2013, как "партнерское приложение". Например, если Lync Server 2013 должен обмениваться данными с Exchange 2013, необходимо настроить Exchange для использования в качестве партнерского приложения.

<div>


> [!NOTE]
> "Партнерское приложение" — это любое приложение, с помощью которого Lync Server 2013 может напрямую обмениваться маркерами безопасности, без необходимости проходить от стороннего сервера маркеров безопасности.



</div>

Обратите внимание, что OAuth является основной частью продукта и не может быть отключен или удален.

<div>

## <a name="see-also"></a>См. также


[Назначение сертификата проверки подлинности между серверами серверу Microsoft Lync Server 2013](lync-server-2013-assigning-a-server-to-server-authentication-certificate-to-lync-server-2013.md)  
[Настройка Microsoft Lync Server 2013 в распределенной среде](lync-server-2013-configuring-lync-server-in-a-cross-premises-environment.md)  
  

</div>

</div>

<span> </span>

</div>

</div>

</div>

