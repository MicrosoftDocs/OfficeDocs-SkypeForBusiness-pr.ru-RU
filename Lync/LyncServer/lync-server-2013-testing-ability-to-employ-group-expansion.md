---
title: 'Lync Server 2013: Проверка возможности развертывания групп'
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
TOCTitle: Testing ability to employ group expansion
ms:assetid: 9b0fc954-6f9c-411a-ab32-94ebabc42de2
ms:mtpsurl: https://technet.microsoft.com/en-us/library/Dn743836(v=OCS.15)
ms:contentKeyID: 63969634
ms.date: 01/27/2015
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: f99be38a906c508346f580b36d055ccba86a168e
ms.sourcegitcommit: bb53f131fabb03a66f0d000f8ba668fbad190778
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/11/2019
ms.locfileid: "34849413"
---
<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="http://msdn.microsoft.com/en-us/">

<div data-asp="http://msdn2.microsoft.com/asp">

# <a name="testing-ability-to-employ-group-expansion-in-lync-server-2013"></a>Тестирование возможности развертывания групп в Lync Server 2013

</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

_**Тема последнего изменения:** 2014-06-05_


<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p>Расписание проверки</p></td>
<td><p>Ежедневно</p></td>
</tr>
<tr class="even">
<td><p>Средство тестирования</p></td>
<td><p>Windows PowerShell</p></td>
</tr>
<tr class="odd">
<td><p>Требуемые разрешения</p></td>
<td><p>При локальном запуске с помощью командной консоли Lync Server пользователи должны быть членами группы безопасности Рткуниверсалсерверадминс.</p>
<p>При запуске с помощью удаленного экземпляра Windows PowerShell пользователям должна быть назначена роль RBAC, имеющая разрешение на запуск командлета Test-Ксграупекспансион. Чтобы просмотреть список всех ролей RBAC, которые могут использовать этот командлет, выполните в командной строке Windows PowerShell следующую команду:</p>
<pre><code>Get-CsAdminRole | Where-Object {$_.Cmdlets -match &quot;Test-CsGroupExpansion&quot;}</code></pre></td>
</tr>
</tbody>
</table>


<div>

## <a name="description"></a>Описание

Командлет Test-Ксграупекспансион позволяет определить, работает ли расширение групп в Организации. Если включено расширение группы, пользователи настраивают группы рассылки как контакты. Это означает, что пользователи смогут отправить одно и то же мгновенное сообщение всем участникам группы, направив сообщение группе, а не отдельным участникам этой группы. Расширение групп позволяет быстро и легко просмотреть всех участников группы и их текущее состояние.

С помощью командлета Test-Ксграупекспансион вы указываете группу рассылки Active Directory, используя адрес электронной почты группы. После этого в Ксграупекспансион используется расширение группы, чтобы получить сведения о членстве в группах и сравнить полученный список с членством в указанном адресе электронной почты группы. Если два списка соответствуют друг другу, то расширение группы работает правильно. Обратите внимание, что вы можете протестировать расширение группы двумя способами: Протестируйте саму службу или проверяя связанную веб-службу.

Дополнительные сведения можно найти в справочной документации по командлету [Test-ксграупекспансион](https://docs.microsoft.com/powershell/module/skype/Test-CsGroupExpansion) .

</div>

<div>

## <a name="running-the-test"></a>Выполнение теста

Командлет Test-Ксграупекспансион можно выполнить с помощью предварительно настроенной тестовой учетной записи (см. раздел Настройка тестовых учетных записей для выполнения тестов Lync Server) или учетной записи пользователя, который был включен для Lync Server. Для выполнения этой проверки с помощью тестовой учетной записи необходимо указать полное доменное имя тестируемого пула сервера Lync и адрес электронной почты для действительной группы рассылки. Например:

    Test-CsGroupExpansion -TargetFqdn "atl-cs-001.litwareinc.com" -GroupEmailAddress "Sales@litwareinc.com"

Чтобы выполнить эту проверку с использованием реальной учетной записи пользователя, необходимо сначала создать объект учетных данных Lync Server, содержащий имя учетной записи и пароль. Затем необходимо добавить этот объект учетных данных и адрес SIP, назначенный учетной записи, когда система вызывает Test-Ксграупекспансион:

    $credential = Get-Credential "litwareinc\kenmyer"
    Test-CsGroupExpansion -TargetFqdn "atl-cs-001.litwareinc.com" -GroupEmailAddress "Sales@litwareinc.com" -UserSipAddress "sip:kenmyer@litwareinc.com" -UserCredential $credential

Дополнительные сведения можно найти в справочной документации по командлету [Test-ксграупекспансион](https://docs.microsoft.com/powershell/module/skype/Test-CsGroupExpansion) .

</div>

<div>

## <a name="determining-success-or-failure"></a>Определение успеха или сбоя

Если указанный пользователь может использовать расширение группы, вы будете получать выходные данные, аналогичные этим, с помощью свойства Result, помеченного как **успешно.**

Таржетури:https://atl-cs-001.litwareinc.com:443/groupexpansion/service.svc

Таржетфкдн: atl-cs-001.litwareinc.com

Результат: успех

Задержка: 00:00:01.1234976

Ошибки

Диагностик

Если указанный пользователь не может использовать расширение группы, результат будет показан как сбой, а дополнительные сведения будут записаны в свойствах Error и диагноз.

Таржетури:https://atl-cs-001.litwareinc.com:443/groupexpansion/service.svc

Таржетфкдн: atl-cs-001.litwareinc.com

Результат: сбой

Задержка: 00:00:00

Ошибки

Диагностик

Test-Ксграупекспансион: не удалось зарегистрировать конечную точку. Ознакомьтесь с ErrorCode по конкретной причине.

В предыдущем выводе говорится, что тест завершился сбоем, так как указанный пользователь не смог зарегистрироваться в Lync Server. Обычно это происходит, если учетная запись пользователя не существует или не включена в Lync Server. Вы можете проверить существование учетной записи и определить, включена ли учетная запись для NM-OCS-14-3, выполнив команду, подобную следующей:

    Get-CsUser -Identity "sip:kenmyer@litwareinc.com" | Select-Object SipAddress, Enabled

Если при выполнении теста-Ксграупекспансион происходит сбой, может потребоваться повторный запуск теста, в том числе параметр подробно:

    Test-CsGroupExpansion -TargetFqdn "atl-cs-001.litwareinc.com" -GroupEmailAddress "Sales@litwareinc.com" -Verbose

При включенном параметре "подробный" — Ксграупекспансион возвращает пошаговые учетные записи всех действий, которые он пытался войти на сервер Lync Server. Например, эти выходные данные указывают на то, что не удалось найти указанную группу рассылки:

Попытка получить веб-билет.

URL веб-службы:https://atl-cs-001.litwareinc.com:443/WebTicket/WebTicketService.svc

Использование проверки подлинности NTLM/керб.

Жетвебтиккетактивити завершен.

Начато действие "Верифидистрибутионлист".

Состояние ответа веб-службы ДЛКС: Нотфаунд.

Действие "Верифидистрибутионлист" завершено в течение "0,2597923" сек.

</div>

<div>

## <a name="reasons-why-the-test-might-have-failed"></a>Причины, по которым может произойти сбой теста

Ниже приведены некоторые распространенные причины, по которым может произойти сбой Test-Ксграупекспансион:

  - Вы указали недопустимую учетную запись пользователя. Для проверки существования учетной записи пользователя можно выполнить следующую команду:
    
        Get-CsUser "sip:kenmyer@litwareinc.com"

  - Учетная запись пользователя верна, но в настоящее время учетная запись не включена для Lync Server. Чтобы убедиться в том, что учетная запись пользователя включена для Lync Server, выполните команду, подобную следующей:
    
        Get-CsUser "sip:kenmyer@litwareinc.com" | Select-Object Enabled
    
    Если для свойства Enabled задано значение false, это означает, что пользователь в настоящее время не поддерживает Lync Server.

  - Возможно, отключено расширение групп. Можно отключить развертывание групп. Если расширение группы было отключено, командлет Test-Ксграупекспансион завершится сбоем. Чтобы определить, включено ли расширение группы, выполните следующую команду:
    
        Get-CsWebServiceConfiguration | Select-Object Identity, EnableGroupExpansion

</div>

</div>

<span> </span>

</div>

</div>

</div>

