---
title: 'Lync Server 2013: Мониторинг производительности Lync Server'
ms.reviewer: ''
ms.author: v-lanac
author: lanachin
f1.keywords:
- NOCSH
TOCTitle: Monitoring Lync Server 2013 performance
ms:assetid: 2acfd720-6120-4816-a2d4-30476bd5cd0e
ms:mtpsurl: https://technet.microsoft.com/en-us/library/Dn720910(v=OCS.15)
ms:contentKeyID: 63969592
ms.date: 01/27/2015
manager: serdars
mtps_version: v=OCS.15
ms.openlocfilehash: 0db9afa670cd21428a3dc4f4c812240abaa10468
ms.sourcegitcommit: 4d6bf5c58b2c553dc1df8375ede4a9cb9eaadff2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/16/2020
ms.locfileid: "48531916"
---
# <a name="monitoring-lync-server-2013-performance"></a><span data-ttu-id="5e0a7-102">Мониторинг производительности Lync Server 2013</span><span class="sxs-lookup"><span data-stu-id="5e0a7-102">Monitoring Lync Server 2013 performance</span></span>

<div data-xmlns="http://www.w3.org/1999/xhtml">

<div class="topic" data-xmlns="http://www.w3.org/1999/xhtml" data-msxsl="urn:schemas-microsoft-com:xslt" data-cs="https://msdn.microsoft.com/">

<div data-asp="https://msdn2.microsoft.com/asp">



</div>

<div id="mainSection">

<div id="mainBody">

<span> </span>

<span data-ttu-id="5e0a7-103">_**Последнее изменение темы:** 2014-05-15_</span><span class="sxs-lookup"><span data-stu-id="5e0a7-103">_**Topic Last Modified:** 2014-05-15_</span></span>

<span data-ttu-id="5e0a7-104">Производительность Lync Server 2013 зависит от различных факторов, таких как профили пользователей, системная архитектура, программное обеспечение, аппаратные компоненты, сторонние точки интеграции, такие как шлюзы и оборудование для телефонии, сетевое подключение и производительность, конфигурация и производительность службы Windows Active Directory, а также функциональность операционной системы Windows.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-104">Lync Server 2013 performance is affected by various factors such as user profiles, system architecture, software, hardware components, third-party integration points such as gateways and telephony equipment, network connectivity and performance, Windows Active Directory service configuration and performance in addition to the Windows operating system functionality.</span></span>

<span data-ttu-id="5e0a7-105">В ядре Lync Server 2013 deployments Performance — программное обеспечение сервера и оборудование, на котором он реализован.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-105">At the core of a Lync Server 2013 deployments’ performance is the server software and hardware it is implemented on.</span></span> <span data-ttu-id="5e0a7-106">Например, на внешнем сервере должны быть достаточно аппаратных ресурсов для работы с ожидаемой (краткосрочной) пользовательской нагрузкой.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-106">As an example, a front-end server must have sufficient hardware resources to cope with the expected (short-term) user load.</span></span> <span data-ttu-id="5e0a7-107">Если для предоставления услуг 10000 пользователям необходим соответствующий интерфейсный сервер, то соответствующий сервер должен удовлетворять ожидаемым требованиям к нагрузке, чтобы обеспечить максимально возможный опыт работы конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-107">If a respective front-end server is required to provide services to 10 thousand users, then an adequately configured server must meet the expected load requirements to ultimately help ensure the best possible end-user experience.</span></span>

<span data-ttu-id="5e0a7-108">Таким образом, для наблюдения за производительностью сервера очень важно определить, есть ли в реализованной серверной инфраструктуре аппаратные ресурсы в течение повседневных пиковых требований нагрузки.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-108">Monitoring server performance is therefore extremely important to gauge whether the implemented server infrastructure have suitable hardware resources for the day-to-day peak-load requirements.</span></span> <span data-ttu-id="5e0a7-109">Мониторинг производительности сервера помогает определить узкие места системы, что позволяет администраторам применять корректирующие действия до того, как это повлияет на работу конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-109">Monitoring server performance helps identify system bottlenecks allowing administrators to apply corrective action before the end-user experience is affected.</span></span> <span data-ttu-id="5e0a7-110">Данные о производительности следует использовать для долгосрочного планирования мощности.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-110">The performance data should be used for long-term capacity planning.</span></span>

<span data-ttu-id="5e0a7-111">Несмотря на то, что подробные сведения обо всех объектах и счетчиках производительности, которые необходимо отслеживать, связаны с [системой мониторинга Lync Server 2013 с помощью System Center Operations Manager](lync-server-2013-monitoring-lync-server-with-system-center-operations-manager.md), некоторые счетчики производительности, которые следует выполнить, могут предоставить администраторам краткий обзор производительности системы:</span><span class="sxs-lookup"><span data-stu-id="5e0a7-111">While detailed information on all performance objects and counters to be observed is linked to in [Monitoring Lync Server 2013 with System Center Operations Manager](lync-server-2013-monitoring-lync-server-with-system-center-operations-manager.md), some performance counters that you should follow can provide administrators a quick view of the system performance:</span></span>

  - <span data-ttu-id="5e0a7-112">Чтобы отслеживать общую работоспособность системы на сервере переднего плана, хорошей отправной точкой является проверка процессорного \\ времени процессора.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-112">To track overall system health of the front-end server, a good starting point is to check Processor\\% Processor Time.</span></span> <span data-ttu-id="5e0a7-113">Значение всегда должно быть меньше 80 процентов.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-113">The value should always be below 80 percent.</span></span>

  - <span data-ttu-id="5e0a7-114">Чтобы отслеживать производительность экземпляра программного обеспечения базы данных SQL Server, используемого интерфейсным пулом, отслеживайте следующие счетчики производительности:</span><span class="sxs-lookup"><span data-stu-id="5e0a7-114">To track the performance of the back end SQL Server database software instance used by the Front End pool, monitor the following performance counters:</span></span>
    
    <span data-ttu-id="5e0a7-115">LC: Усрв – 00 – Дбсторе \\ усрв – 002 – задержка очереди (МС)</span><span class="sxs-lookup"><span data-stu-id="5e0a7-115">LC:USrv – 00 – DBStore\\Usrv – 002 – Queue Latency (msec)</span></span>
    
    <span data-ttu-id="5e0a7-116">LC: Усрв – 00 – Дбсторе \\ усрв – 0 04 – спрок задержка (МС)</span><span class="sxs-lookup"><span data-stu-id="5e0a7-116">LC:USrv – 00 – DBStore\\Usrv – 0 04– Sproc Latency (msec)</span></span>
    
    <span data-ttu-id="5e0a7-117">Работоспособный сервер в стабильном состоянии должен отображать \< значения задержки 100 мс.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-117">The healthy server at steady state should show \<100 ms latency values.</span></span> <span data-ttu-id="5e0a7-118">Механизм регулирования будет действовать, когда задержка достигнет 12 секунд, а это означает, что сервер переднего плана начинает регулирование запросы к серверному концу.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-118">The throttling mechanism will engage when latency reaches 12 seconds, which means the front-end server starts throttling requests to the back end.</span></span> <span data-ttu-id="5e0a7-119">Это приводит к тому, что клиенты начинают получать сообщение об ошибке сервера 503.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-119">This causes clients to start to receive a 503 Server too busy error message.</span></span>

  - <span data-ttu-id="5e0a7-120">Чтобы отслеживать время обработки на сервере переднего плана, следует наблюдать за следующим счетчиком:</span><span class="sxs-lookup"><span data-stu-id="5e0a7-120">To track the processing time at the front-end server, monitor the following counter:</span></span>
    
    <span data-ttu-id="5e0a7-121">LC: SIP — 07 — SIP Management \\ SIP — среднее время хранения для входящих сообщений</span><span class="sxs-lookup"><span data-stu-id="5e0a7-121">LC:SIP - 07 - Load Management\\SIP - 000 - Average Holding Time For Incoming Messages</span></span>
    
    <span data-ttu-id="5e0a7-122">Это еще один механизм регулирования на интерфейсных серверах, который запускается при высоком времени обработки на сервере переднего плана.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-122">This is another throttling mechanism on the front-end servers, this time starting when the processing time on the front end is high.</span></span> <span data-ttu-id="5e0a7-123">Если среднее время обработки составляет более шести секунд, сервер переводится в режим регулирования и разрешает только одну незавершенную транзакцию для каждого клиентского подключения.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-123">If average processing time is more than six seconds, the server goes into throttling mode and only allows one outstanding transaction per client connection.</span></span>

  - <span data-ttu-id="5e0a7-124">Чтобы отслеживать проблемы с памятью на внутреннем сервере SQL Server, следите за следующим счетчиком:</span><span class="sxs-lookup"><span data-stu-id="5e0a7-124">To track memory issues at SQL Back End Server, monitor the following counter:</span></span>
    
    <span data-ttu-id="5e0a7-125">\\Ожидаемый срок жизни страниц диспетчера буферов SQL Server</span><span class="sxs-lookup"><span data-stu-id="5e0a7-125">SQL Server Buffer Manager\\Page life expectancy</span></span>
    
    <span data-ttu-id="5e0a7-126">Минимальное значение, которое меньше 3600 секунд (вместе с большим количеством операций записи/сек и страниц контрольных точек/сек), указывает на нехватку памяти.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-126">A low value, below 3600 seconds (together with high latency writes/sec and checkpoint pages/sec) indicates memory pressure.</span></span>

<div>

## <a name="additional-counters-to-view"></a><span data-ttu-id="5e0a7-127">Дополнительные счетчики для просмотра</span><span class="sxs-lookup"><span data-stu-id="5e0a7-127">Additional Counters to View</span></span>

<span data-ttu-id="5e0a7-128">Существует несколько ключевых счетчиков, которые являются хорошим индикатором общей работоспособности сервера переднего плана.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-128">There are several key counters that are good indicators of overall health from the front end server.</span></span> <span data-ttu-id="5e0a7-129">Этот список не является исчерпывающим и не предназначен для определения основной причины.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-129">This is not a comprehensive list and is not meant to identify root cause.</span></span> <span data-ttu-id="5e0a7-130">Эти счетчики позволяют выполнить быструю проверку работоспособности сервера.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-130">These counters will let you perform a quick check on your server health.</span></span> <span data-ttu-id="5e0a7-131">Мы рекомендуем проверить эти счетчики на каждом из серверов в пуле.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-131">We recommend verifying these counters on each of the servers in the pool.</span></span> <span data-ttu-id="5e0a7-132">Важно понимать, что такое значения счетчиков в работоспособности сервера.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-132">It is important to understand what these counter values are when your server is healthy.</span></span> <span data-ttu-id="5e0a7-133">Базовый план необходим для того, чтобы узнать, какие изменения были внесены при снижении уровня взаимодействия с пользователем.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-133">A baseline is required to understand what changed when the user experience is degraded.</span></span>

<span data-ttu-id="5e0a7-134">Сервер переднего плана может указывать на проблемы, которые могут быть вызваны узкими местами в системе.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-134">The front-end server can indicate issues that may be caused by bottlenecks elsewhere in the system.</span></span> <span data-ttu-id="5e0a7-135">Это означает, что это лучшее место для запуска при просмотре общей работоспособности системы.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-135">This means that it is the best place to start when looking at overall system health.</span></span>

<span data-ttu-id="5e0a7-136">В первую очередь необходимо проверить два дополнительных счетчика:</span><span class="sxs-lookup"><span data-stu-id="5e0a7-136">Two additional counters to review first are as follows:</span></span>

<span data-ttu-id="5e0a7-137">LC: Усрв-00-Дбсторе \\ усрв-002 — задержка очереди (МС)</span><span class="sxs-lookup"><span data-stu-id="5e0a7-137">LC:USrv-00-DBStore\\Usrv-002-Queue Latency (msec)</span></span>

<span data-ttu-id="5e0a7-138">LC: Усрв-00-Дбсторе \\ усрв-004-спрок (МС)</span><span class="sxs-lookup"><span data-stu-id="5e0a7-138">LC:USrv-00-DBStore\\Usrv-004-Sproc Latency (msec)</span></span>

<span data-ttu-id="5e0a7-139">Счетчик "Задержка очереди" представляет время, затраченное на выполнение запроса в очереди на серверный сервер, а задержка спрок — время, затраченное на обработку запроса в серверной части.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-139">The queue latency counter represents the time that a request spent in the queue to the back end and the Sproc latency represents the time that it took for the back end to process the request.</span></span> <span data-ttu-id="5e0a7-140">Если по какой либо причине возникают проблемы с диском, памятью, сетью и процессором в серверном интерфейсе, счетчик задержки очереди будет большим.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-140">If, for any reason, disk, memory, network, and processor on the back end are in trouble, the queue latency counter will be high.</span></span>

<span data-ttu-id="5e0a7-141">Кроме того, это может быть высокая при наличии высокой сетевой задержки между интерфейсным сервером и серверным интерфейсом.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-141">It can also be high if there is high network latency between the front end and the back end.</span></span> <span data-ttu-id="5e0a7-142">Так какова допустимая задержка очереди?</span><span class="sxs-lookup"><span data-stu-id="5e0a7-142">So what is acceptable queue latency?</span></span>

<span data-ttu-id="5e0a7-143">На 12 секунд серверы переднего плана начинают регулировать запросы к внутренним серверам.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-143">At 12 seconds, the Front End Servers start throttling requests to the Back End Servers.</span></span> <span data-ttu-id="5e0a7-144">Это означает, что серверы, которые начнут возвращать сервер, слишком заняты — 503 ошибок для клиентов.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-144">This means the servers start returning Server too busy – 503 errors to the clients.</span></span> <span data-ttu-id="5e0a7-145">Работоспособный сервер должен иметь менее 100 мс задержки в очереди в стабильном состоянии, но в то время, когда сервер только что поступил в сеть и одновременно входит в сеть, этот счетчик может быть очень большим и может даже отображаться в течение нескольких секунд.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-145">A healthy server should have less than 100 msec DBStore queue latencies at steady state, but during times where the server has just come online and users are all logging in at the same time, that counter can be very high and you may even see it hit multiple seconds.</span></span>

<span data-ttu-id="5e0a7-146">У вас может быть конфигурация балансировки нагрузки, в которой имеется пул, развернутый с несколькими серверами переднего плана, и подсистемой балансировки нагрузки, настроенной для "минимального числа подключений".</span><span class="sxs-lookup"><span data-stu-id="5e0a7-146">You may have a load-balanced configuration, where you have a pool deployed with multiple front-end servers and a load balancer that is configured for "least number of connections."</span></span> <span data-ttu-id="5e0a7-147">В этом случае при перезапуске одного сервера переднего плана все пользователи, пытающиеся выполнить повторное подключение, будут указывать на перезапущенный сервер, так как этот сервер будет иметь меньше подключений по сравнению с другими участниками пула.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-147">In this case, if one front-end server is restarted, then all users who attempt to reconnect will be pointed to the restarted server, because that server will have fewer connections compared to the other pool members.</span></span> <span data-ttu-id="5e0a7-148">В течение этого времени соответствующий интерфейсный сервер может быть перегружен, а другие участники пула — нет.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-148">During this time, the respective front-end server may be overloaded while the other pool members are not.</span></span>

<span data-ttu-id="5e0a7-149">Рекомендуется выполнять обслуживание в нерабочее время, чтобы снизить производительность, так как пользователи не будут конкурировать за собой для одновременного подключения к серверу.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-149">We recommend that you perform maintenance during off-hours to reduce the performance affect as users will not all be competing to connect to the server at the same time.</span></span>

<span data-ttu-id="5e0a7-150">Если предыдущие два счетчика производительности высокие, скорее всего, узкое место является сервер переднего план SQL.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-150">If the previous two performance counters are high, the most likely bottleneck is the SQL Back End Server.</span></span> <span data-ttu-id="5e0a7-151">Ниже приведены следующие компоненты для подтверждения.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-151">The next components to confirm are as follows:</span></span>

  - <span data-ttu-id="5e0a7-152">Слишком высокий уровень использования ЦП SQL Server?</span><span class="sxs-lookup"><span data-stu-id="5e0a7-152">Is the SQL Server CPU too high?</span></span> <span data-ttu-id="5e0a7-153">Например, превышает 80 процентов?</span><span class="sxs-lookup"><span data-stu-id="5e0a7-153">For example, is it greater than 80 percent?</span></span>

  - <span data-ttu-id="5e0a7-154">Задается высокая задержка диска?</span><span class="sxs-lookup"><span data-stu-id="5e0a7-154">Is the disk latency high?</span></span>

<span data-ttu-id="5e0a7-155">В идеальном мире достаточно оперативной памяти для хранения баз данных RTC и журнал RTCDYN в памяти.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-155">In an ideal world, you have enough RAM to have both the RTC and RTCDYN databases in memory.</span></span> <span data-ttu-id="5e0a7-156">Затем единственная причина, по которой сервер будет получать доступ к диску, — запись в файлы журнала и сброс в базы данных.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-156">Then, the only reason the server would be accessing the disk, is to write to the log files and flush to the databases.</span></span> <span data-ttu-id="5e0a7-157">В тестах показано, что в 100 000 пользовательских развертываний достаточно 12 ГБ ОЗУ.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-157">Tests have shown that 12 GB of RAM is sufficient for 100 thousand user deployments.</span></span> <span data-ttu-id="5e0a7-158">Предполагается, что суммарный размер баз данных RTC и журнал RTCDYN не превышает 12 ГБ.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-158">This assumes that the RTC and RTCDYN databases size totals less than 12 GB.</span></span> <span data-ttu-id="5e0a7-159">Если размер баз данных превышает это, может потребоваться дополнительная память.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-159">If your databases are larger than that, then you may need additional memory.</span></span>

<span data-ttu-id="5e0a7-160">Чтобы определить, требуется ли серверу SQL Server дополнительную память, просмотрите счетчик производительности "ожидаемый срок службы" на странице диспетчера буферов SQL Server.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-160">You can determine whether your SQL Server requires additional RAM by reviewing the SQL Server Buffer Manager page life expectancy performance counter.</span></span> <span data-ttu-id="5e0a7-161">Значение, меньшее 3 600, указывает на нехватку памяти.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-161">A value less than 3,600 indicates memory pressure.</span></span> <span data-ttu-id="5e0a7-162">Кроме того, при наличии достаточного объема памяти для сервера SQL Server должна быть только запись в базу данных.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-162">You should also see little to no reads on your database drive if you have sufficient memory because SQL Server should only be writing to the database.</span></span>

<span data-ttu-id="5e0a7-163">Существует дополнительный механизм регулирования на сервере переднего плана Lync Server 2013, который запускается, если время обработки сервера велико.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-163">There is an additional throttling mechanism in a Lync Server 2013 Front End Server that starts if the server processing time is high.</span></span> <span data-ttu-id="5e0a7-164">Регулирование задержки Дбсторе включается только в том случае, если задержка на SQL Server высока.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-164">The DBStore latency throttling is only enabled if the latency to the SQL Server is high.</span></span> <span data-ttu-id="5e0a7-165">Один пример, в котором включена регулировка регулирования, заключается в том, что сервер переднего плана имеет ограниченный доступ к ЦП.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-165">One example in which such throttling is enabled is if the front-end server is CPU-bound.</span></span>

<span data-ttu-id="5e0a7-166">Если среднее время обработки **(LC: SIP-07-Load Management \\ SIP-1000 – среднее время хранения для входящих сообщений)** на сервере превышает шесть секунд, сервер переводится в режим регулирования и предоставляет пользователям только одну незавершенную транзакцию для каждого клиентского подключения.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-166">If the average processing time **(LC:SIP-07-Load Management\\SIP-000-Average Holding Time For Incoming Messages)** on the server exceeds six seconds, then the server goes into throttling mode and only gives users one outstanding transaction per client connection.</span></span> <span data-ttu-id="5e0a7-167">Когда время обработки перепадает до трех секунд, сервер выходит из режима регулирования и предоставляет пользователям до 20 незавершенных транзакций на каждое клиентское подключение.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-167">Once the processing time drops to three seconds, then the server drops out of throttling mode and gives users up to 20 outstanding transactions per client connection.</span></span> <span data-ttu-id="5e0a7-168">Если количество транзакций в конкретном подключении превышает пороговое значение, то подключение помечается как управляемое системой управления версиями.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-168">Whenever the number of transactions on a specific connection exceeds the threshold above, the connection is marked as flow controlled.</span></span> <span data-ttu-id="5e0a7-169">В результате сервер не отправляет никаких почтовых получений, а **аккредитивы: Счетчик \\ соединений с контролируемым числом подключений SIP-01-Peer** увеличивается.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-169">The result is the server does not post any receives on it, and the **LC:SIP-01-Peers\\Flow Controlled Connections** counter is incremented.</span></span> <span data-ttu-id="5e0a7-170">Если подключение остается в состоянии, управляемом с помощью нескольких минут, сервер закрывает его.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-170">If a connection stays in a flow-controlled state for more than one minute, then the server closes it.</span></span> <span data-ttu-id="5e0a7-171">Это происходит в неактивном случае.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-171">It does so lazily.</span></span> <span data-ttu-id="5e0a7-172">При наличии возможности проверки подключения он определяет, было ли оно отрегулировано слишком долго, и закрывает его, если он имеет более одной минуты.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-172">When it has an opportunity to check the connection, it determines whether it was throttled for too long and closes it if it has more than one minute.</span></span>

<span data-ttu-id="5e0a7-173">Это два механизма регулирования и один счетчик производительности, который обобщает то, что, если выполняется регулирование сервера.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-173">These are the two throttling mechanisms and there is one performance counter that summarizes what, if any, throttling the server is performing.</span></span>

<span data-ttu-id="5e0a7-174">**LC: SIP-04-Responses \\ SIP-053-Local 503 Responses/sec**</span><span class="sxs-lookup"><span data-stu-id="5e0a7-174">**LC:SIP-04-Responses\\SIP-053-Local 503 Responses/sec**</span></span>

  - <span data-ttu-id="5e0a7-175">Термин "Local" (локальный) в предыдущем счетчике относится к локально созданным ответам.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-175">The term "Local" in the previous counter refers to locally generated responses.</span></span>

  - <span data-ttu-id="5e0a7-176">Код 503 соответствует серверу, на котором не должны отображаться коды 503 на работоспособном сервере.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-176">The 503 code corresponds to server unavailable—where you should not see any 503 codes on a healthy server.</span></span> <span data-ttu-id="5e0a7-177">В течение периода после того как сервер будет просто подключен к сети, вы можете увидеть несколько кодов 503.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-177">During the period after a server is just brought online, you may see some 503 codes.</span></span> <span data-ttu-id="5e0a7-178">После того как все пользователи снова подписываются и сервер возвращается в стабильное состояние, не должно быть дополнительных кодов 503.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-178">When all of the users sign back in and the server returns to a stable state, there should no additional 503 codes.</span></span>

<span data-ttu-id="5e0a7-179">**LC: SIP-04-Responses \\ SIP-074-Local 504 Responses/sec**</span><span class="sxs-lookup"><span data-stu-id="5e0a7-179">**LC:SIP-04-Responses\\SIP-074-Local 504 Responses/sec**</span></span>

<span data-ttu-id="5e0a7-180">Этот счетчик производительности указывает на проблемы с подключением к другим серверам и может указывать на ошибки подключения или задержки при подключении.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-180">This performance counter indicates connectivity issues with other servers and it can indicate failures to connect or delays in connecting.</span></span> <span data-ttu-id="5e0a7-181">Если вы видите ошибки 504, то должен быть установлен следующий счетчик производительности.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-181">If you are seeing 504 errors then the following performance counter should be checked.</span></span>

<span data-ttu-id="5e0a7-182">**LC: SIP – 01 – Peers \\ SIP — 017 — отправка ожидающих**</span><span class="sxs-lookup"><span data-stu-id="5e0a7-182">**LC:SIP-01-Peers\\SIP-017-Sends Outstanding**</span></span>

<span data-ttu-id="5e0a7-183">Этот счетчик показывает количество запросов в очереди и ответов в очереди.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-183">This counter indicates the number of outgoing queued requests and responses.</span></span> <span data-ttu-id="5e0a7-184">Если этот счетчик высок, то проблема, скорее всего, не на локальном сервере.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-184">If this counter is high then the issue is most likely not on the local server.</span></span> <span data-ttu-id="5e0a7-185">Обратите внимание, что при наличии проблем с задержкой в сети этот счетчик может быть высоким.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-185">Note that this counter can be high if there are network latency issues.</span></span> <span data-ttu-id="5e0a7-186">Оно также может указывать на проблемы с сетевым адаптером, но скорее всего вызвано неполадкой на удаленном сервере.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-186">It could also indicate issues with the local network adapter, but is more likely caused by an issue on a remote server.</span></span> <span data-ttu-id="5e0a7-187">Этот счетчик, скорее всего, будет высок на сервере директора при перегрузке пула, с которым он пытается общаться.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-187">This counter would most likely be high on a Director server when the pool it is trying to communicate with is overloaded.</span></span> <span data-ttu-id="5e0a7-188">Ключ с этим счетчиком предназначен для просмотра экземпляров, а не только для общего.</span><span class="sxs-lookup"><span data-stu-id="5e0a7-188">The key with this counter is to look at the instances, not just the total.</span></span>

</div>

</div>

<span> </span>

</div>

</div>

</div>

